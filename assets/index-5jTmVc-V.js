import{i as Fe,g as Oe,r as a,a as R,o as oe,s as V,b as ie,p as de,c as We,u as He,d as Y,j as e,L as D,e as Ve,f as fe,h as re,H as Qe,R as Ge,k as F,l as Ne,m as Ke}from"./vendor-BVGn72gS.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const j of o.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&r(j)}).observe(document,{childList:!0,subtree:!0});function u(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=u(t);fetch(t.href,o)}})();const Ye={apiKey:"AIzaSyBQkgrumfwI49Crnhi9y7wImYzNF3D87sg",authDomain:"safaa-platform.firebaseapp.com",databaseURL:"https://safaa-platform-default-rtdb.firebaseio.com",projectId:"safaa-platform",storageBucket:"safaa-platform.firebasestorage.app",messagingSenderId:"393592099948",appId:"1:393592099948:web:4bf8cf070d411b124a3449",measurementId:"G-6WMNK2PL40"},Xe=Fe(Ye),P=Oe(Xe),ee=[{id:"1st-prep",title:"1st Prep",titleAr:"Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ",image:"sections/1st_prep.jpeg",description:"Explore the basics of matter, energy, and living organisms.",lessons:[]},{id:"2nd-prep",title:"2nd Prep",titleAr:"Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ",image:"sections/2nd_prep.jpeg",description:"Dive deep into periodic tables, waves, and sound mechanics.",lessons:[]},{id:"3rd-prep",title:"3rd Prep",titleAr:"Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ",image:"sections/3rd_prep.jpeg",description:"Master physics, genetics, and the wonders of the universe.",lessons:[]}],te="platform_content";function X(){const[s,d]=a.useState(ee),[u,r]=a.useState(!0);a.useEffect(()=>{const g=R(P,te),m=oe(g,i=>{if(i.exists()){const x=i.val(),b=(Array.isArray(x)?x:Object.values(x)).map(f=>({...f,lessons:f.lessons||[]}));d(b)}else V(g,ee),d(ee);r(!1)},i=>{console.error("Firebase read error:",i),d(ee),r(!1)});return()=>m()},[]);const t=a.useCallback((g,m)=>{const i=s.map(x=>x.id===g?{...x,lessons:[...x.lessons,m]}:x);V(R(P,te),i)},[s]),o=a.useCallback((g,m)=>{const i=s.map(x=>x.id===g?{...x,lessons:x.lessons.filter(c=>c.id!==m)}:x);V(R(P,te),i)},[s]),j=a.useCallback((g,m,i)=>{const x=s.map(c=>c.id===g?{...c,lessons:c.lessons.map(b=>b.id===m?{...b,...i}:b)}:c);V(R(P,te),x)},[s]),k=a.useCallback(()=>{V(R(P,te),ee)},[]);return{levels:s,isLoading:u,addLesson:t,removeLesson:o,updateLesson:j,resetToDefaults:k}}const q="students";function ce(){const[s,d]=a.useState([]),[u,r]=a.useState(!0);a.useEffect(()=>{const g=R(P,q),m=oe(g,i=>{if(i.exists()){const x=i.val(),c=Object.keys(x).map(b=>({...x[b],id:b}));c.sort((b,f)=>new Date(f.loginDate).getTime()-new Date(b.loginDate).getTime()),d(c)}else d([]);r(!1)},i=>{console.error("Firebase student read error:",i),r(!1)});return()=>m()},[]);const t=a.useCallback(async g=>{const m=R(P,q),i=await ie(m);if(i.exists()){const x=i.val(),c=Object.entries(x).find(([b,f])=>f.phone===g);if(c){const[b,f]=c;return await V(R(P,`${q}/${b}/lastSeen`),new Date().toISOString()),{...f,id:b}}}return null},[]),o=a.useCallback(async(g,m,i)=>{if(await t(m))throw new Error("Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù…Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙØ¹Ù„");const c=de(R(P,q)),b=new Date().toISOString();return await V(c,{name:g.trim(),phone:m.trim(),level:i,loginDate:b,lastSeen:b}),c.key||""},[t]),j=a.useCallback(async g=>{await We(R(P,`${q}/${g}`))},[]),k=a.useCallback(async(g,m)=>{if(!g)throw new Error("studentId required");await He(R(P,`${q}/${g}`),m)},[]);return{students:s,isLoading:u,registerStudent:o,removeStudent:j,loginByPhone:t,updateStudent:k}}const Ze=()=>{const[s,d]=a.useState(!1),u=Y(),r=sessionStorage.getItem("student_logged_in")==="true",t=sessionStorage.getItem("student_name")||"",o=sessionStorage.getItem("student_level")||"",{levels:j}=X(),{updateStudent:k}=ce(),g=()=>{sessionStorage.removeItem("student_logged_in"),sessionStorage.removeItem("student_name"),sessionStorage.removeItem("student_phone"),d(!1),u("/"),window.location.reload()};return e.jsxs("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-100",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16 items-center",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-reverse space-x-6",children:[e.jsx(D,{to:"/",className:"text-gray-600 hover:text-sky-600 font-medium transition-colors",children:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"}),r?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("a",{href:"https://ipn.eg/S/safaaesmail1980/instapay/9fQhwu",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-full font-bold text-sm hover:shadow-lg hover:shadow-green-500/30 transition-all flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 10m10 0l2-10m0 0h2.4M17 7l-2 10"})}),"ÙˆØ³ÙŠÙ„Ø© Ø¯ÙØ¹"]}),e.jsxs("span",{className:"text-sky-600 font-bold text-sm flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),t]}),e.jsx("select",{value:o,onChange:async m=>{const i=m.target.value;sessionStorage.setItem("student_level",i);const x=sessionStorage.getItem("student_id");if(x)try{await k(x,{level:i})}catch(c){console.error("Failed to update student level",c)}window.location.reload()},className:"p-1 rounded text-sm border ml-2",children:j.map(m=>e.jsx("option",{value:m.id,children:m.titleAr},m.id))}),e.jsx("button",{onClick:g,className:"text-gray-400 hover:text-red-500 text-sm font-medium transition-colors",children:"Ø®Ø±ÙˆØ¬"})]}):e.jsx(D,{to:"/student-login",className:"bg-gradient-to-r from-sky-500 to-teal-400 text-white px-5 py-2 rounded-full font-bold text-sm hover:shadow-lg hover:shadow-sky-500/30 transition-all",children:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"}),e.jsxs(D,{to:"/admin-login",className:"text-gray-400 hover:text-sky-600 font-medium transition-colors text-sm flex items-center gap-1",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…"]})]}),e.jsx("div",{className:"md:hidden",children:e.jsx("button",{onClick:()=>d(!s),className:"text-gray-500 hover:text-gray-700 p-2 transition-transform duration-300",style:{transform:s?"rotate(90deg)":"rotate(0deg)"},children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})})]})}),s&&Ve.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100]",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity animate-fade-in",onClick:()=>d(!1)}),e.jsxs("div",{className:"absolute top-0 right-0 bottom-0 w-3/4 max-w-xs bg-white shadow-2xl flex flex-col animate-slide-in-right",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[e.jsx("span",{className:"font-bold text-gray-900",children:"Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©"}),e.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-500 hover:text-red-500 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto py-4 px-4 space-y-2",children:[e.jsx(D,{to:"/",onClick:()=>d(!1),className:"block text-right text-lg font-medium text-gray-700 hover:text-sky-600 py-3 px-4 rounded-xl hover:bg-sky-50 transition-all border-b border-gray-50",children:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ðŸ "}),r?e.jsxs("div",{className:"bg-sky-50 rounded-2xl p-4 mt-2",children:[e.jsxs("div",{className:"text-right mb-3",children:[e.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ"}),e.jsxs("span",{className:"text-sky-700 font-bold text-lg",children:[t," ðŸŽ“"]})]}),e.jsxs("div",{className:"mb-3 text-right",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Ø§Ù„Ù…Ø±Ø­Ù„Ø©:"}),e.jsx("select",{value:o,onChange:async m=>{const i=m.target.value;sessionStorage.setItem("student_level",i);const x=sessionStorage.getItem("student_id");if(x)try{await k(x,{level:i})}catch(c){console.error("Failed to update student level",c)}window.location.reload()},className:"w-full mt-2 p-2 rounded border",children:j.map(m=>e.jsx("option",{value:m.id,children:m.titleAr},m.id))})]}),e.jsx("a",{href:"https://ipn.eg/S/safaaesmail1980/instapay/9fQhwu",target:"_blank",rel:"noopener noreferrer",onClick:()=>d(!1),className:"block w-full py-2 mb-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-xl transition-all text-center",children:"ðŸ’³ ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ø¯ÙØ¹"}),e.jsx("button",{onClick:g,className:"w-full py-2 bg-white text-red-500 border border-red-100 rounded-xl text-sm font-bold shadow-sm hover:bg-red-50 transition-all",children:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬"})]}):e.jsx(D,{to:"/student-login",onClick:()=>d(!1),className:"block text-center text-lg font-bold text-white py-3 px-4 rounded-xl bg-gradient-to-r from-sky-500 to-teal-400 shadow-lg shadow-sky-500/20 mt-4 transition-transform active:scale-95",children:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø·Ø§Ù„Ø¨ ðŸ‘¨â€ðŸŽ“"}),e.jsx("div",{className:"border-t border-gray-100 my-4 pt-4",children:e.jsx(D,{to:"/admin-login",onClick:()=>d(!1),className:"flex items-center justify-end gap-2 text-sm font-medium text-gray-400 hover:text-sky-600 py-2 px-4 transition-colors",children:"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… âš™ï¸"})})]})]})]}),document.body)]})},Je=()=>e.jsxs("div",{className:"relative overflow-hidden pt-20 pb-32 z-10 bg-transparent",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-[40rem] h-[40rem] bg-sky-100 rounded-full blur-[100px] opacity-40"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-[30rem] h-[30rem] bg-teal-100 rounded-full blur-[100px] opacity-40"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-16 items-center",children:[e.jsxs("div",{className:"text-right lg:col-span-7",children:[e.jsxs("h1",{className:"text-5xl tracking-tight font-black text-gray-900 sm:text-6xl md:text-7xl",children:[e.jsx("span",{className:"block mb-2",children:"ØªØ¹Ù„Ù… Ø§Ù„Ø¹Ù„ÙˆÙ… Ø¨Ù…ØªØ¹Ø© Ù…Ø¹ Ø§Ù„Ø£Ø³ØªØ§Ø°Ø©"}),e.jsx("span",{className:"block text-sky-600",children:"ØµÙØ§Ø¡ Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„"})]}),e.jsx("p",{className:"mt-8 text-xl text-gray-600 leading-relaxed max-w-2xl lg:ml-0 lg:mr-auto",children:"Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠØ©. Ø´Ø±ÙˆØ­Ø§Øª Ù…Ø¨Ø³Ø·Ø©ØŒ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ©ØŒ ÙˆÙ…Ø°ÙƒØ±Ø§Øª Ø´Ø§Ù…Ù„Ø© Ù„ÙƒÙ„ Ø¯Ø±Ø³.            "}),e.jsx("div",{className:"mt-12 flex flex-wrap gap-6 justify-center",children:e.jsx("a",{href:"https://wa.me/201222966617",className:"px-12 py-5 border-2 border-sky-100 text-xl font-bold rounded-2xl text-sky-700 bg-white/50 backdrop-blur-sm hover:bg-sky-50 transition-all",children:"ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§"})})]}),e.jsxs("div",{className:"mt-16 lg:mt-0 lg:col-span-5 relative",children:[e.jsxs("div",{className:"relative mx-auto w-full rounded-[3rem] shadow-2xl overflow-hidden ring-12 ring-white/50 backdrop-blur-sm",children:[e.jsx("img",{className:"w-full object-cover aspect-[4/5]",src:"sections/logo2.jpeg",alt:"Science Learning"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-sky-900/40 via-transparent to-transparent"})]}),e.jsx("div",{className:"absolute -bottom-6 -right-6 bg-white p-6 rounded-3xl shadow-2xl animate-science-float hidden md:block",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-2xl flex items-center justify-center text-2xl",children:"ðŸ§ª"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:"ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ©"}),e.jsx("div",{className:"text-xs text-gray-500",children:"ÙÙ‡Ù… ÙƒÙ„ Ø¯Ø±Ø³ Ø¨Ø³Ù‡ÙˆÙ„Ø©"})]})]})})]})]})})]}),qe=({data:s})=>e.jsxs("div",{className:"group bg-white rounded-3xl shadow-sm hover:shadow-xl transition-all border border-gray-100 overflow-hidden flex flex-col h-full",children:[e.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),e.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-sky-600 shadow-sm",children:s.title})]}),e.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.titleAr}),e.jsx("p",{className:"text-gray-500 text-sm mb-6 flex-grow",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(D,{to:`/level/${s.id}/courses`,className:"flex flex-col items-center justify-center p-3 rounded-2xl bg-sky-50 text-sky-700 hover:bg-sky-600 hover:text-white transition-all group/btn",children:[e.jsx("svg",{className:"w-6 h-6 mb-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M2 6a2 2 0 012-2h12a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zm2 0v8h12V6H4zm3 2l5 2-5 2V8z"})}),e.jsx("span",{className:"text-xs font-bold",children:"Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª"})]}),e.jsxs(D,{to:`/level/${s.id}/notes`,className:"flex flex-col items-center justify-center p-3 rounded-2xl bg-teal-50 text-teal-700 hover:bg-teal-600 hover:text-white transition-all",children:[e.jsxs("svg",{className:"w-6 h-6 mb-1",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),e.jsx("span",{className:"text-xs font-bold",children:"Ù…Ø°ÙƒØ±Ø© Ø§Ù„Ø´Ø±Ø­"})]})]})]})]}),et="safaa-admin-2025",tt=()=>{const[s,d]=a.useState(""),[u,r]=a.useState(""),[t,o]=a.useState(!1),j=Y(),k=g=>{g.preventDefault(),s.trim()===et?(sessionStorage.setItem("admin_authenticated","true"),j("/admin")):(r("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©"),o(!0),setTimeout(()=>o(!1),500))};return e.jsx("div",{className:"min-h-screen flex items-center justify-center relative z-10 px-4",children:e.jsxs("div",{className:`bg-glass rounded-[2.5rem] shadow-2xl p-10 md:p-16 text-center max-w-md w-full border border-white/50 transition-transform ${t?"animate-shake":""}`,children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-sky-500 to-teal-400 rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-lg shadow-sky-500/30",children:e.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…"}),e.jsx("p",{className:"text-gray-500 mb-10 text-lg",children:"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¹Ù„Ù…"}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsx("input",{type:"password",value:s,onChange:g=>{d(g.target.value),r("")},placeholder:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",className:"w-full p-5 bg-white border border-gray-200 rounded-2xl text-center text-xl font-bold focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all shadow-sm",autoFocus:!0}),u&&e.jsx("p",{className:"text-red-500 font-bold animate-fade-in",children:u}),e.jsx("button",{type:"submit",className:"w-full py-5 science-gradient text-white rounded-2xl font-bold text-xl hover:shadow-2xl transition-all transform active:scale-95",children:"Ø¯Ø®ÙˆÙ„"})]})]})})};function je(s){if(!s)return"";const d=s.trim();if(d.includes("youtube.com/embed/"))return d;const u=d.match(/(?:youtube\.com\/watch\?v=)([a-zA-Z0-9_-]+)/);if(u)return`https://www.youtube.com/embed/${u[1]}`;const r=d.match(/(?:youtu\.be\/)([a-zA-Z0-9_-]+)/);return r?`https://www.youtube.com/embed/${r[1]}`:d}const st=()=>{var pe;const s=Y(),{levels:d,addLesson:u,removeLesson:r,updateLesson:t,resetToDefaults:o}=X(),[j,k]=a.useState("1st-prep"),[g,m]=a.useState(!1),[i,x]=a.useState(null),[c,b]=a.useState(!1),[f,h]=a.useState(""),[I,y]=a.useState(null),[M,C]=a.useState(""),[_,O]=a.useState(""),[N,n]=a.useState(""),[A,L]=a.useState(""),[z,E]=a.useState(""),[W,Z]=a.useState(!0),[T,B]=a.useState(null),[J,le]=a.useState("link"),[Q,G]=a.useState([]),[Se,xe]=a.useState(!1),[K,Ce]=a.useState(null),[me,he]=a.useState(5),[ue,ne]=a.useState([]);a.useEffect(()=>{sessionStorage.getItem("admin_authenticated")!=="true"&&s("/admin-login")},[s]);const U=d.find(l=>l.id===j),Le=l=>{if(l.preventDefault(),!M.trim())return;const w=`${j.charAt(0)}-${Date.now()}`,v=Q.map(p=>({id:p.id,title:p.title.trim(),videoUrl:p.source==="link"?je(p.videoUrl):p.videoUrl,description:p.description.trim()}));u(j,{id:w,title:M.trim(),videos:v.length>0?v:void 0,pdfUrl:N.trim(),description:A.trim(),code:W?"":z.trim(),codes:W?[]:z.trim()?[{value:z.trim(),used:!1}]:[],coverImage:T||void 0}),C(""),G([]),n(""),L(""),E(""),Z(!0),n(""),L(""),E(""),Z(!0),B(null),m(!1),H("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯Ø±Ø³ Ø¨Ù†Ø¬Ø§Ø­ âœ“")},Ie=()=>{i&&(r(i.levelId,i.lessonId),x(null),H("ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¯Ø±Ø³ Ø¨Ù†Ø¬Ø§Ø­ âœ“"))},Me=(l,w)=>{var p;const v=(p=d.find(S=>S.id===l))==null?void 0:p.lessons.find(S=>S.id===w);v&&(C(v.title),O(v.videoUrl||""),n(v.pdfUrl||""),L(v.description||""),E(v.code||""),B(v.coverImage||null),y({levelId:l,lessonId:w}))},ze=l=>{l.preventDefault(),!(!I||!M.trim())&&(t(I.levelId,I.lessonId,{title:M.trim(),videoUrl:je(_),pdfUrl:N.trim(),description:A.trim(),code:z.trim(),coverImage:T||void 0}),y(null),C(""),O(""),n(""),L(""),E(""),B(null),H("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¯Ø±Ø³ Ø¨Ù†Ø¬Ø§Ø­ âœ“"))},Ee=()=>{o(),b(!1),H("ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ âœ“")},_e=()=>{sessionStorage.removeItem("admin_authenticated"),s("/")},H=l=>{h(l),setTimeout(()=>h(""),3e3)},Ae=(l=8)=>{const w="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789";let v="";for(let p=0;p<l;p++)v+=w.charAt(Math.floor(Math.random()*w.length));return v},De=(l,w=[])=>{const v=new Set(w),p=[];for(;p.length<l;){const S=Ae(8);!v.has(S)&&!p.includes(S)&&p.push(S)}return p},Ue=l=>{Ce(l),ne([]),he(5),xe(!0)},$e=()=>{var S;if(!K)return;const l=U==null?void 0:U.lessons.find($=>$.id===K),w=((S=l==null?void 0:l.codes)==null?void 0:S.map($=>$.value))??[],v=De(me,w),p=[...(l==null?void 0:l.codes)??[],...v.map($=>({value:$,used:!1}))];t(j,K,{codes:p}),ne(v),H("ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø¨Ù†Ø¬Ø§Ø­ âœ“")},Re=(l,w)=>{const v=U==null?void 0:U.lessons.find(S=>S.id===l);if(!v)return;const p=(v.codes??[]).map(S=>S.value===w?{...S,used:!S.used}:S);t(j,l,{codes:p})},Pe=[{id:"1st-prep",label:"Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„"},{id:"2nd-prep",label:"Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ"},{id:"3rd-prep",label:"Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø«"}];return e.jsxs("div",{className:"min-h-screen pb-20 relative z-10",children:[e.jsxs("div",{className:"science-gradient pt-20 md:pt-28 pb-16 md:pb-20 text-white text-center px-4",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-2 md:mb-3",children:"Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¹Ù„Ù…"}),e.jsx("p",{className:"text-sky-100 text-base md:text-xl",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ÙˆØ§Ù„Ù…Ø°ÙƒØ±Ø§Øª Ù„ÙƒÙ„ Ù…Ø±Ø­Ù„Ø© Ø¯Ø±Ø§Ø³ÙŠØ©"}),e.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>b(!0),className:"bg-white/10 hover:bg-white/20 px-3 md:px-5 py-2 rounded-full transition-all text-xs md:text-sm",children:"ðŸ”„ Ø§Ø³ØªØ¹Ø§Ø¯Ø©"}),e.jsx(D,{to:"/admin/students",className:"bg-white/10 hover:bg-white/20 px-3 md:px-5 py-2 rounded-full transition-all text-xs md:text-sm",children:"ðŸ‘¥ Ø§Ù„Ø·Ù„Ø§Ø¨"}),e.jsx(D,{to:"/admin/exams",className:"bg-white/10 hover:bg-white/20 px-3 md:px-5 py-2 rounded-full transition-all text-xs md:text-sm",children:"ðŸ“ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª"}),e.jsx(D,{to:"/admin/exam-results",className:"bg-white/10 hover:bg-white/20 px-3 md:px-5 py-2 rounded-full transition-all text-xs md:text-sm",children:"ðŸ“Š Ø§Ù„Ù†ØªØ§Ø¦Ø¬"}),e.jsx("button",{onClick:_e,className:"bg-red-500/80 hover:bg-red-500 px-3 md:px-5 py-2 rounded-full transition-all text-xs md:text-sm",children:"ðŸšª Ø®Ø±ÙˆØ¬"})]})]}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 -mt-10",children:[f&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-6 py-4 rounded-2xl text-center font-bold text-lg animate-fade-in",children:f}),e.jsx("div",{className:"bg-glass rounded-2xl shadow-lg p-1 md:p-2 flex gap-1 md:gap-2 mb-8 border border-white/50 overflow-x-auto",children:Pe.map(l=>e.jsx("button",{onClick:()=>{k(l.id),m(!1)},className:`flex-1 py-3 md:py-4 px-2 md:px-4 rounded-xl font-bold text-xs md:text-lg transition-all whitespace-nowrap ${j===l.id?"science-gradient text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:l.label},l.id))}),U&&e.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl border border-white/50 overflow-hidden",children:[e.jsxs("div",{className:"p-4 md:p-8 border-b border-gray-100 flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:U.titleAr}),e.jsxs("p",{className:"text-gray-500 mt-1 text-sm md:text-base",children:[U.lessons.length," Ø¯Ø±ÙˆØ³ Ù…Ø³Ø¬Ù„Ø©"]})]}),e.jsx("button",{onClick:()=>m(!g),className:`px-4 md:px-8 py-2 md:py-4 rounded-2xl font-bold text-sm md:text-lg transition-all flex items-center gap-2 md:gap-3 whitespace-nowrap ${g?"bg-gray-200 text-gray-700":"science-gradient text-white shadow-lg shadow-sky-500/20 hover:shadow-xl"}`,children:g?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xl md:text-2xl",children:"âœ•"})," ",e.jsx("span",{className:"hidden sm:inline",children:"Ø¥Ù„ØºØ§Ø¡"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xl md:text-2xl",children:"+"})," ",e.jsx("span",{className:"hidden sm:inline",children:"Ø¥Ø¶Ø§ÙØ© Ø¯Ø±Ø³ Ø¬Ø¯ÙŠØ¯"}),e.jsx("span",{className:"sm:hidden",children:"Ø¬Ø¯ÙŠØ¯"})]})})]}),g&&e.jsx("div",{className:"p-8 bg-sky-50/50 border-b border-sky-100 animate-fade-in",children:e.jsxs("form",{onSubmit:Le,className:"space-y-5 max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"ðŸ“ Ø¥Ø¶Ø§ÙØ© Ø¯Ø±Ø³ Ø¬Ø¯ÙŠØ¯"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³ *"}),e.jsx("input",{type:"text",value:M,onChange:l=>C(l.target.value),placeholder:"Ù…Ø«Ø§Ù„: Ø§Ù„Ù…Ø§Ø¯Ø© ÙˆØ®ÙˆØ§ØµÙ‡Ø§",className:"w-full p-4 bg-white border border-gray-200 rounded-xl focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all text-right",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-3",children:"ðŸŽ¥ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª"}),e.jsx("div",{className:"space-y-3",children:Q.map((l,w)=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"font-bold text-gray-700",children:["ÙÙŠØ¯ÙŠÙˆ #",w+1]}),e.jsx("button",{type:"button",onClick:()=>G(Q.filter((v,p)=>p!==w)),className:"text-red-500 hover:text-red-700 font-bold",children:"âœ• Ø­Ø°Ù"})]}),e.jsx("input",{type:"text",value:l.title,onChange:v=>G(Q.map((p,S)=>S===w?{...p,title:v.target.value}:p)),placeholder:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ",className:"w-full p-2 bg-gray-50 border border-gray-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-sky-500/20"}),e.jsx("textarea",{value:l.description,onChange:v=>G(Q.map((p,S)=>S===w?{...p,description:v.target.value}:p)),placeholder:"ÙˆØµÙ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",rows:2,className:"w-full p-2 bg-gray-50 border border-gray-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-sky-500/20 resize-none text-right"}),e.jsxs("div",{className:"flex items-center gap-3 mb-2 text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",checked:l.source==="link",onChange:()=>G(Q.map((v,p)=>p===w?{...v,source:"link"}:v))}),"Ø±Ø§Ø¨Ø·"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",checked:l.source==="upload",onChange:()=>G(Q.map((v,p)=>p===w?{...v,source:"upload"}:v))}),"Ø±ÙØ¹ Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²"]})]}),l.source==="link"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",value:l.videoUrl,onChange:v=>G(Q.map((p,S)=>S===w?{...p,videoUrl:v.target.value}:p)),placeholder:"Ø±Ø§Ø¨Ø· Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ Ø£Ùˆ MP4",className:"w-full p-2 bg-gray-50 border border-gray-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-sky-500/20 text-left",dir:"ltr"})}):e.jsx("input",{type:"file",accept:"video/*",onChange:v=>{var $;const p=($=v.target.files)==null?void 0:$[0];if(!p)return;const S=new FileReader;S.onload=Te=>G(Q.map((ge,Be)=>{var be;return Be===w?{...ge,videoUrl:(be=Te.target)==null?void 0:be.result}:ge})),S.readAsDataURL(p)},className:"text-sm"})]},l.id))}),e.jsx("button",{type:"button",onClick:()=>G([...Q,{id:`video-${Date.now()}`,title:"",videoUrl:"",description:"",source:"link"}]),className:"mt-3 w-full py-2 bg-sky-50 text-sky-600 border border-sky-200 rounded-xl font-bold hover:bg-sky-100 transition-all",children:"+ Ø¥Ø¶Ø§ÙØ© ÙÙŠØ¯ÙŠÙˆ Ø¢Ø®Ø±"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø°ÙƒØ±Ø© (PDF) Ø£Ùˆ Ø±ÙØ¹ Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²"}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"pdfSrc",checked:J==="link",onChange:()=>le("link")})," Ø±Ø§Ø¨Ø·"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"pdfSrc",checked:J==="upload",onChange:()=>le("upload")})," Ø±ÙØ¹ Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²"]})]}),J==="link"?e.jsx("input",{type:"text",value:N,onChange:l=>n(l.target.value),placeholder:"https://example.com/file.pdf Ø£Ùˆ /filename.pdf",className:"w-full p-4 bg-white border border-gray-200 rounded-xl focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all text-left",dir:"ltr"}):e.jsx("input",{type:"file",accept:"application/pdf",onChange:l=>{var p;const w=(p=l.target.files)==null?void 0:p[0];if(!w)return;const v=new FileReader;v.onload=S=>{var $;return n(($=S.target)==null?void 0:$.result)},v.readAsDataURL(w)}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"ÙˆØµÙ Ø§Ù„Ø¯Ø±Ø³"}),e.jsx("textarea",{value:A,onChange:l=>L(l.target.value),placeholder:"ÙˆØµÙ Ù…Ø®ØªØµØ± Ø¹Ù† Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¯Ø±Ø³",rows:3,className:"w-full p-4 bg-white border border-gray-200 rounded-xl focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all resize-none text-right"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{id:"newIsPublic",type:"checkbox",checked:W,onChange:l=>Z(l.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"newIsPublic",className:"text-gray-700",children:"Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø¯Ø±Ø³ Ø¹Ø§Ù…Ø§Ù‹ (Ù„Ø§ ÙŠØªØ·Ù„Ø¨ ÙƒÙˆØ¯)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:l=>{var p;const w=(p=l.target.files)==null?void 0:p[0];if(!w)return;const v=new FileReader;v.onload=S=>{var $;return B(($=S.target)==null?void 0:$.result)},v.readAsDataURL(w)}}),T&&e.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded flex items-center justify-center",children:e.jsx("img",{src:T,alt:"cover preview",className:"max-w-xs max-h-32 rounded"})})]}),e.jsx("button",{type:"submit",className:"w-full py-4 science-gradient text-white rounded-2xl font-bold text-xl hover:shadow-2xl transition-all transform active:scale-95",children:"âœ“ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯Ø±Ø³"})]})}),e.jsx("div",{className:"p-6",children:U.lessons.length===0?e.jsxs("div",{className:"text-center py-16 text-gray-400",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e.jsx("p",{className:"text-xl font-bold",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³ Ø­Ø§Ù„ÙŠØ§Ù‹"}),e.jsx("p",{className:"mt-2",children:'Ø§Ø¶ØºØ· "Ø¥Ø¶Ø§ÙØ© Ø¯Ø±Ø³ Ø¬Ø¯ÙŠØ¯" Ù„Ø¥Ø¶Ø§ÙØ© Ø£ÙˆÙ„ Ø¯Ø±Ø³'})]}):e.jsx("div",{className:"space-y-4",children:U.lessons.map((l,w)=>{var v,p;return e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 flex flex-col md:flex-row items-start md:items-center justify-between gap-4 hover:shadow-md transition-all group",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"w-10 h-10 bg-sky-100 text-sky-600 rounded-xl flex items-center justify-center font-bold flex-shrink-0",children:w+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[l.coverImage&&e.jsx("img",{src:l.coverImage,alt:"cover",className:"w-20 h-12 object-cover rounded-md flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:l.title}),e.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-1",children:l.description})]})]}),e.jsxs("div",{className:"flex gap-4 mt-2 text-xs",children:[(((v=l.videos)==null?void 0:v.length)??0)>0&&e.jsxs("span",{className:"bg-red-50 text-red-600 px-3 py-1 rounded-full font-medium",children:["ðŸŽ¥ ",(p=l.videos)==null?void 0:p.length," ÙÙŠØ¯ÙŠÙˆ"]}),l.videoUrl&&e.jsx("span",{className:"bg-red-50 text-red-600 px-3 py-1 rounded-full font-medium",children:"ðŸŽ¥ ÙÙŠØ¯ÙŠÙˆ"}),l.pdfUrl&&e.jsx("span",{className:"bg-teal-50 text-teal-600 px-3 py-1 rounded-full font-medium",children:"ðŸ“„ Ù…Ø°ÙƒØ±Ø©"}),l.code&&e.jsxs("span",{className:"bg-amber-50 text-amber-600 px-3 py-1 rounded-full font-medium flex items-center gap-1",children:["ðŸ”’ ÙƒÙˆØ¯: ",l.code]}),l.codes&&l.codes.length>0&&e.jsxs("span",{className:"bg-violet-50 text-violet-600 px-3 py-1 rounded-full font-medium flex items-center gap-1",children:["ðŸŽŸï¸ ØºÙŠØ± Ù…Ø³ØªØ¹Ù…Ù„Ø©: ",l.codes.filter(S=>!S.used).length]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Me(j,l.id),className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-xl font-bold hover:bg-blue-100 transition-all flex items-center gap-2",children:"âœï¸ ØªØ¹Ø¯ÙŠÙ„"}),e.jsx("button",{onClick:()=>Ue(l.id),className:"px-4 py-2 bg-violet-50 text-violet-600 rounded-xl font-bold hover:bg-violet-100 transition-all flex items-center gap-2 opacity-80",children:"ðŸŽŸï¸ Ø£ÙƒÙˆØ§Ø¯"}),e.jsxs("button",{onClick:()=>x({levelId:j,lessonId:l.id}),className:"px-5 py-3 bg-red-50 text-red-600 rounded-xl font-bold hover:bg-red-100 transition-all flex items-center gap-2 opacity-70 group-hover:opacity-100",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Ø­Ø°Ù"]})]})]},l.id)})})})]})]}),i&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-3xl p-10 max-w-md w-full text-center shadow-2xl",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¯Ø±Ø³ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>x(null),className:"flex-1 py-4 bg-gray-100 text-gray-700 rounded-2xl font-bold hover:bg-gray-200 transition-all",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{onClick:Ie,className:"flex-1 py-4 bg-red-500 text-white rounded-2xl font-bold hover:bg-red-600 transition-all",children:"Ø­Ø°Ù Ø§Ù„Ø¯Ø±Ø³"})]})]})}),I&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-2xl w-full shadow-2xl my-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¯Ø±Ø³"}),e.jsx("button",{onClick:()=>{y(null),C(""),O(""),n(""),L(""),E(""),B(null)},className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),e.jsxs("form",{onSubmit:ze,className:"space-y-4",children:[e.jsx("input",{className:"w-full p-3 border border-gray-200 rounded-xl",placeholder:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³",value:M,onChange:l=>C(l.target.value),required:!0}),e.jsx("textarea",{className:"w-full p-3 border border-gray-200 rounded-xl resize-none",rows:3,placeholder:"ÙˆØµÙ Ø§Ù„Ø¯Ø±Ø³",value:A,onChange:l=>L(l.target.value)}),e.jsx("input",{className:"w-full p-3 border border-gray-200 rounded-xl",placeholder:"Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (YouTube)",value:_,onChange:l=>O(l.target.value)}),e.jsx("input",{className:"w-full p-3 border border-gray-200 rounded-xl",placeholder:"Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø°ÙƒØ±Ø© (PDF)",value:N,onChange:l=>n(l.target.value)}),e.jsx("input",{className:"w-full p-3 border border-gray-200 rounded-xl",placeholder:"ÙƒÙˆØ¯ Ø§Ù„ÙˆØµÙˆÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",value:z,onChange:l=>E(l.target.value)}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:l=>{var p;const w=(p=l.target.files)==null?void 0:p[0];if(!w)return;const v=new FileReader;v.onload=S=>{var $;return B(($=S.target)==null?void 0:$.result)},v.readAsDataURL(w)}}),T&&e.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded flex items-center justify-center",children:e.jsx("img",{src:T,alt:"cover preview",className:"max-w-xs max-h-32 rounded"})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{y(null),C(""),O(""),n(""),L(""),E(""),B(null)},className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-2xl font-bold hover:bg-gray-200",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{type:"submit",className:"flex-1 py-3 science-gradient text-white rounded-2xl font-bold hover:shadow-lg",children:"âœ“ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª"})]})]})]})}),Se&&K&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-2xl w-full text-right shadow-2xl",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:"ðŸŽŸï¸ Ø¥Ø¯Ø§Ø±Ø© Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø¯Ø±Ø³"}),e.jsx("p",{className:"text-gray-500",children:"Ø­ÙˆÙ‘Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¥Ù„Ù‰ Ø£ÙƒÙˆØ§Ø¯ ÙˆØµÙˆÙ„ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ù„ÙƒÙ„ Ø·Ø§Ù„Ø¨"})]}),e.jsx("button",{onClick:()=>xe(!1),className:"text-gray-400",children:"âœ•"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯"}),e.jsx("input",{type:"number",value:me,onChange:l=>he(Math.max(1,Number(l.target.value)||1)),className:"w-40 p-3 bg-white border border-gray-200 rounded-xl outline-none"}),e.jsx("button",{onClick:$e,className:"mx-4 px-5 py-3 bg-violet-600 text-white rounded-xl font-bold",children:"ØªÙˆÙ„ÙŠØ¯"})]}),ue.length>0&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[e.jsx("p",{className:"font-bold mb-2",children:"Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…ÙˆÙ„Ø¯Ø© Ø­Ø¯ÙŠØ«Ø§Ù‹"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ue.map(l=>e.jsx("div",{className:"px-3 py-2 bg-white border rounded-lg text-sm flex items-center gap-2",children:e.jsx("span",{className:"font-mono",children:l})},l))})]}),e.jsxs("div",{className:"bg-white border rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-bold mb-2",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¯Ø±Ø³"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{const l=U==null?void 0:U.lessons.find(p=>p.id===K),w=(l==null?void 0:l.codes)??[];if(w.length===0){H("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙƒÙˆØ§Ø¯ Ù„Ù„Ù†Ø³Ø®");return}const v=w.map(p=>`${p.value}${p.used?" (Ù…Ø³ØªØ®Ø¯Ù…)":""}`).join(`
`);if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(v).then(()=>H("ØªÙ… Ù†Ø³Ø® Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ âœ“")).catch(()=>H("ÙØ´Ù„ Ù†Ø³Ø® Ø§Ù„Ø£ÙƒÙˆØ§Ø¯"));else{const p=document.createElement("textarea");p.value=v,document.body.appendChild(p),p.select();try{document.execCommand("copy"),H("ØªÙ… Ù†Ø³Ø® Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ âœ“")}catch{H("ÙØ´Ù„ Ù†Ø³Ø® Ø§Ù„Ø£ÙƒÙˆØ§Ø¯")}document.body.removeChild(p)}},className:"px-3 py-1 bg-sky-50 text-sky-600 rounded-md text-sm",children:"Ù†Ø³Ø® Ø§Ù„ÙƒÙ„"}),e.jsx("button",{onClick:()=>{K&&confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¬Ø¹Ù„ Ù‡Ø°Ø§ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ø§Ù…Ø§Ù‹ ÙˆØ¥Ø²Ø§Ù„Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ØŸ")&&(t(j,K,{codes:[],code:""}),ne([]),H("ØªÙ… Ø¬Ø¹Ù„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ø§Ù…Ø§Ù‹ ÙˆØ¥Ø²Ø§Ù„Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ âœ“"))},className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-md text-sm",children:"Ø§Ø¬Ø¹Ù„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ø§Ù…Ø§Ù‹"})]})]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-auto",children:(((pe=U==null?void 0:U.lessons.find(l=>l.id===K))==null?void 0:pe.codes)??[]).map(l=>e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-mono",children:l.value}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l.used?"bg-gray-200 text-gray-600":"bg-green-50 text-green-700"}`,children:l.used?"Ù…Ø³ØªØ®Ø¯Ù…":"ØºÙŠØ± Ù…Ø³ØªØ®Ø¯Ù…"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{var w;return(w=navigator.clipboard)==null?void 0:w.writeText(l.value)},className:"px-3 py-1 bg-sky-50 text-sky-600 rounded-md",children:"Ù†Ø³Ø®"}),e.jsx("button",{onClick:()=>Re(K,l.value),className:"px-3 py-1 bg-amber-50 text-amber-600 rounded-md",children:"ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø©"})]})]},l.value))})]})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-3xl p-10 max-w-md w-full text-center shadow-2xl",children:[e.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-4xl",children:"ðŸ”„"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª ÙˆØ§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£ØµÙ„ÙŠ. Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>b(!1),className:"flex-1 py-4 bg-gray-100 text-gray-700 rounded-2xl font-bold hover:bg-gray-200 transition-all",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{onClick:Ee,className:"flex-1 py-4 bg-amber-500 text-white rounded-2xl font-bold hover:bg-amber-600 transition-all",children:"Ø§Ø³ØªØ¹Ø§Ø¯Ø©"})]})]})})]})},ae="exams",ve="exam_results";function se(){const[s,d]=a.useState([]),[u,r]=a.useState(!0);a.useEffect(()=>{const i=R(P,ae),x=oe(i,c=>{if(c.exists()){const b=c.val(),f=Array.isArray(b)?b:Object.keys(b).map(h=>({...b[h],questions:b[h].questions||[]}));d(f)}else d([]);r(!1)},c=>{console.error("Failed to read exams:",c),r(!1)});return()=>x()},[]);const t=a.useCallback(async i=>{const x=de(R(P,ae)),c=x.key,b={...i,id:c,createdAt:Date.now()};return await V(x,b),c},[]),o=a.useCallback(async(i,x)=>{const c=fe(R(P),`${ae}/${i}`),b=await ie(c);if(!b.exists())throw new Error("Exam not found");const f=b.val();await V(c,{...f,...x})},[]),j=a.useCallback(async i=>{const x=fe(R(P),`${ae}/${i}`);await V(x,null)},[]),k=a.useCallback(()=>s,[s]),g=a.useCallback(async i=>{const x=de(R(P,ve)),c=x.key,b={...i,id:c,submittedAt:Date.now()};return await V(x,b),c},[]),m=a.useCallback(async i=>{const x=R(P,ve),c=await ie(x);if(!c.exists())return[];const b=c.val();return(Array.isArray(b)?b:Object.keys(b).map(h=>b[h])).filter(h=>h.examId===i)},[]);return{exams:s,isLoading:u,createExam:t,updateExam:o,deleteExam:j,listExams:k,submitResult:g,getResultsForExam:m}}const lt=()=>{const s=Y(),{exams:d,createExam:u,updateExam:r,deleteExam:t}=se(),{levels:o}=X(),[j,k]=a.useState(""),[g,m]=a.useState(""),[i,x]=a.useState("1st-prep"),[c,b]=a.useState(null),[f,h]=a.useState([]),[I,y]=a.useState(!1),M=()=>`q-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,C=()=>{h(n=>[...n,{id:M(),type:"mcq",prompt:"",promptType:"text",promptImageUrl:"",options:["","","",""],correctOptionIndex:0,points:1}])},_=(n,A)=>{h(L=>L.map(z=>z.id===n?{...z,...A}:z))},O=n=>h(A=>A.filter(L=>L.id!==n)),N=async()=>{if(!j.trim()||f.length===0)return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† ÙˆØªØ³Ø§Ø¤Ù„ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„");y(!0);try{await u({title:j.trim(),description:g.trim(),levelId:i,questions:f.map(n=>({id:n.id,type:n.type,prompt:n.prompt,promptType:n.promptType||"text",promptImageUrl:n.promptImageUrl||"",options:n.options,correctOptionIndex:n.correctOptionIndex,points:n.points})),timeLimitMinutes:c,published:!1}),k(""),m(""),h([]),alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±")}catch(n){console.error(n),alert("ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±")}finally{y(!1)}};return e.jsxs("div",{className:"min-h-screen pb-20 relative z-10",children:[e.jsxs("div",{className:"science-gradient pt-28 pb-20 text-white text-center px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-3",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª"}),e.jsx("p",{className:"text-sky-100 text-xl",children:"Ø£Ù†Ø´Ø¦ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù„ØªØªØ¨Ø¹ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø·Ù„Ø§Ø¨"}),e.jsx("button",{onClick:()=>s(-1),className:"mt-8 inline-block bg-white/10 hover:bg-white/20 px-6 py-2 rounded-full transition-all",children:"â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø®Ù„Ù"})]}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 -mt-10",children:[e.jsxs("div",{className:"bg-glass rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ø¯ÙŠØ¯"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{className:"p-3 rounded-xl border",placeholder:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±",value:j,onChange:n=>k(n.target.value)}),e.jsx("select",{className:"p-3 rounded-xl border",value:i,onChange:n=>x(n.target.value),children:o.map(n=>e.jsx("option",{value:n.id,children:n.titleAr},n.id))}),e.jsx("input",{type:"number",min:1,className:"p-3 rounded-xl border",placeholder:"Ø²Ù…Ù† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± (Ø¯Ù‚Ø§Ø¦Ù‚)",value:c??"",onChange:n=>b(n.target.value?Number(n.target.value):null)}),e.jsx("input",{className:"p-3 rounded-xl border col-span-2",placeholder:"ÙˆØµÙ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",value:g,onChange:n=>m(n.target.value)})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-bold",children:"Ø§Ù„Ø£Ø³Ø¦Ù„Ø©"}),e.jsx("button",{onClick:C,className:"px-4 py-2 bg-sky-600 text-white rounded-xl",children:"Ø£Ø¶Ù Ø³Ø¤Ø§Ù„"})]}),e.jsx("div",{className:"space-y-4",children:f.map((n,A)=>e.jsxs("div",{className:"p-4 border rounded-xl bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("strong",{children:["Ø³Ø¤Ø§Ù„ ",A+1]}),e.jsx("button",{onClick:()=>O(n.id),className:"text-red-500 text-sm",children:"Ø­Ø°Ù"})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3 p-2 bg-gray-50 rounded",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:`type-${n.id}`,checked:n.promptType!=="image",onChange:()=>_(n.id,{promptType:"text"})}),e.jsx("span",{className:"text-sm",children:"Ù†Øµ"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:`type-${n.id}`,checked:n.promptType==="image",onChange:()=>_(n.id,{promptType:"image"})}),e.jsx("span",{className:"text-sm",children:"ØµÙˆØ±Ø©"})]})]}),n.promptType!=="image"?e.jsx("input",{className:"w-full p-2 border rounded mt-2 mb-3",placeholder:"Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„",value:n.prompt,onChange:L=>_(n.id,{prompt:L.target.value})}):e.jsxs("div",{className:"mt-2 mb-3",children:[e.jsx("input",{type:"file",accept:"image/*",className:"w-full p-2 border rounded",onChange:L=>{var E;const z=(E=L.target.files)==null?void 0:E[0];if(z){const W=new FileReader;W.onload=Z=>{var B;const T=(B=Z.target)==null?void 0:B.result;_(n.id,{promptImageUrl:T})},W.readAsDataURL(z)}}}),n.promptImageUrl&&e.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded flex items-center justify-center",children:e.jsx("img",{src:n.promptImageUrl,alt:"preview",className:"max-w-xs max-h-32 rounded"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:n.options.map((L,z)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{className:"flex-1 p-2 border rounded",value:L,onChange:E=>{const W=[...n.options];W[z]=E.target.value,_(n.id,{options:W})}}),e.jsxs("label",{className:"text-sm",children:["ØµØ­ÙŠØ­",e.jsx("input",{type:"radio",name:`correct-${n.id}`,checked:n.correctOptionIndex===z,onChange:()=>_(n.id,{correctOptionIndex:z}),className:"mx-2"})]})]},z))}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("label",{className:"text-sm",children:"Ø§Ù„Ù†Ù‚Ø§Ø·:"}),e.jsx("input",{type:"number",min:0,value:n.points,onChange:L=>_(n.id,{points:Number(L.target.value)}),className:"p-2 border rounded w-24"})]})]},n.id))}),e.jsx("div",{className:"mt-6 flex gap-3",children:e.jsx("button",{onClick:N,disabled:I,className:"px-6 py-3 bg-green-600 text-white rounded-xl",children:I?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...":"Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±"})})]})]}),e.jsxs("div",{className:"mt-8 bg-glass rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù†Ø´Ø£Ø©"}),e.jsxs("div",{className:"space-y-3",children:[d.length===0&&e.jsx("div",{className:"text-gray-500",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø¨Ø¹Ø¯."}),d.map(n=>{var A;return e.jsxs("div",{className:"p-4 bg-white rounded-xl border flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:n.title}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Ø§Ù„Ù…Ø±Ø­Ù„Ø©: ",n.levelId," â€¢ Ø£Ø³Ø¦Ù„Ø©: ",((A=n.questions)==null?void 0:A.length)??0]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:async()=>{await r(n.id,{published:!n.published}),alert("ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«")},className:"px-3 py-2 bg-sky-50 text-sky-600 rounded-md",children:n.published?"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù†Ø´Ø±":"Ù†Ø´Ø±"}),e.jsx("button",{onClick:async()=>{confirm("Ø­Ø°Ù Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±ØŸ")&&(await t(n.id),alert("ØªÙ… Ø§Ù„Ø­Ø°Ù"))},className:"px-3 py-2 bg-red-50 text-red-600 rounded-md",children:"Ø­Ø°Ù"})]})]},n.id)})]})]})]})]})},at=()=>{const{exams:s,isLoading:d}=se(),u=sessionStorage.getItem("student_level");if(!u)return e.jsx("div",{className:"p-10 text-center",children:"ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒØ·Ø§Ù„Ø¨ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª."});const r=s.filter(t=>t.published&&t.levelId===u);return e.jsxs("div",{className:"min-h-screen pb-20 relative z-10",children:[e.jsxs("div",{className:"science-gradient pt-28 pb-20 text-white text-center px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-3",children:"Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©"}),e.jsx("p",{className:"text-sky-100 text-xl",children:"Ø§Ø®ØªØ± Ø§Ø®ØªØ¨Ø§Ø±Ø§Ù‹ Ù„Ù‚ÙŠØ§Ø³ Ù…Ø³ØªÙˆØ§Ùƒ"})]}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d&&e.jsx("div",{children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."}),!d&&r.length===0&&e.jsx("div",{className:"p-10 bg-white rounded-xl text-center",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ù†Ø´ÙˆØ±Ø© Ù„Ù…Ø±Ø­Ù„ØªÙƒ."}),r.map(t=>{var o;return e.jsxs("div",{className:"p-6 bg-white rounded-2xl border flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-xl",children:t.title}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:t.description}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Ø£Ø³Ø¦Ù„Ø©: ",((o=t.questions)==null?void 0:o.length)??0," â€¢ Ø²Ù…Ù†: ",t.timeLimitMinutes??"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(D,{to:`/exam/${t.id}`,className:"px-4 py-3 bg-sky-600 text-white rounded-xl",children:"Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±"})})]},t.id)})]})})]})};function rt(s,d){const[u,r]=a.useState(null),t=a.useRef(!1);return a.useEffect(()=>{s===null||s<=0||(r(s),t.current=!1)},[s]),a.useEffect(()=>{if(u===null)return;if(u<=0){t.current||(t.current=!0,d());return}const o=setTimeout(()=>r(j=>j!==null?j-1:null),1e3);return()=>clearTimeout(o)},[u,d]),u}function nt(s){const d=Math.floor(s/60).toString().padStart(2,"0"),u=(s%60).toString().padStart(2,"0");return`${d}:${u}`}const it=()=>{const{examId:s}=re(),{exams:d,submitResult:u}=se(),r=Y(),t=d.find(N=>N.id===s),[o,j]=a.useState({}),[k,g]=a.useState(!1),[m,i]=a.useState(null),[x,c]=a.useState(!1);a.useEffect(()=>{if(!(t!=null&&t.questions))return;const N={};t.questions.forEach(n=>N[n.id]=n.type==="mcq"?null:""),j(N)},[s,t]);const b=a.useCallback(async(N=!1,n)=>{if(k||m!==null)return;g(!0),N&&c(!0);const A=n??o;try{let L=0,z=0;const E=[];(t.questions||[]).forEach(T=>{const B=A[T.id],J=T.points??1;if(z+=J,T.type==="mcq"){const le=B!=null;E.push({questionId:T.id,answer:String(B??"")}),le&&typeof T.correctOptionIndex<"u"&&Number(B)===T.correctOptionIndex&&(L+=J)}else E.push({questionId:T.id,answer:String(B??"")})});const W=sessionStorage.getItem("student_phone")||null,Z=sessionStorage.getItem("student_name")||null;await u({examId:t.id,studentPhone:W,studentName:Z,answers:E,score:L,maxScore:z}),i(L)}catch(L){console.error(L),alert("ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†ØªÙŠØ¬Ø©")}finally{g(!1)}},[o,t,m,k,u]),f=a.useRef(o);a.useEffect(()=>{f.current=o},[o]);const h=a.useCallback(()=>{b(!0,f.current)},[b]),I=t!=null&&t.timeLimitMinutes?t.timeLimitMinutes*60:null,y=rt(m!==null?null:I,h),M=(N,n)=>j(A=>({...A,[N]:n}));if(!t)return e.jsx("div",{className:"p-10 text-center font-bold text-xl",children:"Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯."});const C=(t.questions||[]).reduce((N,n)=>N+(n.points??1),0),_=y!==null&&y<=60,O=y!==null&&y<=180&&y>60;return e.jsxs("div",{className:"min-h-screen pb-24 relative z-10",children:[e.jsxs("div",{className:"science-gradient pt-28 pb-24 text-white text-center px-4",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-3",children:t.title}),t.description&&e.jsx("p",{className:"text-sky-100 text-lg",children:t.description}),y!==null&&m===null&&e.jsxs("div",{className:`
            inline-flex items-center gap-3 mt-6 px-6 py-3 rounded-2xl font-extrabold text-2xl shadow-lg
            transition-all duration-500
            ${_?"bg-red-500 animate-pulse text-white":O?"bg-amber-400 text-gray-900":"bg-white/20 text-white"}
          `,children:[e.jsx("svg",{className:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{dir:"ltr",children:nt(y)})]}),!t.timeLimitMinutes&&e.jsx("div",{className:"inline-block mt-6 bg-white/10 px-4 py-2 rounded-full text-sm opacity-80",children:"â³ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø­Ø¯ Ø²Ù…Ù†ÙŠ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±"})]}),e.jsx("div",{className:"max-w-3xl mx-auto px-4 -mt-16 relative z-10",children:m===null?e.jsxs(e.Fragment,{children:[x&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-2xl text-center text-red-700 font-bold",children:"â° Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹."}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl border shadow-lg space-y-8",children:[(t.questions||[]).map((N,n)=>{var L;const A=o[N.id]!==null&&o[N.id]!==void 0&&o[N.id]!=="";return e.jsxs("div",{className:`pb-6 border-b last:border-b-0 ${A?"":"relative"}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("span",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-extrabold
                        ${A?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-500"}`,children:n+1}),e.jsxs("div",{className:"flex-1",children:[(!N.promptType||N.promptType==="text")&&e.jsx("h4",{className:"font-bold text-lg text-gray-800 leading-relaxed",children:N.prompt}),N.promptType==="image"&&N.promptImageUrl&&e.jsxs(e.Fragment,{children:[N.prompt&&e.jsx("p",{className:"font-bold mb-2 text-gray-700",children:N.prompt}),e.jsx("div",{className:"mb-3 flex justify-center",children:e.jsx("img",{src:N.promptImageUrl,alt:`Ø³Ø¤Ø§Ù„ ${n+1}`,className:"max-w-sm max-h-64 rounded-xl border shadow-sm"})})]}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Ø§Ù„Ù†Ù‚Ø§Ø·: ",N.points??1]})]})]}),N.type==="mcq"&&e.jsx("div",{className:"space-y-2 mr-11",children:(L=N.options)==null?void 0:L.map((z,E)=>e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all
                              ${String(o[N.id])===String(E)?"bg-sky-50 border-sky-400 text-sky-800 font-semibold":"bg-gray-50 border-gray-100 hover:bg-gray-100 text-gray-700"}`,children:[e.jsx("input",{type:"radio",name:N.id,checked:String(o[N.id])===String(E),onChange:()=>M(N.id,E),className:"accent-sky-500"}),e.jsx("span",{children:z})]},E))}),N.type!=="mcq"&&e.jsx("textarea",{className:"w-full p-3 border border-gray-200 rounded-xl mr-0 focus:ring-2 focus:ring-sky-300 focus:border-sky-400 outline-none resize-none",rows:3,placeholder:"Ø§ÙƒØªØ¨ Ø¥Ø¬Ø§Ø¨ØªÙƒ Ù‡Ù†Ø§...",value:o[N.id]??"",onChange:z=>M(N.id,z.target.value)})]},N.id)}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:()=>b(!1),disabled:k,className:"flex-1 py-3 bg-sky-600 hover:bg-sky-700 text-white rounded-xl font-bold transition-colors disabled:opacity-60",children:k?"â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...":"âœ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª"}),e.jsx("button",{onClick:()=>r(-1),className:"px-5 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-bold transition-colors",children:"Ø¥Ù„ØºØ§Ø¡"})]})]})]}):e.jsxs("div",{className:"bg-white p-8 rounded-2xl border shadow-lg text-center",children:[x&&e.jsx("div",{className:"mb-6 p-3 bg-amber-50 border border-amber-200 rounded-xl text-amber-700 font-bold text-sm",children:"â° ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª"}),e.jsx("div",{className:"text-6xl mb-4",children:"ðŸŽ‰"}),e.jsx("h3",{className:"text-2xl font-extrabold text-gray-900 mb-2",children:"ØªÙ…Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©!"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Ø´ÙƒØ±Ø§Ù‹ Ù„ÙƒØŒ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­."}),e.jsxs("div",{className:"inline-block bg-sky-50 border border-sky-200 rounded-2xl px-10 py-6 mb-6",children:[e.jsx("div",{className:"text-5xl font-extrabold text-sky-700",children:m}),e.jsxs("div",{className:"text-gray-500 font-medium mt-1",children:["Ù…Ù† ",C," Ø¯Ø±Ø¬Ø©"]}),e.jsx("div",{className:"mt-2 w-full bg-sky-100 rounded-full h-3",children:e.jsx("div",{className:"bg-sky-500 h-3 rounded-full transition-all",style:{width:`${C>0?Math.round(m/C*100):0}%`}})}),e.jsxs("div",{className:"text-sm text-sky-600 font-bold mt-2",children:[C>0?Math.round(m/C*100):0,"%"]})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx("button",{onClick:()=>r("/"),className:"px-6 py-3 bg-sky-600 text-white rounded-xl font-bold hover:bg-sky-700 transition-colors",children:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"}),e.jsx("button",{onClick:()=>r(-1),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Ø§Ù„Ø¹ÙˆØ¯Ø©"})]})]})})]})},dt=()=>{const s=Y(),{exams:d,getResultsForExam:u}=se(),[r,t]=a.useState(null),[o,j]=a.useState([]),[k,g]=a.useState(!1),[m,i]=a.useState(!1);a.useEffect(()=>{r&&x(r)},[r]);const x=async h=>{g(!0);try{const I=await u(h);j(I)}catch(I){console.error(I),j([])}finally{g(!1)}},c=()=>{if(!o||o.length===0)return alert("Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù„ØªØµØ¯ÙŠØ±");const h=[["studentName","studentPhone","score","maxScore","submittedAt"]];o.forEach(_=>h.push([_.studentName||"",_.studentPhone||"",String(_.score),String(_.maxScore),new Date(_.submittedAt).toLocaleString()]));const I=h.map(_=>_.map(O=>`"${String(O).replace(/"/g,'""')}"`).join(",")).join(`
`),y=new Blob([I],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(y),C=document.createElement("a");C.href=M,C.download=`${r}_results.csv`,C.click(),URL.revokeObjectURL(M)},b=()=>{if(o.length===0)return{avg:0,max:0,min:0};const h=o.reduce((M,C)=>M+(C.score||0),0)/o.length,I=Math.max(...o.map(M=>M.score||0)),y=Math.min(...o.map(M=>M.score||0));return{avg:h,max:I,min:y}},f=d.find(h=>h.id===r);return e.jsxs("div",{className:"min-h-screen pb-20 relative z-10",children:[e.jsxs("div",{className:"science-gradient pt-28 pb-20 text-white text-center px-4",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-3",children:"Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª"}),e.jsx("p",{className:"text-sky-100 text-lg md:text-xl",children:"Ø¹Ø±Ø¶ ÙˆØªØµØ¯ÙŠØ± Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø·Ù„Ø¨Ø©"}),e.jsx("button",{onClick:()=>s(-1),className:"mt-6 inline-block bg-white/10 hover:bg-white/20 px-6 py-2 rounded-full transition-all text-sm md:text-base",children:"â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø®Ù„Ù"})]}),e.jsx("div",{className:"max-w-6xl mx-auto px-3 sm:px-6 -mt-10",children:e.jsx("div",{className:"bg-glass rounded-2xl p-4 sm:p-6 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-4 md:gap-6",children:[e.jsxs("div",{className:"md:hidden mb-4",children:[e.jsx("label",{className:"font-bold block mb-2 text-gray-700",children:"Ø§Ø®ØªØ± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(h=>!h),className:"w-full flex items-center justify-between p-3 bg-white border border-gray-200 rounded-xl shadow-sm font-medium text-gray-800",children:[e.jsx("span",{children:(f==null?void 0:f.title)??"Ø§Ø®ØªØ±..."}),e.jsx("svg",{className:`w-5 h-5 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),m&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[d.length===0&&e.jsx("div",{className:"p-3 text-gray-400 text-center",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª"}),d.map(h=>e.jsx("button",{onClick:()=>{t(h.id),i(!1)},className:`w-full text-right px-4 py-3 border-b last:border-b-0 text-sm font-medium transition-colors ${r===h.id?"bg-sky-50 text-sky-700":"hover:bg-gray-50 text-gray-700"}`,children:h.title},h.id))]})]})]}),e.jsxs("div",{className:"hidden md:block md:col-span-1",children:[e.jsx("h3",{className:"font-bold mb-3 text-gray-700",children:"Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±"}),e.jsxs("div",{className:"space-y-2",children:[d.map(h=>e.jsx("button",{onClick:()=>t(h.id),className:`w-full text-right p-3 rounded-xl text-sm font-medium transition-all border ${r===h.id?"bg-sky-100 border-sky-300 text-sky-700":"bg-white border-gray-100 hover:bg-gray-50 text-gray-700"}`,children:h.title},h.id)),d.length===0&&e.jsx("div",{className:"text-gray-400 text-sm p-2",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª"})]})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:f?`Ù†ØªØ§Ø¦Ø¬ ${f.title}`:"Ø§Ø®ØªØ± Ø§Ø®ØªØ¨Ø§Ø±Ø§Ù‹ Ù„Ø¹Ø±Ø¶ Ù†ØªØ§Ø¦Ø¬Ù‡"}),r&&e.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-sky-600 hover:bg-sky-700 text-white rounded-xl text-sm font-bold transition-colors shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"ØªØµØ¯ÙŠØ± CSV"]})]}),r&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-5",children:[{label:"Ù…Ø­Ø§ÙˆÙ„Ø§Øª",value:o.length,color:"bg-violet-50 text-violet-700 border-violet-100"},{label:"Ù…ØªÙˆØ³Ø·",value:b().avg.toFixed(1),color:"bg-sky-50 text-sky-700 border-sky-100"},{label:"Ø§Ù„Ø£Ø¹Ù„Ù‰",value:b().max,color:"bg-emerald-50 text-emerald-700 border-emerald-100"},{label:"Ø§Ù„Ø£Ø¯Ù†Ù‰",value:b().min,color:"bg-rose-50 text-rose-700 border-rose-100"}].map(h=>e.jsxs("div",{className:`rounded-xl border p-3 text-center ${h.color}`,children:[e.jsx("div",{className:"text-2xl font-extrabold",children:h.value}),e.jsx("div",{className:"text-xs font-semibold mt-1 opacity-80",children:h.label})]},h.label))}),k&&e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx("div",{className:"w-10 h-10 border-4 border-sky-200 border-t-sky-500 rounded-full animate-spin"})}),!k&&r&&o.length===0&&e.jsxs("div",{className:"p-10 bg-white rounded-2xl text-center text-gray-400 border border-dashed border-gray-200",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ðŸ“‹"}),e.jsx("p",{className:"font-medium",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†"})]}),!k&&!r&&e.jsxs("div",{className:"p-10 bg-white rounded-2xl text-center text-gray-400 border border-dashed border-gray-200",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ðŸ“Š"}),e.jsx("p",{className:"font-medium",children:"Ø§Ø®ØªØ± Ø§Ø®ØªØ¨Ø§Ø±Ø§Ù‹ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ø¹Ø±Ø¶ Ù†ØªØ§Ø¦Ø¬Ù‡"})]}),!k&&o.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden sm:block overflow-auto bg-white rounded-2xl border border-gray-100 shadow-sm",children:e.jsxs("table",{className:"w-full text-right text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-sky-600 text-white",children:[e.jsx("th",{className:"px-4 py-3 font-bold rounded-tr-2xl",children:"#"}),e.jsx("th",{className:"px-4 py-3 font-bold",children:"Ø§Ù„Ø§Ø³Ù…"}),e.jsx("th",{className:"px-4 py-3 font-bold",children:"Ø§Ù„Ù‡Ø§ØªÙ"}),e.jsx("th",{className:"px-4 py-3 font-bold",children:"Ø§Ù„Ø¯Ø±Ø¬Ø©"}),e.jsx("th",{className:"px-4 py-3 font-bold",children:"Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰"}),e.jsx("th",{className:"px-4 py-3 font-bold rounded-tl-2xl",children:"Ø§Ù„ÙˆÙ‚Øª"})]})}),e.jsx("tbody",{children:o.map((h,I)=>e.jsxs("tr",{className:`border-t border-gray-100 ${I%2===0?"bg-white":"bg-sky-50/50"}`,children:[e.jsx("td",{className:"px-4 py-3 text-gray-400 font-medium",children:I+1}),e.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:h.studentName||"â€”"}),e.jsx("td",{className:"px-4 py-3 text-gray-600",dir:"ltr",children:h.studentPhone||"â€”"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"font-bold text-sky-700 bg-sky-50 px-2 py-1 rounded-lg",children:h.score})}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:h.maxScore}),e.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:new Date(h.submittedAt).toLocaleString("ar-EG")})]},h.id))})]})}),e.jsx("div",{className:"sm:hidden space-y-3",children:o.map((h,I)=>e.jsxs("div",{className:`rounded-2xl border p-4 ${I%2===0?"bg-white border-gray-100":"bg-sky-50/60 border-sky-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:["#",I+1]}),e.jsxs("span",{className:"bg-sky-100 text-sky-700 font-extrabold text-lg px-3 py-1 rounded-xl",children:[h.score," / ",h.maxScore]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ‘¤"}),e.jsx("span",{className:"font-bold text-gray-800",children:h.studentName||"â€”"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ“±"}),e.jsx("span",{className:"text-gray-600 text-sm",dir:"ltr",children:h.studentPhone||"â€”"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ•"}),e.jsx("span",{className:"text-gray-400 text-xs",children:new Date(h.submittedAt).toLocaleString("ar-EG")})]})]})]},h.id))})]})]})]})})})]})},ot=()=>{const[s,d]=a.useState(1),[u,r]=a.useState(""),[t,o]=a.useState(""),[j,k]=a.useState("1st-prep"),[g,m]=a.useState(""),[i,x]=a.useState(!1),c=Y(),{registerStudent:b,loginByPhone:f}=ce(),h=async y=>{if(y.preventDefault(),!t.trim()){m("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ");return}const M=t.trim().replace(/\s/g,"");if(M.length<10){m("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØµØ­ÙŠØ­");return}x(!0),m("");try{const C=await f(M);C?(sessionStorage.setItem("student_logged_in","true"),sessionStorage.setItem("student_name",C.name),sessionStorage.setItem("student_phone",C.phone),sessionStorage.setItem("student_level",C.level||"1st-prep"),sessionStorage.setItem("student_id",C.id||""),c("/")):d(2)}catch{m("Ø­Ø¯Ø« Ø®Ø·Ø£ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰")}finally{x(!1)}},I=async y=>{if(y.preventDefault(),!u.trim()){m("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù…");return}x(!0);const M=t.trim().replace(/\s/g,"");try{const C=await b(u.trim(),M,j);sessionStorage.setItem("student_logged_in","true"),sessionStorage.setItem("student_name",u.trim()),sessionStorage.setItem("student_phone",M),sessionStorage.setItem("student_level",j),C&&sessionStorage.setItem("student_id",C),c("/")}catch(C){m(C.message||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„")}finally{x(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center relative z-10 px-4",children:e.jsxs("div",{className:"bg-glass rounded-[2.5rem] shadow-2xl p-10 md:p-16 text-center max-w-md w-full border border-white/50",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-sky-500 to-teal-400 rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-lg shadow-sky-500/30",children:e.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),s===1?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"}),e.jsx("p",{className:"text-gray-500 mb-10 text-lg",children:"Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©"}),e.jsxs("form",{onSubmit:h,className:"space-y-5",children:[e.jsx("div",{children:e.jsx("input",{type:"tel",value:t,onChange:y=>{o(y.target.value),m("")},placeholder:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ",className:"w-full p-5 bg-white border border-gray-200 rounded-2xl text-center text-lg font-bold focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all shadow-sm",dir:"ltr",autoFocus:!0})}),g&&e.jsx("p",{className:"text-red-500 font-bold animate-fade-in",children:g}),e.jsx("button",{type:"submit",disabled:i,className:"w-full py-5 science-gradient text-white rounded-2xl font-bold text-xl hover:shadow-2xl transition-all transform active:scale-95 disabled:opacity-60",children:i?"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...":"Ø§Ù„ØªØ§Ù„ÙŠ"})]})]}):e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯"}),e.jsx("p",{className:"text-gray-500 mb-10 text-lg",children:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± Ù…Ø³Ø¬Ù„. ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØ³Ø¬ÙŠÙ„."}),e.jsxs("form",{onSubmit:I,className:"space-y-5",children:[e.jsx("div",{children:e.jsx("input",{type:"text",value:u,onChange:y=>{r(y.target.value),m("")},placeholder:"Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ",className:"w-full p-5 bg-white border border-gray-200 rounded-2xl text-center text-lg font-bold focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all shadow-sm",autoFocus:!0})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-right text-gray-700 font-bold mb-2 mr-2",children:"Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©:"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"1st-prep",label:"1 Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ"},{id:"2nd-prep",label:"2 Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ"},{id:"3rd-prep",label:"3 Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ"}].map(y=>e.jsx("button",{type:"button",onClick:()=>k(y.id),className:`p-3 rounded-xl border-2 font-bold transition-all ${j===y.id?"border-sky-500 bg-sky-50 text-sky-600":"border-gray-100 bg-white text-gray-500 hover:border-gray-200"}`,children:y.label},y.id))})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl text-gray-500 text-sm font-medium",children:["Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ: ",e.jsx("span",{dir:"ltr",className:"font-bold text-gray-800",children:t})]}),g&&e.jsx("p",{className:"text-red-500 font-bold animate-fade-in",children:g}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>d(1),className:"flex-shrink-0 w-16 bg-gray-100 text-gray-600 rounded-2xl font-bold hover:bg-gray-200 transition-all",children:"â†"}),e.jsx("button",{type:"submit",disabled:i,className:"flex-1 py-5 science-gradient text-white rounded-2xl font-bold text-xl hover:shadow-2xl transition-all transform active:scale-95 disabled:opacity-60",children:i?"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„...":"ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨"})]})]})]}),e.jsx("p",{className:"mt-6 text-sm text-gray-400",children:"Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ØªÙØ³ØªØ®Ø¯Ù… Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù… ÙÙ‚Ø·."})]})})},ct=()=>{const s=Y(),{students:d,isLoading:u,removeStudent:r}=ce(),[t,o]=a.useState(""),[j,k]=a.useState(null),[g,m]=a.useState("");a.useEffect(()=>{sessionStorage.getItem("admin_authenticated")!=="true"&&s("/admin-login")},[s]);const i=f=>{m(f),setTimeout(()=>m(""),3e3)},x=async f=>{await r(f),k(null),i("ØªÙ… Ø­Ø°Ù Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ“")},c=d.filter(f=>f.name.includes(t)||f.phone.includes(t)),b=f=>{try{return new Date(f).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return f}};return e.jsxs("div",{className:"min-h-screen pb-20 relative z-10",children:[e.jsxs("div",{className:"science-gradient pt-28 pb-20 text-white text-center px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-3",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø§Ø¨"}),e.jsx("p",{className:"text-sky-100 text-xl",children:"Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ† ÙÙŠ Ø§Ù„Ù…Ù†ØµØ©"}),e.jsx("div",{className:"mt-6 flex justify-center gap-4",children:e.jsx(D,{to:"/admin",className:"bg-white/10 hover:bg-white/20 px-5 py-2 rounded-full transition-all text-sm",children:"â† Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…"})})]}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 -mt-10",children:[g&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-6 py-4 rounded-2xl text-center font-bold text-lg animate-fade-in",children:g}),e.jsxs("div",{className:"bg-glass rounded-2xl shadow-lg p-6 mb-8 border border-white/50 flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsx("div",{className:"flex items-center gap-6",children:e.jsxs("div",{className:"bg-sky-50 p-4 rounded-2xl",children:[e.jsx("div",{className:"text-3xl font-extrabold text-sky-600",children:d.length}),e.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Ø·Ø§Ù„Ø¨ Ù…Ø³Ø¬Ù„"})]})}),e.jsx("div",{className:"flex-1 max-w-md w-full",children:e.jsx("input",{type:"text",value:t,onChange:f=>o(f.target.value),placeholder:"ðŸ” Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ...",className:"w-full p-4 bg-white border border-gray-200 rounded-xl focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all text-right"})})]}),u?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-sky-200 border-t-sky-500 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨..."})]}):c.length===0?e.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl border border-white/50 p-16 text-center",children:[e.jsx("svg",{className:"w-20 h-20 mx-auto mb-6 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("p",{className:"text-xl font-bold text-gray-400",children:t?"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù„Ø¨Ø­Ø«":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø§Ø¨ Ù…Ø³Ø¬Ù„ÙŠÙ† Ø¨Ø¹Ø¯"}),e.jsx("p",{className:"mt-2 text-gray-400",children:t?"Ø¬Ø±Ø¨ Ø§Ù„Ø¨Ø­Ø« Ø¨ÙƒÙ„Ù…Ø© Ù…Ø®ØªÙ„ÙØ©":"Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ø·Ù„Ø§Ø¨ Ù‡Ù†Ø§ Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"})]}):e.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl border border-white/50 overflow-hidden",children:[e.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 p-6 border-b border-gray-100 bg-gray-50/50 font-bold text-gray-600 text-sm",children:[e.jsx("div",{className:"col-span-1 text-center",children:"#"}),e.jsx("div",{className:"col-span-3",children:"Ø§Ù„Ø§Ø³Ù…"}),e.jsx("div",{className:"col-span-2",children:"Ø§Ù„Ù…Ø±Ø­Ù„Ø©"}),e.jsx("div",{className:"col-span-2",children:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"}),e.jsx("div",{className:"col-span-2",children:"ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„"}),e.jsx("div",{className:"col-span-1",children:"Ø¢Ø®Ø± Ø¸Ù‡ÙˆØ±"}),e.jsx("div",{className:"col-span-1 text-center",children:"Ø¥Ø¬Ø±Ø§Ø¡"})]}),c.map((f,h)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-6 border-b border-gray-50 hover:bg-sky-50/30 transition-all items-center",children:[e.jsx("div",{className:"hidden md:flex col-span-1 justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-sky-100 text-sky-600 rounded-lg flex items-center justify-center font-bold text-sm",children:h+1})}),e.jsx("div",{className:"col-span-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-400 to-teal-400 rounded-full flex items-center justify-center text-white font-bold flex-shrink-0",children:f.name.charAt(0)}),e.jsx("span",{className:"font-bold text-gray-900",children:f.name})]})}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"md:hidden font-bold text-gray-400 ml-2",children:"Ø§Ù„Ù…Ø±Ø­Ù„Ø©:"}),e.jsx("span",{className:"inline-block px-3 py-1 bg-gray-100 rounded-full text-xs font-bold text-gray-600",children:f.level==="1st-prep"?"1 Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ":f.level==="2nd-prep"?"2 Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ":f.level==="3rd-prep"?"3 Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ":"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"})]}),e.jsxs("div",{className:"col-span-2 text-gray-600",dir:"ltr",children:[e.jsx("span",{className:"md:hidden font-bold text-gray-400 ml-2",children:"Ø§Ù„Ù‡Ø§ØªÙ:"}),"ðŸ“± ",f.phone]}),e.jsxs("div",{className:"col-span-2 text-gray-500 text-sm",children:[e.jsx("span",{className:"md:hidden font-bold text-gray-400 ml-2",children:"Ø§Ù„ØªØ³Ø¬ÙŠÙ„:"}),b(f.loginDate)]}),e.jsxs("div",{className:"col-span-1 text-gray-500 text-sm",children:[e.jsx("span",{className:"md:hidden font-bold text-gray-400 ml-2",children:"Ø¢Ø®Ø± Ø¸Ù‡ÙˆØ±:"}),b(f.lastSeen)]}),e.jsx("div",{className:"col-span-1 flex justify-center",children:e.jsx("button",{onClick:()=>k(f.id),className:"p-2 bg-red-50 text-red-500 rounded-lg hover:bg-red-100 transition-all",title:"Ø­Ø°Ù Ø§Ù„Ø·Ø§Ù„Ø¨",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},f.id))]})]}),j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-3xl p-10 max-w-md w-full text-center shadow-2xl",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"ØªØ£ÙƒÙŠØ¯ Ø­Ø°Ù Ø§Ù„Ø·Ø§Ù„Ø¨"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø·Ø§Ù„Ø¨ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©ØŸ"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>k(null),className:"flex-1 py-4 bg-gray-100 text-gray-700 rounded-2xl font-bold hover:bg-gray-200 transition-all",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{onClick:()=>x(j),className:"flex-1 py-4 bg-red-500 text-white rounded-2xl font-bold hover:bg-red-600 transition-all",children:"Ø­Ø°Ù"})]})]})})]})};class xt extends a.Component{constructor(d){super(d),this.state={hasError:!1,error:null,info:null}}componentDidCatch(d,u){console.error("Uncaught error:",d,u),this.setState({hasError:!0,error:d,info:u})}render(){var r,t,o;const d=this.state,u=(r=this.props)==null?void 0:r.children;return d.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:e.jsxs("div",{className:"max-w-4xl w-full bg-white rounded-2xl shadow p-6 border",children:[e.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Ù„Ù„Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø³Ø±ÙŠØ¹ØŒ Ù‚Ù… Ø¨Ù†Ø³Ø® Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ù…Ø±ÙÙ‚ ÙˆØ£Ø±Ø³Ù„Ù‡ Ù„ÙŠ."}),e.jsx("div",{className:"mb-4",children:e.jsxs("details",{className:"whitespace-pre-wrap bg-gray-50 p-3 rounded",children:[e.jsx("summary",{className:"cursor-pointer font-medium",children:"Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø·Ø£"}),e.jsx("pre",{className:"text-xs mt-2",children:String((t=d.error)==null?void 0:t.stack)||String(d.error)}),e.jsx("pre",{className:"text-xs mt-2",children:String((o=d.info)==null?void 0:o.componentStack)})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-sky-600 text-white rounded",children:"Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©"}),e.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,info:null})},className:"px-4 py-2 bg-gray-100 rounded",children:"Ø¥Ø®ÙØ§Ø¡"})]})]})}):u??null}}const mt=()=>e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden science-grid",children:[e.jsx("div",{className:"absolute top-[10%] left-[5%] animate-science-float text-sky-400/20",children:e.jsxs("svg",{width:"180",height:"180",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor"}),e.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"3",transform:"rotate(45 12 12)"}),e.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"3",transform:"rotate(-45 12 12)"}),e.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"3",transform:"rotate(90 12 12)"})]})}),e.jsx("div",{className:"absolute bottom-[10%] right-[8%] animate-science-sway text-teal-400/20",style:{animationDelay:"2s"},children:e.jsxs("svg",{width:"140",height:"140",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5",children:[e.jsx("path",{d:"M6 18h8m-8-3h5m-2-3h2m-2-3h2m-6 9V4a2 2 0 012-2h1m2 0h1a2 2 0 012 2v1m-4 2l4 4m-4 0l4-4"}),e.jsx("path",{d:"M12 18l3 3m0-3l-3 3M9 22h9"})]})}),e.jsx("div",{className:"absolute top-[40%] right-[12%] animate-science-float text-sky-500/10",style:{animationDelay:"4s"},children:e.jsx("svg",{width:"80",height:"160",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:e.jsx("path",{d:"M8 3c4 4 4 14 0 18M16 3c-4 4-4 14 0 18M8 7h8M8 12h8M8 17h8"})})}),e.jsx("div",{className:"absolute bottom-[40%] left-[10%] animate-science-pulse text-teal-500/20",children:e.jsx("svg",{width:"100",height:"100",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5",children:e.jsx("path",{d:"M9 3h6M10 3v15a2 2 0 002 2 2 2 0 002-2V3m-4 10h4"})})}),e.jsx("div",{className:"absolute top-[20%] right-[40%] w-3 h-3 rounded-full bg-sky-300 animate-science-pulse"}),e.jsx("div",{className:"absolute top-[25%] right-[42%] w-2 h-2 rounded-full bg-teal-300 animate-science-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute bottom-[30%] left-[45%] w-4 h-4 rounded-full bg-sky-200 animate-science-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute bottom-[15%] left-[25%] w-2 h-2 rounded-full bg-teal-200 animate-science-pulse",style:{animationDelay:"1.5s"}})]}),ht=()=>{const{levels:s,isLoading:d}=X(),[u,r]=a.useState(!1),[t,o]=a.useState(null),{exams:j,isLoading:k}=se();if(a.useEffect(()=>{const i=sessionStorage.getItem("student_logged_in")==="true",x=sessionStorage.getItem("student_level");r(i),o(x)},[]),d||k)return e.jsx("div",{className:"min-h-screen flex items-center justify-center relative z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-sky-200 border-t-sky-500 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."})]})});const g=u?s.filter(i=>i.id===t):[],m=u&&t?j.filter(i=>i.published&&i.levelId===t):[];return e.jsxs("div",{className:"relative",children:[e.jsx(Je,{}),u&&e.jsxs("section",{id:"levels",className:"py-24 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-extrabold text-gray-900",children:"Ù…Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©"}),e.jsx("div",{className:"mt-4 h-1.5 w-24 bg-sky-500 mx-auto rounded-full"}),e.jsx("p",{className:"mt-6 text-gray-600 max-w-2xl mx-auto text-lg",children:"ÙƒÙ„ Ù…Ø§ ØªØ­ØªØ§Ø¬Ù‡ Ù„Ù„ØªÙÙˆÙ‚ ÙÙŠ Ù…Ø§Ø¯Ø© Ø§Ù„Ø¹Ù„ÙˆÙ…."})]}),g.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 justify-center",children:g.map(i=>e.jsx(qe,{data:i},i.id))}):e.jsxs("div",{className:"text-center p-10 bg-white/50 rounded-3xl border border-gray-100",children:[e.jsx("p",{className:"text-xl text-gray-500 font-bold",children:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø­ØªÙˆÙ‰ Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©."}),e.jsx(D,{to:"/student-login",className:"mt-4 inline-block text-sky-600 font-bold hover:underline",children:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ ÙˆØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø±Ø­Ù„Ø©"})]}),u&&e.jsxs("section",{className:"mt-16",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-3xl font-extrabold",children:"Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù„Ù…Ø±Ø­Ù„ØªÙƒ"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Ø­Ù„ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù†Ø´Ø±Øª Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø¹Ù„Ù… Ù„Ù‚ÙŠØ§Ø³ Ù…Ø³ØªÙˆØ§Ùƒ"})]}),e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:m.length===0?e.jsx("div",{className:"p-8 bg-white rounded-2xl text-center text-gray-500",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ù†Ø´ÙˆØ±Ø© Ù„Ù…Ø±Ø­Ù„ØªÙƒ Ø­Ø§Ù„ÙŠØ§Ù‹."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m.map(i=>{var x;return e.jsxs("div",{className:"p-6 bg-white rounded-2xl border flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg",children:i.title}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:i.description}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Ø£Ø³Ø¦Ù„Ø©: ",((x=i.questions)==null?void 0:x.length)??0," â€¢ Ø²Ù…Ù†: ",i.timeLimitMinutes??"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(D,{to:`/exam/${i.id}`,className:"px-4 py-3 bg-sky-600 text-white rounded-xl",children:"Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±"})})]},i.id)})})})]})]}),!u&&e.jsx("section",{className:"py-16 max-w-4xl mx-auto px-4 relative z-10 text-center",children:e.jsxs("div",{className:"bg-gradient-to-br from-sky-500 to-teal-400 rounded-[3rem] p-12 text-white shadow-xl shadow-sky-200 transform hover:scale-[1.02] transition-all duration-500",children:[e.jsx("h2",{className:"text-4xl font-extrabold mb-6",children:"Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø¢Ù†"}),e.jsx("p",{className:"text-xl opacity-90 mb-10 max-w-2xl mx-auto",children:"Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ø§Ù„Ø¢Ù† Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù…Ø­ØªÙˆÙ‰ Ù…Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø¯Ø±ÙˆØ³Ùƒ Ø£ÙˆÙ„Ø§Ù‹ Ø¨Ø£ÙˆÙ„."}),e.jsx(D,{to:"/student-login",className:"inline-block bg-white text-sky-600 px-10 py-4 rounded-2xl font-bold text-xl hover:bg-sky-50 transition-all shadow-lg hover:shadow-xl transform active:scale-95",children:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø·Ø§Ù„Ø¨"})]})})]})},we=({lesson:s,levelId:d})=>{var x;const{updateLesson:u}=X(),[r,t]=a.useState(()=>s.codes&&s.codes.length>0?sessionStorage.getItem(`video_unlocked_${s.id}`)!=="true":!!s.code),[o,j]=a.useState(""),[k,g]=a.useState("");a.useEffect(()=>{if(s.codes&&s.codes.length>0){const c=sessionStorage.getItem(`video_unlocked_${s.id}`);t(c!=="true")}else t(!!s.code)},[s.id,s.code,s.codes]);const m=async c=>{if(c.preventDefault(),s.codes&&s.codes.length>0){const b=o.trim(),f=s.codes.find(y=>y.value===b);if(!f){g("Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­");return}if(f.used){g("Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„");return}const h=sessionStorage.getItem("student_phone")||sessionStorage.getItem("student_name")||null,I=(s.codes||[]).map(y=>y.value===b?{...y,used:!0,assignedTo:h}:y);try{await u(d,s.id,{codes:I}),t(!1),sessionStorage.setItem(`video_unlocked_${s.id}`,"true"),g("")}catch(y){console.error("Failed to mark code used",y),g("Ø­Ø¯Ø« Ø®Ø·Ø£ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹")}return}o.trim()===s.code?(t(!1),sessionStorage.setItem(`video_unlocked_${s.id}`,"true"),g("")):g("Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­")},i=s.videos&&s.videos.length>0?s.videos:s.videoUrl?[{id:"legacy-"+s.id,title:s.title,videoUrl:s.videoUrl}]:[];return e.jsxs("div",{className:"space-y-8",children:[r&&((((x=s.codes)==null?void 0:x.length)??0)>0||s.code)&&e.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl border border-white/50 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-5xl",children:"ðŸ”’"})}),e.jsx("h3",{className:"text-white font-bold mb-2 text-2xl",children:"Ù‡Ø°Ù‡ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù…Ø­Ù…ÙŠØ© Ø¨ÙƒÙˆØ¯"}),s.codes&&s.codes.length>0&&s.codes.every(c=>c.used)?e.jsxs("div",{className:"text-gray-300 max-w-xs mx-auto mt-4",children:[e.jsx("p",{className:"mb-2",children:"Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙƒÙˆØ§Ø¯ Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹."}),e.jsx("p",{children:"ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù… Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙƒÙˆØ§Ø¯ Ø¬Ø¯ÙŠØ¯Ø©."})]}):e.jsxs("form",{onSubmit:m,className:"w-full max-w-xs space-y-3 mt-6 mx-auto",children:[e.jsx("input",{type:"text",value:o,onChange:c=>j(c.target.value),placeholder:"Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ",className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 text-white text-center focus:ring-2 focus:ring-sky-500 outline-none"}),k&&e.jsx("p",{className:"text-red-400 text-sm font-bold",children:k}),e.jsx("button",{type:"submit",className:"w-full py-2 bg-sky-600 hover:bg-sky-700 text-white rounded-lg font-bold transition-colors",children:"Ù…Ø´Ø§Ù‡Ø¯Ø©"})]})]}),!r&&i.map((c,b)=>e.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl overflow-hidden border border-white/50 flex flex-col",children:[e.jsx("div",{className:"aspect-video relative bg-black overflow-hidden",children:c.videoUrl&&(c.videoUrl.startsWith("data:")||c.videoUrl.endsWith(".mp4"))?e.jsx("video",{className:"w-full h-full",src:c.videoUrl,controls:!0,controlsList:"nodownload",onContextMenu:f=>(f.preventDefault(),!1)}):e.jsx("iframe",{className:"w-full h-full",src:c.videoUrl,title:c.title,allowFullScreen:!0})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:["ðŸ“¹ ",c.title]}),c.description&&e.jsx("p",{className:"text-gray-500 leading-relaxed",children:c.description}),i.length>1&&e.jsxs("p",{className:"text-gray-400 text-sm mt-4",children:["Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ",b+1," Ù…Ù† ",i.length]})]})]},c.id))]})},ut=()=>{const{levelId:s}=re(),{levels:d}=X(),u=d.find(r=>r.id===s);return u?e.jsxs("div",{className:"min-h-screen pb-32 relative z-10",children:[e.jsxs("div",{className:"science-gradient pt-32 pb-48 text-white text-center px-4",children:[e.jsx("h1",{className:"text-5xl font-extrabold mb-4",children:u.titleAr}),e.jsx("p",{className:"text-sky-100 text-2xl",children:"ðŸŽ¥ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø´Ø±Ø­"}),e.jsx(D,{to:"/",className:"mt-8 inline-block bg-white/10 hover:bg-white/20 px-6 py-2 rounded-full transition-all",children:"â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-32",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:(u.lessons||[]).map(r=>e.jsx(D,{to:`/level/${s}/videos/${r.id}`,className:"block group",children:e.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl overflow-hidden border border-white/50 hover:shadow-2xl transition-all transform hover:scale-105",children:[e.jsxs("div",{className:"aspect-video relative bg-black",style:r.coverImage?{backgroundImage:`url(${r.coverImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{backgroundColor:"#000"},children:[r.videoUrl&&(r.videoUrl.startsWith("data:")||r.videoUrl.endsWith(".mp4"))?e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("span",{className:"bg-white/40 text-xs px-2 py-1 rounded",children:"Ù…Ø­Ù…Ù‘Ù„"})}):null,e.jsx("div",{className:"absolute inset-0 bg-black/30 group-hover:bg-black/50 transition-all flex items-end p-4",children:e.jsx("div",{children:e.jsx("h3",{className:"text-white text-lg font-bold",children:r.title})})})]}),e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:r.description})})]})},r.id))})})]}):e.jsx("div",{className:"p-20 text-center font-bold text-2xl",children:"Ø§Ù„Ù…Ø±Ø­Ù„Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©."})},ye=({type:s})=>{const{levelId:d}=re(),{levels:u}=X(),r=u.find(t=>t.id===d);return r?e.jsxs("div",{className:"min-h-screen pb-32 relative z-10",children:[e.jsxs("div",{className:"science-gradient pt-32 pb-48 text-white text-center px-4",children:[e.jsx("h1",{className:"text-5xl font-extrabold mb-4",children:r.titleAr}),e.jsx("p",{className:"text-sky-100 text-2xl",children:s==="videos"?"ðŸŽ¥ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø´Ø±Ø­":"ðŸ“š Ù…Ø°ÙƒØ±Ø§Øª Ø§Ù„Ø´Ø±Ø­"}),e.jsx(D,{to:"/",className:"mt-8 inline-block bg-white/10 hover:bg-white/20 px-6 py-2 rounded-full transition-all",children:"â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-32",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:[s==="notes"&&(r.lessons||[]).filter(t=>t.pdfUrl&&t.pdfUrl.trim()!=="").length===0&&e.jsxs("div",{className:"col-span-3 text-center py-20 text-gray-400",children:[e.jsx("div",{className:"text-5xl mb-4",children:"ðŸ“­"}),e.jsx("p",{className:"text-xl font-bold",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø°ÙƒØ±Ø§Øª Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹"})]}),(s==="notes"?(r.lessons||[]).filter(t=>t.pdfUrl&&t.pdfUrl.trim()!==""):r.lessons||[]).map(t=>e.jsx(Ne.Fragment,{children:s==="videos"?e.jsx(we,{lesson:t,levelId:r.id}):e.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl overflow-hidden border border-white/50 flex flex-col hover:shadow-2xl transition-all group",children:[e.jsx("div",{className:"h-48 bg-teal-50 flex items-center justify-center text-teal-600",children:e.jsxs("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),e.jsxs("div",{className:"p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:t.title}),e.jsx("p",{className:"text-gray-500 leading-relaxed mb-8",children:t.description}),e.jsxs("a",{href:t.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"w-full py-4 bg-teal-600 text-white rounded-2xl font-bold hover:bg-teal-700 transition-all flex items-center justify-center gap-3 shadow-lg shadow-teal-600/20",children:[e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"ÙØªØ­ Ø§Ù„Ù…Ø°ÙƒØ±Ø©"]})]})]})},t.id))]})})]}):e.jsx("div",{className:"p-20 text-center font-bold text-2xl",children:"Ø§Ù„Ù…Ø±Ø­Ù„Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©."})},pt=()=>{var o;const{levelId:s,lessonId:d}=re(),{levels:u}=X(),r=u.find(j=>j.id===s),t=(o=r==null?void 0:r.lessons)==null?void 0:o.find(j=>j.id===d);return!r||!t?e.jsx("div",{className:"p-20 text-center font-bold text-2xl",children:"Ø§Ù„Ø¯Ø±Ø³ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯."}):e.jsxs("div",{className:"min-h-screen pb-32 relative z-10",children:[e.jsxs("div",{className:"science-gradient pt-32 pb-12 text-white text-center px-4",children:[e.jsx(D,{to:`/level/${s}/courses`,className:"inline-block bg-white/10 hover:bg-white/20 px-6 py-2 rounded-full transition-all mb-4",children:"â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª"}),e.jsx("h1",{className:"text-4xl font-extrabold mb-4",children:t.title})]}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 -mt-12",children:e.jsx(we,{lesson:t,levelId:r.id})})]})},gt=()=>e.jsx(Qe,{children:e.jsxs("div",{className:"min-h-screen flex flex-col relative bg-slate-50",children:[e.jsx(mt,{}),e.jsx(Ze,{}),e.jsx("main",{className:"flex-grow",children:e.jsx(xt,{children:e.jsxs(Ge,{children:[e.jsx(F,{path:"/",element:e.jsx(ht,{})}),e.jsx(F,{path:"/level/:levelId/courses",element:e.jsx(ut,{})}),e.jsx(F,{path:"/level/:levelId/videos/:lessonId",element:e.jsx(pt,{})}),e.jsx(F,{path:"/level/:levelId/videos",element:e.jsx(ye,{type:"videos"})}),e.jsx(F,{path:"/level/:levelId/notes",element:e.jsx(ye,{type:"notes"})}),e.jsx(F,{path:"/admin-login",element:e.jsx(tt,{})}),e.jsx(F,{path:"/admin",element:e.jsx(st,{})}),e.jsx(F,{path:"/admin/exams",element:e.jsx(lt,{})}),e.jsx(F,{path:"/admin/exam-results",element:e.jsx(dt,{})}),e.jsx(F,{path:"/exams",element:e.jsx(at,{})}),e.jsx(F,{path:"/exam/:examId",element:e.jsx(it,{})}),e.jsx(F,{path:"/student-login",element:e.jsx(ot,{})}),e.jsx(F,{path:"/admin/students",element:e.jsx(ct,{})})]})})}),e.jsx("footer",{className:"bg-gray-900 text-gray-400 py-20 px-4 relative z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12 items-center text-center md:text-right",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-2xl font-extrabold mb-4",children:"Ø§Ù„Ø£Ø³ØªØ§Ø°Ø© ØµÙØ§Ø¡ Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„"}),e.jsx("p",{className:"text-lg",children:"Ø±Ø­Ù„ØªÙƒ Ù†Ø­Ùˆ Ø§Ù„ØªÙ…ÙŠØ² ÙÙŠ Ù…Ø§Ø¯Ø© Ø§Ù„Ø¹Ù„ÙˆÙ… ØªØ¨Ø¯Ø£ Ù…Ù† Ù‡Ù†Ø§."})]}),e.jsxs("div",{className:"flex justify-center gap-6",children:[e.jsx("a",{href:"https://www.facebook.com/share/16t9uVs1Q1/",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center hover:bg-sky-500 hover:text-white transition-all",title:"ÙÙŠØ³Ø¨ÙˆÙƒ",children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),e.jsx("a",{href:"https://youtube.com/@safaaesmail7729?si=7Pw4o4EbbIpmhgAc",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center hover:bg-red-500 hover:text-white transition-all",title:"ÙŠÙˆØªÙŠÙˆØ¨",children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),e.jsx("a",{href:"https://wa.me/201222966617",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center hover:bg-green-500 hover:text-white transition-all",title:"ÙˆØ§ØªØ³Ø§Ø¨",children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})})]}),e.jsxs("div",{className:"text-sm",children:["Â© ",new Date().getFullYear()," Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù…Ù†ØµØ© Ø§Ù„Ø£Ø³ØªØ§Ø°Ø© ØµÙØ§Ø¡ Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©"]})]})})]})});typeof document<"u"&&(document.documentElement.style.scrollBehavior="smooth");const ke=document.getElementById("root");if(!ke)throw new Error("Could not find root element to mount to");const bt=Ke.createRoot(ke);bt.render(e.jsx(Ne.StrictMode,{children:e.jsx(gt,{})}));
