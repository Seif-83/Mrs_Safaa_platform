(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function sy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gd={exports:{}},ra={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function xb(){if(Fg)return ra;Fg=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:h,ref:o!==void 0?o:null,props:u}}return ra.Fragment=n,ra.jsx=s,ra.jsxs=s,ra}var Kg;function _b(){return Kg||(Kg=1,gd.exports=xb()),gd.exports}var f=_b(),yd={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function bb(){if(Zg)return oe;Zg=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,G={};function Y(C,U,F){this.props=C,this.context=U,this.refs=G,this.updater=F||j}Y.prototype.isReactComponent={},Y.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},Y.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Q(){}Q.prototype=Y.prototype;function B(C,U,F){this.props=C,this.context=U,this.refs=G,this.updater=F||j}var le=B.prototype=new Q;le.constructor=B,D(le,Y.prototype),le.isPureReactComponent=!0;var fe=Array.isArray;function K(){}var z={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function ae(C,U,F){var Z=F.ref;return{$$typeof:i,type:C,key:U,ref:Z!==void 0?Z:null,props:F}}function ye(C,U){return ae(C.type,U,C.props)}function Te(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function Ge(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(F){return U[F]})}var wt=/\/+/g;function Ye(C,U){return typeof C=="object"&&C!==null&&C.key!=null?Ge(""+C.key):U.toString(36)}function ze(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(K,K):(C.status="pending",C.then(function(U){C.status==="pending"&&(C.status="fulfilled",C.value=U)},function(U){C.status==="pending"&&(C.status="rejected",C.reason=U)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function k(C,U,F,Z,re){var he=typeof C;(he==="undefined"||he==="boolean")&&(C=null);var Ce=!1;if(C===null)Ce=!0;else switch(he){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(C.$$typeof){case i:case n:Ce=!0;break;case _:return Ce=C._init,k(Ce(C._payload),U,F,Z,re)}}if(Ce)return re=re(C),Ce=Z===""?"."+Ye(C,0):Z,fe(re)?(F="",Ce!=null&&(F=Ce.replace(wt,"$&/")+"/"),k(re,U,F,"",function(Rl){return Rl})):re!=null&&(Te(re)&&(re=ye(re,F+(re.key==null||C&&C.key===re.key?"":(""+re.key).replace(wt,"$&/")+"/")+Ce)),U.push(re)),1;Ce=0;var we=Z===""?".":Z+":";if(fe(C))for(var Ze=0;Ze<C.length;Ze++)Z=C[Ze],he=we+Ye(Z,Ze),Ce+=k(Z,U,F,he,re);else if(Ze=w(C),typeof Ze=="function")for(C=Ze.call(C),Ze=0;!(Z=C.next()).done;)Z=Z.value,he=we+Ye(Z,Ze++),Ce+=k(Z,U,F,he,re);else if(he==="object"){if(typeof C.then=="function")return k(ze(C),U,F,Z,re);throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function X(C,U,F){if(C==null)return C;var Z=[],re=0;return k(C,Z,"","",function(he){return U.call(F,he,re++)}),Z}function $(C){if(C._status===-1){var U=C._result;U=U(),U.then(function(F){(C._status===0||C._status===-1)&&(C._status=1,C._result=F)},function(F){(C._status===0||C._status===-1)&&(C._status=2,C._result=F)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var me=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Me={map:X,forEach:function(C,U,F){X(C,function(){U.apply(this,arguments)},F)},count:function(C){var U=0;return X(C,function(){U++}),U},toArray:function(C){return X(C,function(U){return U})||[]},only:function(C){if(!Te(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return oe.Activity=v,oe.Children=Me,oe.Component=Y,oe.Fragment=s,oe.Profiler=o,oe.PureComponent=B,oe.StrictMode=a,oe.Suspense=y,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,oe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return z.H.useMemoCache(C)}},oe.cache=function(C){return function(){return C.apply(null,arguments)}},oe.cacheSignal=function(){return null},oe.cloneElement=function(C,U,F){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Z=D({},C.props),re=C.key;if(U!=null)for(he in U.key!==void 0&&(re=""+U.key),U)!ce.call(U,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&U.ref===void 0||(Z[he]=U[he]);var he=arguments.length-2;if(he===1)Z.children=F;else if(1<he){for(var Ce=Array(he),we=0;we<he;we++)Ce[we]=arguments[we+2];Z.children=Ce}return ae(C.type,re,Z)},oe.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},oe.createElement=function(C,U,F){var Z,re={},he=null;if(U!=null)for(Z in U.key!==void 0&&(he=""+U.key),U)ce.call(U,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(re[Z]=U[Z]);var Ce=arguments.length-2;if(Ce===1)re.children=F;else if(1<Ce){for(var we=Array(Ce),Ze=0;Ze<Ce;Ze++)we[Ze]=arguments[Ze+2];re.children=we}if(C&&C.defaultProps)for(Z in Ce=C.defaultProps,Ce)re[Z]===void 0&&(re[Z]=Ce[Z]);return ae(C,he,re)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(C){return{$$typeof:g,render:C}},oe.isValidElement=Te,oe.lazy=function(C){return{$$typeof:_,_payload:{_status:-1,_result:C},_init:$}},oe.memo=function(C,U){return{$$typeof:p,type:C,compare:U===void 0?null:U}},oe.startTransition=function(C){var U=z.T,F={};z.T=F;try{var Z=C(),re=z.S;re!==null&&re(F,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(K,me)}catch(he){me(he)}finally{U!==null&&F.types!==null&&(U.types=F.types),z.T=U}},oe.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},oe.use=function(C){return z.H.use(C)},oe.useActionState=function(C,U,F){return z.H.useActionState(C,U,F)},oe.useCallback=function(C,U){return z.H.useCallback(C,U)},oe.useContext=function(C){return z.H.useContext(C)},oe.useDebugValue=function(){},oe.useDeferredValue=function(C,U){return z.H.useDeferredValue(C,U)},oe.useEffect=function(C,U){return z.H.useEffect(C,U)},oe.useEffectEvent=function(C){return z.H.useEffectEvent(C)},oe.useId=function(){return z.H.useId()},oe.useImperativeHandle=function(C,U,F){return z.H.useImperativeHandle(C,U,F)},oe.useInsertionEffect=function(C,U){return z.H.useInsertionEffect(C,U)},oe.useLayoutEffect=function(C,U){return z.H.useLayoutEffect(C,U)},oe.useMemo=function(C,U){return z.H.useMemo(C,U)},oe.useOptimistic=function(C,U){return z.H.useOptimistic(C,U)},oe.useReducer=function(C,U,F){return z.H.useReducer(C,U,F)},oe.useRef=function(C){return z.H.useRef(C)},oe.useState=function(C){return z.H.useState(C)},oe.useSyncExternalStore=function(C,U,F){return z.H.useSyncExternalStore(C,U,F)},oe.useTransition=function(){return z.H.useTransition()},oe.version="19.2.3",oe}var Wg;function af(){return Wg||(Wg=1,yd.exports=bb()),yd.exports}var E=af();const ay=sy(E);var vd={exports:{}},oa={},xd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function Sb(){return Pg||(Pg=1,(function(i){function n(k,X){var $=k.length;k.push(X);e:for(;0<$;){var me=$-1>>>1,Me=k[me];if(0<o(Me,X))k[me]=X,k[$]=Me,$=me;else break e}}function s(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var X=k[0],$=k.pop();if($!==X){k[0]=$;e:for(var me=0,Me=k.length,C=Me>>>1;me<C;){var U=2*(me+1)-1,F=k[U],Z=U+1,re=k[Z];if(0>o(F,$))Z<Me&&0>o(re,F)?(k[me]=re,k[Z]=$,me=Z):(k[me]=F,k[U]=$,me=U);else if(Z<Me&&0>o(re,$))k[me]=re,k[Z]=$,me=Z;else break e}}return X}function o(k,X){var $=k.sortIndex-X.sortIndex;return $!==0?$:k.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,g=h.now();i.unstable_now=function(){return h.now()-g}}var y=[],p=[],_=1,v=null,b=3,w=!1,j=!1,D=!1,G=!1,Y=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function le(k){for(var X=s(p);X!==null;){if(X.callback===null)a(p);else if(X.startTime<=k)a(p),X.sortIndex=X.expirationTime,n(y,X);else break;X=s(p)}}function fe(k){if(D=!1,le(k),!j)if(s(y)!==null)j=!0,K||(K=!0,Ge());else{var X=s(p);X!==null&&ze(fe,X.startTime-k)}}var K=!1,z=-1,ce=5,ae=-1;function ye(){return G?!0:!(i.unstable_now()-ae<ce)}function Te(){if(G=!1,K){var k=i.unstable_now();ae=k;var X=!0;try{e:{j=!1,D&&(D=!1,Q(z),z=-1),w=!0;var $=b;try{t:{for(le(k),v=s(y);v!==null&&!(v.expirationTime>k&&ye());){var me=v.callback;if(typeof me=="function"){v.callback=null,b=v.priorityLevel;var Me=me(v.expirationTime<=k);if(k=i.unstable_now(),typeof Me=="function"){v.callback=Me,le(k),X=!0;break t}v===s(y)&&a(y),le(k)}else a(y);v=s(y)}if(v!==null)X=!0;else{var C=s(p);C!==null&&ze(fe,C.startTime-k),X=!1}}break e}finally{v=null,b=$,w=!1}X=void 0}}finally{X?Ge():K=!1}}}var Ge;if(typeof B=="function")Ge=function(){B(Te)};else if(typeof MessageChannel<"u"){var wt=new MessageChannel,Ye=wt.port2;wt.port1.onmessage=Te,Ge=function(){Ye.postMessage(null)}}else Ge=function(){Y(Te,0)};function ze(k,X){z=Y(function(){k(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(k){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var $=b;b=X;try{return k()}finally{b=$}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(k,X){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=b;b=k;try{return X()}finally{b=$}},i.unstable_scheduleCallback=function(k,X,$){var me=i.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?me+$:me):$=me,k){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=$+Me,k={id:_++,callback:X,priorityLevel:k,startTime:$,expirationTime:Me,sortIndex:-1},$>me?(k.sortIndex=$,n(p,k),s(y)===null&&k===s(p)&&(D?(Q(z),z=-1):D=!0,ze(fe,$-me))):(k.sortIndex=Me,n(y,k),j||w||(j=!0,K||(K=!0,Ge()))),k},i.unstable_shouldYield=ye,i.unstable_wrapCallback=function(k){var X=b;return function(){var $=b;b=X;try{return k.apply(this,arguments)}finally{b=$}}}})(_d)),_d}var Jg;function Eb(){return Jg||(Jg=1,xd.exports=Sb()),xd.exports}var bd={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function Nb(){if($g)return Ct;$g=1;var i=af();function n(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,p,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:y,containerInfo:p,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ct.createPortal=function(y,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return u(y,p,null,_)},Ct.flushSync=function(y){var p=h.T,_=a.p;try{if(h.T=null,a.p=2,y)return y()}finally{h.T=p,a.p=_,a.d.f()}},Ct.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},Ct.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ct.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var _=p.as,v=g(_,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:w}):_==="script"&&a.d.X(y,{crossOrigin:v,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ct.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=g(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},Ct.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,v=g(_,p.crossOrigin);a.d.L(y,_,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ct.preloadModule=function(y,p){if(typeof y=="string")if(p){var _=g(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},Ct.requestFormReset=function(y){a.d.r(y)},Ct.unstable_batchedUpdates=function(y,p){return y(p)},Ct.useFormState=function(y,p,_){return h.H.useFormState(y,p,_)},Ct.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ct.version="19.2.3",Ct}var e0;function ry(){if(e0)return bd.exports;e0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),bd.exports=Nb(),bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function Cb(){if(t0)return oa;t0=1;var i=Eb(),n=af(),s=ry();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(a(188))}function p(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(a(188));return t!==e?null:e}for(var l=e,r=t;;){var c=l.return;if(c===null)break;var d=c.alternate;if(d===null){if(r=c.return,r!==null){l=r;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===l)return y(c),e;if(d===r)return y(c),t;d=d.sibling}throw Error(a(188))}if(l.return!==r.return)l=c,r=d;else{for(var m=!1,x=c.child;x;){if(x===l){m=!0,l=c,r=d;break}if(x===r){m=!0,r=c,l=d;break}x=x.sibling}if(!m){for(x=d.child;x;){if(x===l){m=!0,l=d,r=c;break}if(x===r){m=!0,r=d,l=c;break}x=x.sibling}if(!m)throw Error(a(189))}}if(l.alternate!==r)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),B=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Ge(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var wt=Symbol.for("react.client.reference");function Ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===wt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case Y:return"Profiler";case G:return"StrictMode";case fe:return"Suspense";case K:return"SuspenseList";case ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case B:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:Ye(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return Ye(e(t))}catch{}}return null}var ze=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},me=[],Me=-1;function C(e){return{current:e}}function U(e){0>Me||(e.current=me[Me],me[Me]=null,Me--)}function F(e,t){Me++,me[Me]=e.current,e.current=t}var Z=C(null),re=C(null),he=C(null),Ce=C(null);function we(e,t){switch(F(he,t),F(re,e),F(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=gg(t),e=yg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(Z),F(Z,e)}function Ze(){U(Z),U(re),U(he)}function Rl(e){e.memoizedState!==null&&F(Ce,e);var t=Z.current,l=yg(t,e.type);t!==l&&(F(re,e),F(Z,l))}function ri(e){re.current===e&&(U(Z),U(re)),Ce.current===e&&(U(Ce),la._currentValue=$)}var cs,Xa;function En(e){if(cs===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);cs=t&&t[1]||"",Xa=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+e+Xa}var Tt=!1;function us(e,t){if(!e||Tt)return"";Tt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(O){var M=O}Reflect.construct(e,[],H)}else{try{H.call()}catch(O){M=O}e.call(H.prototype)}}else{try{throw Error()}catch(O){M=O}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(O){if(O&&M&&typeof O.stack=="string")return[O.stack,M.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),m=d[0],x=d[1];if(m&&x){var S=m.split(`
`),R=x.split(`
`);for(c=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(r===S.length||c===R.length)for(r=S.length-1,c=R.length-1;1<=r&&0<=c&&S[r]!==R[c];)c--;for(;1<=r&&0<=c;r--,c--)if(S[r]!==R[c]){if(r!==1||c!==1)do if(r--,c--,0>c||S[r]!==R[c]){var L=`
`+S[r].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=r&&0<=c);break}}}finally{Tt=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?En(l):""}function tc(e,t){switch(e.tag){case 26:case 27:case 5:return En(e.type);case 16:return En("Lazy");case 13:return e.child!==t&&t!==null?En("Suspense Fallback"):En("Suspense");case 19:return En("SuspenseList");case 0:case 15:return us(e.type,!1);case 11:return us(e.type.render,!1);case 1:return us(e.type,!0);case 31:return En("Activity");default:return""}}function Fa(e){try{var t="",l=null;do t+=tc(e,l),l=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ds=Object.prototype.hasOwnProperty,fs=i.unstable_scheduleCallback,hs=i.unstable_cancelCallback,Ka=i.unstable_shouldYield,V=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,P=i.unstable_ImmediatePriority,ve=i.unstable_UserBlockingPriority,Pe=i.unstable_NormalPriority,nc=i.unstable_LowPriority,ms=i.unstable_IdlePriority,lc=i.log,Za=i.unstable_setDisableYieldValue,ps=null,Bt=null;function Wn(e){if(typeof lc=="function"&&Za(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(ps,e)}catch{}}var Gt=Math.clz32?Math.clz32:sx,lx=Math.log,ix=Math.LN2;function sx(e){return e>>>=0,e===0?32:31-(lx(e)/ix|0)|0}var Wa=256,Pa=262144,Ja=4194304;function Dl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $a(e,t,l){var r=e.pendingLanes;if(r===0)return 0;var c=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var x=r&134217727;return x!==0?(r=x&~d,r!==0?c=Dl(r):(m&=x,m!==0?c=Dl(m):l||(l=x&~e,l!==0&&(c=Dl(l))))):(x=r&~d,x!==0?c=Dl(x):m!==0?c=Dl(m):l||(l=r&~e,l!==0&&(c=Dl(l)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,l=t&-t,d>=l||d===32&&(l&4194048)!==0)?t:c}function gs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ax(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pf(){var e=Ja;return Ja<<=1,(Ja&62914560)===0&&(Ja=4194304),e}function ic(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function ys(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rx(e,t,l,r,c,d){var m=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var x=e.entanglements,S=e.expirationTimes,R=e.hiddenUpdates;for(l=m&~l;0<l;){var L=31-Gt(l),H=1<<L;x[L]=0,S[L]=-1;var M=R[L];if(M!==null)for(R[L]=null,L=0;L<M.length;L++){var O=M[L];O!==null&&(O.lane&=-536870913)}l&=~H}r!==0&&Jf(e,r,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function Jf(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Gt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|l&261930}function $f(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var r=31-Gt(l),c=1<<r;c&t|e[r]&t&&(e[r]|=t),l&=~c}}function eh(e,t){var l=t&-t;return l=(l&42)!==0?1:sc(l),(l&(e.suspendedLanes|t))!==0?0:l}function sc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ac(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function th(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Bg(e.type))}function nh(e,t){var l=X.p;try{return X.p=e,t()}finally{X.p=l}}var Pn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Pn,Dt="__reactProps$"+Pn,oi="__reactContainer$"+Pn,rc="__reactEvents$"+Pn,ox="__reactListeners$"+Pn,cx="__reactHandles$"+Pn,lh="__reactResources$"+Pn,vs="__reactMarker$"+Pn;function oc(e){delete e[gt],delete e[Dt],delete e[rc],delete e[ox],delete e[cx]}function ci(e){var t=e[gt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[oi]||l[gt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Ng(e);e!==null;){if(l=e[gt])return l;e=Ng(e)}return t}e=l,l=e.parentNode}return null}function ui(e){if(e=e[gt]||e[oi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function di(e){var t=e[lh];return t||(t=e[lh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ft(e){e[vs]=!0}var ih=new Set,sh={};function Ml(e,t){fi(e,t),fi(e+"Capture",t)}function fi(e,t){for(sh[e]=t,e=0;e<t.length;e++)ih.add(t[e])}var ux=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ah={},rh={};function dx(e){return ds.call(rh,e)?!0:ds.call(ah,e)?!1:ux.test(e)?rh[e]=!0:(ah[e]=!0,!1)}function er(e,t,l){if(dx(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function tr(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Nn(e,t,l,r){if(r===null)e.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+r)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fx(e,t,l){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(m){l=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cc(e){if(!e._valueTracker){var t=oh(e)?"checked":"value";e._valueTracker=fx(e,t,""+e[t])}}function ch(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),r="";return e&&(r=oh(e)?e.checked?"true":"false":e.value),e=r,e!==l?(t.setValue(e),!0):!1}function nr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hx=/[\n"\\]/g;function Wt(e){return e.replace(hx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function uc(e,t,l,r,c,d,m,x){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Zt(t)):e.value!==""+Zt(t)&&(e.value=""+Zt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?dc(e,m,Zt(t)):l!=null?dc(e,m,Zt(l)):r!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Zt(x):e.removeAttribute("name")}function uh(e,t,l,r,c,d,m,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||l!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){cc(e);return}l=l!=null?""+Zt(l):"",t=t!=null?""+Zt(t):l,x||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=x?e.checked:!!r,e.defaultChecked=!!r,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),cc(e)}function dc(e,t,l){t==="number"&&nr(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function hi(e,t,l,r){if(e=e.options,t){t={};for(var c=0;c<l.length;c++)t["$"+l[c]]=!0;for(l=0;l<e.length;l++)c=t.hasOwnProperty("$"+e[l].value),e[l].selected!==c&&(e[l].selected=c),c&&r&&(e[l].defaultSelected=!0)}else{for(l=""+Zt(l),t=null,c=0;c<e.length;c++){if(e[c].value===l){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function dh(e,t,l){if(t!=null&&(t=""+Zt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Zt(l):""}function fh(e,t,l,r){if(t==null){if(r!=null){if(l!=null)throw Error(a(92));if(ze(r)){if(1<r.length)throw Error(a(93));r=r[0]}l=r}l==null&&(l=""),t=l}l=Zt(t),e.defaultValue=l,r=e.textContent,r===l&&r!==""&&r!==null&&(e.value=r),cc(e)}function mi(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var mx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hh(e,t,l){var r=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,l):typeof l!="number"||l===0||mx.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function mh(e,t,l){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&l[c]!==r&&hh(e,c,r)}else for(var d in t)t.hasOwnProperty(d)&&hh(e,d,t[d])}function fc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var px=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lr(e){return gx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var hc=null;function mc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pi=null,gi=null;function ph(e){var t=ui(e);if(t&&(e=t.stateNode)){var l=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(uc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Wt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var r=l[t];if(r!==e&&r.form===e.form){var c=r[Dt]||null;if(!c)throw Error(a(90));uc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<l.length;t++)r=l[t],r.form===e.form&&ch(r)}break e;case"textarea":dh(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&hi(e,!!l.multiple,t,!1)}}}var pc=!1;function gh(e,t,l){if(pc)return e(t,l);pc=!0;try{var r=e(t);return r}finally{if(pc=!1,(pi!==null||gi!==null)&&(qr(),pi&&(t=pi,e=gi,gi=pi=null,ph(t),e)))for(t=0;t<e.length;t++)ph(e[t])}}function _s(e,t){var l=e.stateNode;if(l===null)return null;var r=l[Dt]||null;if(r===null)return null;l=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,t,typeof l));return l}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gc=!1;if(wn)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){gc=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{gc=!1}var Jn=null,yc=null,ir=null;function yh(){if(ir)return ir;var e,t=yc,l=t.length,r,c="value"in Jn?Jn.value:Jn.textContent,d=c.length;for(e=0;e<l&&t[e]===c[e];e++);var m=l-e;for(r=1;r<=m&&t[l-r]===c[d-r];r++);return ir=c.slice(e,1<r?1-r:void 0)}function sr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ar(){return!0}function vh(){return!1}function Mt(e){function t(l,r,c,d,m){this._reactName=l,this._targetInst=c,this.type=r,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(l=e[x],this[x]=l?l(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ar:vh,this.isPropagationStopped=vh,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),t}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rr=Mt(Ol),Ss=v({},Ol,{view:0,detail:0}),yx=Mt(Ss),vc,xc,Es,or=v({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(vc=e.screenX-Es.screenX,xc=e.screenY-Es.screenY):xc=vc=0,Es=e),vc)},movementY:function(e){return"movementY"in e?e.movementY:xc}}),xh=Mt(or),vx=v({},or,{dataTransfer:0}),xx=Mt(vx),_x=v({},Ss,{relatedTarget:0}),_c=Mt(_x),bx=v({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),Sx=Mt(bx),Ex=v({},Ol,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nx=Mt(Ex),Cx=v({},Ol,{data:0}),_h=Mt(Cx),wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ax(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jx[e])?!!t[e]:!1}function bc(){return Ax}var Rx=v({},Ss,{key:function(e){if(e.key){var t=wx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(e){return e.type==="keypress"?sr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dx=Mt(Rx),Mx=v({},or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=Mt(Mx),Ox=v({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),kx=Mt(Ox),zx=v({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lx=Mt(zx),Ux=v({},or,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ix=Mt(Ux),Hx=v({},Ol,{newState:0,oldState:0}),Bx=Mt(Hx),Gx=[9,13,27,32],Sc=wn&&"CompositionEvent"in window,Ns=null;wn&&"documentMode"in document&&(Ns=document.documentMode);var Yx=wn&&"TextEvent"in window&&!Ns,Sh=wn&&(!Sc||Ns&&8<Ns&&11>=Ns),Eh=" ",Nh=!1;function Ch(e,t){switch(e){case"keyup":return Gx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yi=!1;function Vx(e,t){switch(e){case"compositionend":return wh(t);case"keypress":return t.which!==32?null:(Nh=!0,Eh);case"textInput":return e=t.data,e===Eh&&Nh?null:e;default:return null}}function qx(e,t){if(yi)return e==="compositionend"||!Sc&&Ch(e,t)?(e=yh(),ir=yc=Jn=null,yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sh&&t.locale!=="ko"?null:t.data;default:return null}}var Qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qx[e.type]:t==="textarea"}function jh(e,t,l,r){pi?gi?gi.push(r):gi=[r]:pi=r,t=Pr(t,"onChange"),0<t.length&&(l=new rr("onChange","change",null,l,r),e.push({event:l,listeners:t}))}var Cs=null,ws=null;function Xx(e){ug(e,0)}function cr(e){var t=xs(e);if(ch(t))return e}function Ah(e,t){if(e==="change")return t}var Rh=!1;if(wn){var Ec;if(wn){var Nc="oninput"in document;if(!Nc){var Dh=document.createElement("div");Dh.setAttribute("oninput","return;"),Nc=typeof Dh.oninput=="function"}Ec=Nc}else Ec=!1;Rh=Ec&&(!document.documentMode||9<document.documentMode)}function Mh(){Cs&&(Cs.detachEvent("onpropertychange",Oh),ws=Cs=null)}function Oh(e){if(e.propertyName==="value"&&cr(ws)){var t=[];jh(t,ws,e,mc(e)),gh(Xx,t)}}function Fx(e,t,l){e==="focusin"?(Mh(),Cs=t,ws=l,Cs.attachEvent("onpropertychange",Oh)):e==="focusout"&&Mh()}function Kx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cr(ws)}function Zx(e,t){if(e==="click")return cr(t)}function Wx(e,t){if(e==="input"||e==="change")return cr(t)}function Px(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:Px;function Ts(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),r=Object.keys(t);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var c=l[r];if(!ds.call(t,c)||!Yt(e[c],t[c]))return!1}return!0}function kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zh(e,t){var l=kh(e);e=0;for(var r;l;){if(l.nodeType===3){if(r=e+l.textContent.length,e<=t&&r>=t)return{node:l,offset:t-e};e=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=kh(l)}}function Lh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=nr(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=nr(e.document)}return t}function Cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Jx=wn&&"documentMode"in document&&11>=document.documentMode,vi=null,wc=null,js=null,Tc=!1;function Ih(e,t,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Tc||vi==null||vi!==nr(r)||(r=vi,"selectionStart"in r&&Cc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),js&&Ts(js,r)||(js=r,r=Pr(wc,"onSelect"),0<r.length&&(t=new rr("onSelect","select",null,t,l),e.push({event:t,listeners:r}),t.target=vi)))}function kl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var xi={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionrun:kl("Transition","TransitionRun"),transitionstart:kl("Transition","TransitionStart"),transitioncancel:kl("Transition","TransitionCancel"),transitionend:kl("Transition","TransitionEnd")},jc={},Hh={};wn&&(Hh=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function zl(e){if(jc[e])return jc[e];if(!xi[e])return e;var t=xi[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Hh)return jc[e]=t[l];return e}var Bh=zl("animationend"),Gh=zl("animationiteration"),Yh=zl("animationstart"),$x=zl("transitionrun"),e_=zl("transitionstart"),t_=zl("transitioncancel"),Vh=zl("transitionend"),qh=new Map,Ac="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ac.push("scrollEnd");function un(e,t){qh.set(e,t),Ml(t,[e])}var ur=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pt=[],_i=0,Rc=0;function dr(){for(var e=_i,t=Rc=_i=0;t<e;){var l=Pt[t];Pt[t++]=null;var r=Pt[t];Pt[t++]=null;var c=Pt[t];Pt[t++]=null;var d=Pt[t];if(Pt[t++]=null,r!==null&&c!==null){var m=r.pending;m===null?c.next=c:(c.next=m.next,m.next=c),r.pending=c}d!==0&&Qh(l,c,d)}}function fr(e,t,l,r){Pt[_i++]=e,Pt[_i++]=t,Pt[_i++]=l,Pt[_i++]=r,Rc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Dc(e,t,l,r){return fr(e,t,l,r),hr(e)}function Ll(e,t){return fr(e,null,null,t),hr(e)}function Qh(e,t,l){e.lanes|=l;var r=e.alternate;r!==null&&(r.lanes|=l);for(var c=!1,d=e.return;d!==null;)d.childLanes|=l,r=d.alternate,r!==null&&(r.childLanes|=l),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-Gt(l),e=d.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=l|536870912),d):null}function hr(e){if(50<Ws)throw Ws=0,Bu=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var bi={};function n_(e,t,l,r){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,l,r){return new n_(e,t,l,r)}function Mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tn(e,t){var l=e.alternate;return l===null?(l=Vt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Xh(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mr(e,t,l,r,c,d){var m=0;if(r=e,typeof e=="function")Mc(e)&&(m=1);else if(typeof e=="string")m=rb(e,l,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ae:return e=Vt(31,l,t,c),e.elementType=ae,e.lanes=d,e;case D:return Ul(l.children,c,d,t);case G:m=8,c|=24;break;case Y:return e=Vt(12,l,t,c|2),e.elementType=Y,e.lanes=d,e;case fe:return e=Vt(13,l,t,c),e.elementType=fe,e.lanes=d,e;case K:return e=Vt(19,l,t,c),e.elementType=K,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:m=10;break e;case Q:m=9;break e;case le:m=11;break e;case z:m=14;break e;case ce:m=16,r=null;break e}m=29,l=Error(a(130,e===null?"null":typeof e,"")),r=null}return t=Vt(m,l,t,c),t.elementType=e,t.type=r,t.lanes=d,t}function Ul(e,t,l,r){return e=Vt(7,e,r,t),e.lanes=l,e}function Oc(e,t,l){return e=Vt(6,e,null,t),e.lanes=l,e}function Fh(e){var t=Vt(18,null,null,0);return t.stateNode=e,t}function kc(e,t,l){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kh=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var l=Kh.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Fa(t)},Kh.set(e,t),t)}return{value:e,source:t,stack:Fa(t)}}var Si=[],Ei=0,pr=null,As=0,$t=[],en=0,$n=null,yn=1,vn="";function jn(e,t){Si[Ei++]=As,Si[Ei++]=pr,pr=e,As=t}function Zh(e,t,l){$t[en++]=yn,$t[en++]=vn,$t[en++]=$n,$n=e;var r=yn;e=vn;var c=32-Gt(r)-1;r&=~(1<<c),l+=1;var d=32-Gt(t)+c;if(30<d){var m=c-c%5;d=(r&(1<<m)-1).toString(32),r>>=m,c-=m,yn=1<<32-Gt(t)+c|l<<c|r,vn=d+e}else yn=1<<d|l<<c|r,vn=e}function zc(e){e.return!==null&&(jn(e,1),Zh(e,1,0))}function Lc(e){for(;e===pr;)pr=Si[--Ei],Si[Ei]=null,As=Si[--Ei],Si[Ei]=null;for(;e===$n;)$n=$t[--en],$t[en]=null,vn=$t[--en],$t[en]=null,yn=$t[--en],$t[en]=null}function Wh(e,t){$t[en++]=yn,$t[en++]=vn,$t[en++]=$n,yn=t.id,vn=t.overflow,$n=e}var yt=null,Xe=null,Ne=!1,el=null,tn=!1,Uc=Error(a(519));function tl(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rs(Jt(t,e)),Uc}function Ph(e){var t=e.stateNode,l=e.type,r=e.memoizedProps;switch(t[gt]=e,t[Dt]=r,l){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(l=0;l<Js.length;l++)_e(Js[l],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),uh(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),fh(t,r.value,r.defaultValue,r.children)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||r.suppressHydrationWarning===!0||mg(t.textContent,l)?(r.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),r.onScroll!=null&&_e("scroll",t),r.onScrollEnd!=null&&_e("scrollend",t),r.onClick!=null&&(t.onclick=Cn),t=!0):t=!1,t||tl(e,!0)}function Jh(e){for(yt=e.return;yt;)switch(yt.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:yt=yt.return}}function Ni(e){if(e!==yt)return!1;if(!Ne)return Jh(e),Ne=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||td(e.type,e.memoizedProps)),l=!l),l&&Xe&&tl(e),Jh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Xe=Eg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Xe=Eg(e)}else t===27?(t=Xe,pl(e.type)?(e=ad,ad=null,Xe=e):Xe=t):Xe=yt?ln(e.stateNode.nextSibling):null;return!0}function Il(){Xe=yt=null,Ne=!1}function Ic(){var e=el;return e!==null&&(Lt===null?Lt=e:Lt.push.apply(Lt,e),el=null),e}function Rs(e){el===null?el=[e]:el.push(e)}var Hc=C(null),Hl=null,An=null;function nl(e,t,l){F(Hc,t._currentValue),t._currentValue=l}function Rn(e){e._currentValue=Hc.current,U(Hc)}function Bc(e,t,l){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===l)break;e=e.return}}function Gc(e,t,l,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var m=c.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=c;for(var S=0;S<t.length;S++)if(x.context===t[S]){d.lanes|=l,x=d.alternate,x!==null&&(x.lanes|=l),Bc(d.return,l,e),r||(m=null);break e}d=x.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(a(341));m.lanes|=l,d=m.alternate,d!==null&&(d.lanes|=l),Bc(m,l,e),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function Ci(e,t,l,r){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(a(387));if(m=m.memoizedProps,m!==null){var x=c.type;Yt(c.pendingProps.value,m.value)||(e!==null?e.push(x):e=[x])}}else if(c===Ce.current){if(m=c.alternate,m===null)throw Error(a(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(la):e=[la])}c=c.return}e!==null&&Gc(t,e,l,r),t.flags|=262144}function gr(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bl(e){Hl=e,An=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return $h(Hl,e)}function yr(e,t){return Hl===null&&Bl(e),$h(e,t)}function $h(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},An===null){if(e===null)throw Error(a(308));An=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else An=An.next=t;return l}var l_=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},i_=i.unstable_scheduleCallback,s_=i.unstable_NormalPriority,st={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new l_,data:new Map,refCount:0}}function Ds(e){e.refCount--,e.refCount===0&&i_(s_,function(){e.controller.abort()})}var Ms=null,Vc=0,wi=0,Ti=null;function a_(e,t){if(Ms===null){var l=Ms=[];Vc=0,wi=Xu(),Ti={status:"pending",value:void 0,then:function(r){l.push(r)}}}return Vc++,t.then(em,em),t}function em(){if(--Vc===0&&Ms!==null){Ti!==null&&(Ti.status="fulfilled");var e=Ms;Ms=null,wi=0,Ti=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function r_(e,t){var l=[],r={status:"pending",value:null,reason:null,then:function(c){l.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<l.length;c++)(0,l[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<l.length;c++)(0,l[c])(void 0)}),r}var tm=k.S;k.S=function(e,t){Ip=te(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&a_(e,t),tm!==null&&tm(e,t)};var Gl=C(null);function qc(){var e=Gl.current;return e!==null?e:Be.pooledCache}function vr(e,t){t===null?F(Gl,Gl.current):F(Gl,t.pool)}function nm(){var e=qc();return e===null?null:{parent:st._currentValue,pool:e}}var ji=Error(a(460)),Qc=Error(a(474)),xr=Error(a(542)),_r={then:function(){}};function lm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function im(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Cn,Cn),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,am(e),e;default:if(typeof t.status=="string")t.then(Cn,Cn);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,am(e),e}throw Vl=t,ji}}function Yl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Vl=l,ji):l}}var Vl=null;function sm(){if(Vl===null)throw Error(a(459));var e=Vl;return Vl=null,e}function am(e){if(e===ji||e===xr)throw Error(a(483))}var Ai=null,Os=0;function br(e){var t=Os;return Os+=1,Ai===null&&(Ai=[]),im(Ai,e,t)}function ks(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sr(e,t){throw t.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function rm(e){function t(T,N){if(e){var A=T.deletions;A===null?(T.deletions=[N],T.flags|=16):A.push(N)}}function l(T,N){if(!e)return null;for(;N!==null;)t(T,N),N=N.sibling;return null}function r(T){for(var N=new Map;T!==null;)T.key!==null?N.set(T.key,T):N.set(T.index,T),T=T.sibling;return N}function c(T,N){return T=Tn(T,N),T.index=0,T.sibling=null,T}function d(T,N,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<N?(T.flags|=67108866,N):A):(T.flags|=67108866,N)):(T.flags|=1048576,N)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function x(T,N,A,I){return N===null||N.tag!==6?(N=Oc(A,T.mode,I),N.return=T,N):(N=c(N,A),N.return=T,N)}function S(T,N,A,I){var ee=A.type;return ee===D?L(T,N,A.props.children,I,A.key):N!==null&&(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ce&&Yl(ee)===N.type)?(N=c(N,A.props),ks(N,A),N.return=T,N):(N=mr(A.type,A.key,A.props,null,T.mode,I),ks(N,A),N.return=T,N)}function R(T,N,A,I){return N===null||N.tag!==4||N.stateNode.containerInfo!==A.containerInfo||N.stateNode.implementation!==A.implementation?(N=kc(A,T.mode,I),N.return=T,N):(N=c(N,A.children||[]),N.return=T,N)}function L(T,N,A,I,ee){return N===null||N.tag!==7?(N=Ul(A,T.mode,I,ee),N.return=T,N):(N=c(N,A),N.return=T,N)}function H(T,N,A){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Oc(""+N,T.mode,A),N.return=T,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return A=mr(N.type,N.key,N.props,null,T.mode,A),ks(A,N),A.return=T,A;case j:return N=kc(N,T.mode,A),N.return=T,N;case ce:return N=Yl(N),H(T,N,A)}if(ze(N)||Ge(N))return N=Ul(N,T.mode,A,null),N.return=T,N;if(typeof N.then=="function")return H(T,br(N),A);if(N.$$typeof===B)return H(T,yr(T,N),A);Sr(T,N)}return null}function M(T,N,A,I){var ee=N!==null?N.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ee!==null?null:x(T,N,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return A.key===ee?S(T,N,A,I):null;case j:return A.key===ee?R(T,N,A,I):null;case ce:return A=Yl(A),M(T,N,A,I)}if(ze(A)||Ge(A))return ee!==null?null:L(T,N,A,I,null);if(typeof A.then=="function")return M(T,N,br(A),I);if(A.$$typeof===B)return M(T,N,yr(T,A),I);Sr(T,A)}return null}function O(T,N,A,I,ee){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return T=T.get(A)||null,x(N,T,""+I,ee);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return T=T.get(I.key===null?A:I.key)||null,S(N,T,I,ee);case j:return T=T.get(I.key===null?A:I.key)||null,R(N,T,I,ee);case ce:return I=Yl(I),O(T,N,A,I,ee)}if(ze(I)||Ge(I))return T=T.get(A)||null,L(N,T,I,ee,null);if(typeof I.then=="function")return O(T,N,A,br(I),ee);if(I.$$typeof===B)return O(T,N,A,yr(N,I),ee);Sr(N,I)}return null}function W(T,N,A,I){for(var ee=null,je=null,J=N,de=N=0,Ee=null;J!==null&&de<A.length;de++){J.index>de?(Ee=J,J=null):Ee=J.sibling;var Ae=M(T,J,A[de],I);if(Ae===null){J===null&&(J=Ee);break}e&&J&&Ae.alternate===null&&t(T,J),N=d(Ae,N,de),je===null?ee=Ae:je.sibling=Ae,je=Ae,J=Ee}if(de===A.length)return l(T,J),Ne&&jn(T,de),ee;if(J===null){for(;de<A.length;de++)J=H(T,A[de],I),J!==null&&(N=d(J,N,de),je===null?ee=J:je.sibling=J,je=J);return Ne&&jn(T,de),ee}for(J=r(J);de<A.length;de++)Ee=O(J,T,de,A[de],I),Ee!==null&&(e&&Ee.alternate!==null&&J.delete(Ee.key===null?de:Ee.key),N=d(Ee,N,de),je===null?ee=Ee:je.sibling=Ee,je=Ee);return e&&J.forEach(function(_l){return t(T,_l)}),Ne&&jn(T,de),ee}function ie(T,N,A,I){if(A==null)throw Error(a(151));for(var ee=null,je=null,J=N,de=N=0,Ee=null,Ae=A.next();J!==null&&!Ae.done;de++,Ae=A.next()){J.index>de?(Ee=J,J=null):Ee=J.sibling;var _l=M(T,J,Ae.value,I);if(_l===null){J===null&&(J=Ee);break}e&&J&&_l.alternate===null&&t(T,J),N=d(_l,N,de),je===null?ee=_l:je.sibling=_l,je=_l,J=Ee}if(Ae.done)return l(T,J),Ne&&jn(T,de),ee;if(J===null){for(;!Ae.done;de++,Ae=A.next())Ae=H(T,Ae.value,I),Ae!==null&&(N=d(Ae,N,de),je===null?ee=Ae:je.sibling=Ae,je=Ae);return Ne&&jn(T,de),ee}for(J=r(J);!Ae.done;de++,Ae=A.next())Ae=O(J,T,de,Ae.value,I),Ae!==null&&(e&&Ae.alternate!==null&&J.delete(Ae.key===null?de:Ae.key),N=d(Ae,N,de),je===null?ee=Ae:je.sibling=Ae,je=Ae);return e&&J.forEach(function(vb){return t(T,vb)}),Ne&&jn(T,de),ee}function Ie(T,N,A,I){if(typeof A=="object"&&A!==null&&A.type===D&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case w:e:{for(var ee=A.key;N!==null;){if(N.key===ee){if(ee=A.type,ee===D){if(N.tag===7){l(T,N.sibling),I=c(N,A.props.children),I.return=T,T=I;break e}}else if(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ce&&Yl(ee)===N.type){l(T,N.sibling),I=c(N,A.props),ks(I,A),I.return=T,T=I;break e}l(T,N);break}else t(T,N);N=N.sibling}A.type===D?(I=Ul(A.props.children,T.mode,I,A.key),I.return=T,T=I):(I=mr(A.type,A.key,A.props,null,T.mode,I),ks(I,A),I.return=T,T=I)}return m(T);case j:e:{for(ee=A.key;N!==null;){if(N.key===ee)if(N.tag===4&&N.stateNode.containerInfo===A.containerInfo&&N.stateNode.implementation===A.implementation){l(T,N.sibling),I=c(N,A.children||[]),I.return=T,T=I;break e}else{l(T,N);break}else t(T,N);N=N.sibling}I=kc(A,T.mode,I),I.return=T,T=I}return m(T);case ce:return A=Yl(A),Ie(T,N,A,I)}if(ze(A))return W(T,N,A,I);if(Ge(A)){if(ee=Ge(A),typeof ee!="function")throw Error(a(150));return A=ee.call(A),ie(T,N,A,I)}if(typeof A.then=="function")return Ie(T,N,br(A),I);if(A.$$typeof===B)return Ie(T,N,yr(T,A),I);Sr(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,N!==null&&N.tag===6?(l(T,N.sibling),I=c(N,A),I.return=T,T=I):(l(T,N),I=Oc(A,T.mode,I),I.return=T,T=I),m(T)):l(T,N)}return function(T,N,A,I){try{Os=0;var ee=Ie(T,N,A,I);return Ai=null,ee}catch(J){if(J===ji||J===xr)throw J;var je=Vt(29,J,null,T.mode);return je.lanes=I,je.return=T,je}finally{}}}var ql=rm(!0),om=rm(!1),ll=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function il(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sl(e,t,l){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(De&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=hr(e),Qh(e,null,l),t}return fr(e,r,t,l),hr(e)}function zs(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,l|=r,t.lanes=l,$f(e,l)}}function Kc(e,t){var l=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var c=null,d=null;if(l=l.firstBaseUpdate,l!==null){do{var m={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};d===null?c=d=m:d=d.next=m,l=l.next}while(l!==null);d===null?c=d=t:d=d.next=t}else c=d=t;l={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Zc=!1;function Ls(){if(Zc){var e=Ti;if(e!==null)throw e}}function Us(e,t,l,r){Zc=!1;var c=e.updateQueue;ll=!1;var d=c.firstBaseUpdate,m=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var S=x,R=S.next;S.next=null,m===null?d=R:m.next=R,m=S;var L=e.alternate;L!==null&&(L=L.updateQueue,x=L.lastBaseUpdate,x!==m&&(x===null?L.firstBaseUpdate=R:x.next=R,L.lastBaseUpdate=S))}if(d!==null){var H=c.baseState;m=0,L=R=S=null,x=d;do{var M=x.lane&-536870913,O=M!==x.lane;if(O?(Se&M)===M:(r&M)===M){M!==0&&M===wi&&(Zc=!0),L!==null&&(L=L.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var W=e,ie=x;M=t;var Ie=l;switch(ie.tag){case 1:if(W=ie.payload,typeof W=="function"){H=W.call(Ie,H,M);break e}H=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=ie.payload,M=typeof W=="function"?W.call(Ie,H,M):W,M==null)break e;H=v({},H,M);break e;case 2:ll=!0}}M=x.callback,M!==null&&(e.flags|=64,O&&(e.flags|=8192),O=c.callbacks,O===null?c.callbacks=[M]:O.push(M))}else O={lane:M,tag:x.tag,payload:x.payload,callback:x.callback,next:null},L===null?(R=L=O,S=H):L=L.next=O,m|=M;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;O=x,x=O.next,O.next=null,c.lastBaseUpdate=O,c.shared.pending=null}}while(!0);L===null&&(S=H),c.baseState=S,c.firstBaseUpdate=R,c.lastBaseUpdate=L,d===null&&(c.shared.lanes=0),ul|=m,e.lanes=m,e.memoizedState=H}}function cm(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function um(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)cm(l[e],t)}var Ri=C(null),Er=C(0);function dm(e,t){e=Hn,F(Er,e),F(Ri,t),Hn=e|t.baseLanes}function Wc(){F(Er,Hn),F(Ri,Ri.current)}function Pc(){Hn=Er.current,U(Ri),U(Er)}var qt=C(null),nn=null;function al(e){var t=e.alternate;F(lt,lt.current&1),F(qt,e),nn===null&&(t===null||Ri.current!==null||t.memoizedState!==null)&&(nn=e)}function Jc(e){F(lt,lt.current),F(qt,e),nn===null&&(nn=e)}function fm(e){e.tag===22?(F(lt,lt.current),F(qt,e),nn===null&&(nn=e)):rl()}function rl(){F(lt,lt.current),F(qt,qt.current)}function Qt(e){U(qt),nn===e&&(nn=null),U(lt)}var lt=C(0);function Nr(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||id(l)||sd(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dn=0,ue=null,Le=null,at=null,Cr=!1,Di=!1,Ql=!1,wr=0,Is=0,Mi=null,o_=0;function Je(){throw Error(a(321))}function $c(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Yt(e[l],t[l]))return!1;return!0}function eu(e,t,l,r,c,d){return Dn=d,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?Zm:pu,Ql=!1,d=l(r,c),Ql=!1,Di&&(d=mm(t,l,r,c)),hm(e),d}function hm(e){k.H=Gs;var t=Le!==null&&Le.next!==null;if(Dn=0,at=Le=ue=null,Cr=!1,Is=0,Mi=null,t)throw Error(a(300));e===null||rt||(e=e.dependencies,e!==null&&gr(e)&&(rt=!0))}function mm(e,t,l,r){ue=e;var c=0;do{if(Di&&(Mi=null),Is=0,Di=!1,25<=c)throw Error(a(301));if(c+=1,at=Le=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}k.H=Wm,d=t(l,r)}while(Di);return d}function c_(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?Hs(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(ue.flags|=1024),t}function tu(){var e=wr!==0;return wr=0,e}function nu(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function lu(e){if(Cr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Cr=!1}Dn=0,at=Le=ue=null,Di=!1,Is=wr=0,Mi=null}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ue.memoizedState=at=e:at=at.next=e,at}function it(){if(Le===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=at===null?ue.memoizedState:at.next;if(t!==null)at=t,Le=e;else{if(e===null)throw ue.alternate===null?Error(a(467)):Error(a(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},at===null?ue.memoizedState=at=e:at=at.next=e}return at}function Tr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hs(e){var t=Is;return Is+=1,Mi===null&&(Mi=[]),e=im(Mi,e,t),t=ue,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?Zm:pu),e}function jr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hs(e);if(e.$$typeof===B)return vt(e)}throw Error(a(438,String(e)))}function iu(e){var t=null,l=ue.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var r=ue.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Tr(),ue.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),r=0;r<e;r++)l[r]=ye;return t.index++,l}function Mn(e,t){return typeof t=="function"?t(e):t}function Ar(e){var t=it();return su(t,Le,e)}function su(e,t,l){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=l;var c=e.baseQueue,d=r.pending;if(d!==null){if(c!==null){var m=c.next;c.next=d.next,d.next=m}t.baseQueue=c=d,r.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var x=m=null,S=null,R=t,L=!1;do{var H=R.lane&-536870913;if(H!==R.lane?(Se&H)===H:(Dn&H)===H){var M=R.revertLane;if(M===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),H===wi&&(L=!0);else if((Dn&M)===M){R=R.next,M===wi&&(L=!0);continue}else H={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(x=S=H,m=d):S=S.next=H,ue.lanes|=M,ul|=M;H=R.action,Ql&&l(d,H),d=R.hasEagerState?R.eagerState:l(d,H)}else M={lane:H,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(x=S=M,m=d):S=S.next=M,ue.lanes|=H,ul|=H;R=R.next}while(R!==null&&R!==t);if(S===null?m=d:S.next=x,!Yt(d,e.memoizedState)&&(rt=!0,L&&(l=Ti,l!==null)))throw l;e.memoizedState=d,e.baseState=m,e.baseQueue=S,r.lastRenderedState=d}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function au(e){var t=it(),l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var r=l.dispatch,c=l.pending,d=t.memoizedState;if(c!==null){l.pending=null;var m=c=c.next;do d=e(d,m.action),m=m.next;while(m!==c);Yt(d,t.memoizedState)||(rt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),l.lastRenderedState=d}return[d,r]}function pm(e,t,l){var r=ue,c=it(),d=Ne;if(d){if(l===void 0)throw Error(a(407));l=l()}else l=t();var m=!Yt((Le||c).memoizedState,l);if(m&&(c.memoizedState=l,rt=!0),c=c.queue,cu(vm.bind(null,r,c,e),[e]),c.getSnapshot!==t||m||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,Oi(9,{destroy:void 0},ym.bind(null,r,c,l,t),null),Be===null)throw Error(a(349));d||(Dn&127)!==0||gm(r,t,l)}return l}function gm(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=ue.updateQueue,t===null?(t=Tr(),ue.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function ym(e,t,l,r){t.value=l,t.getSnapshot=r,xm(t)&&_m(e)}function vm(e,t,l){return l(function(){xm(t)&&_m(e)})}function xm(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Yt(e,l)}catch{return!0}}function _m(e){var t=Ll(e,2);t!==null&&Ut(t,e,2)}function ru(e){var t=jt();if(typeof e=="function"){var l=e;if(e=l(),Ql){Wn(!0);try{l()}finally{Wn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},t}function bm(e,t,l,r){return e.baseState=l,su(e,Le,typeof r=="function"?r:Mn)}function u_(e,t,l,r,c){if(Mr(e))throw Error(a(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};k.T!==null?l(!0):d.isTransition=!1,r(d),l=t.pending,l===null?(d.next=t.pending=d,Sm(t,d)):(d.next=l.next,t.pending=l.next=d)}}function Sm(e,t){var l=t.action,r=t.payload,c=e.state;if(t.isTransition){var d=k.T,m={};k.T=m;try{var x=l(c,r),S=k.S;S!==null&&S(m,x),Em(e,t,x)}catch(R){ou(e,t,R)}finally{d!==null&&m.types!==null&&(d.types=m.types),k.T=d}}else try{d=l(c,r),Em(e,t,d)}catch(R){ou(e,t,R)}}function Em(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){Nm(e,t,r)},function(r){return ou(e,t,r)}):Nm(e,t,l)}function Nm(e,t,l){t.status="fulfilled",t.value=l,Cm(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Sm(e,l)))}function ou(e,t,l){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=l,Cm(t),t=t.next;while(t!==r)}e.action=null}function Cm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function wm(e,t){return t}function Tm(e,t){if(Ne){var l=Be.formState;if(l!==null){e:{var r=ue;if(Ne){if(Xe){t:{for(var c=Xe,d=tn;c.nodeType!==8;){if(!d){c=null;break t}if(c=ln(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Xe=ln(c.nextSibling),r=c.data==="F!";break e}}tl(r)}r=!1}r&&(t=l[0])}}return l=jt(),l.memoizedState=l.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:t},l.queue=r,l=Xm.bind(null,ue,r),r.dispatch=l,r=ru(!1),d=mu.bind(null,ue,!1,r.queue),r=jt(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,l=u_.bind(null,ue,c,d,l),c.dispatch=l,r.memoizedState=e,[t,l,!1]}function jm(e){var t=it();return Am(t,Le,e)}function Am(e,t,l){if(t=su(e,t,wm)[0],e=Ar(Mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Hs(t)}catch(m){throw m===ji?xr:m}else r=t;t=it();var c=t.queue,d=c.dispatch;return l!==t.memoizedState&&(ue.flags|=2048,Oi(9,{destroy:void 0},d_.bind(null,c,l),null)),[r,d,e]}function d_(e,t){e.action=t}function Rm(e){var t=it(),l=Le;if(l!==null)return Am(t,l,e);it(),t=t.memoizedState,l=it();var r=l.queue.dispatch;return l.memoizedState=e,[t,r,!1]}function Oi(e,t,l,r){return e={tag:e,create:l,deps:r,inst:t,next:null},t=ue.updateQueue,t===null&&(t=Tr(),ue.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(r=l.next,l.next=e,e.next=r,t.lastEffect=e),e}function Dm(){return it().memoizedState}function Rr(e,t,l,r){var c=jt();ue.flags|=e,c.memoizedState=Oi(1|t,{destroy:void 0},l,r===void 0?null:r)}function Dr(e,t,l,r){var c=it();r=r===void 0?null:r;var d=c.memoizedState.inst;Le!==null&&r!==null&&$c(r,Le.memoizedState.deps)?c.memoizedState=Oi(t,d,l,r):(ue.flags|=e,c.memoizedState=Oi(1|t,d,l,r))}function Mm(e,t){Rr(8390656,8,e,t)}function cu(e,t){Dr(2048,8,e,t)}function f_(e){ue.flags|=4;var t=ue.updateQueue;if(t===null)t=Tr(),ue.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Om(e){var t=it().memoizedState;return f_({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function km(e,t){return Dr(4,2,e,t)}function zm(e,t){return Dr(4,4,e,t)}function Lm(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Um(e,t,l){l=l!=null?l.concat([e]):null,Dr(4,4,Lm.bind(null,t,e),l)}function uu(){}function Im(e,t){var l=it();t=t===void 0?null:t;var r=l.memoizedState;return t!==null&&$c(t,r[1])?r[0]:(l.memoizedState=[e,t],e)}function Hm(e,t){var l=it();t=t===void 0?null:t;var r=l.memoizedState;if(t!==null&&$c(t,r[1]))return r[0];if(r=e(),Ql){Wn(!0);try{e()}finally{Wn(!1)}}return l.memoizedState=[r,t],r}function du(e,t,l){return l===void 0||(Dn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Bp(),ue.lanes|=e,ul|=e,l)}function Bm(e,t,l,r){return Yt(l,t)?l:Ri.current!==null?(e=du(e,l,r),Yt(e,t)||(rt=!0),e):(Dn&42)===0||(Dn&1073741824)!==0&&(Se&261930)===0?(rt=!0,e.memoizedState=l):(e=Bp(),ue.lanes|=e,ul|=e,t)}function Gm(e,t,l,r,c){var d=X.p;X.p=d!==0&&8>d?d:8;var m=k.T,x={};k.T=x,mu(e,!1,t,l);try{var S=c(),R=k.S;if(R!==null&&R(x,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var L=r_(S,r);Bs(e,t,L,Kt(e))}else Bs(e,t,r,Kt(e))}catch(H){Bs(e,t,{then:function(){},status:"rejected",reason:H},Kt())}finally{X.p=d,m!==null&&x.types!==null&&(m.types=x.types),k.T=m}}function h_(){}function fu(e,t,l,r){if(e.tag!==5)throw Error(a(476));var c=Ym(e).queue;Gm(e,c,t,$,l===null?h_:function(){return Vm(e),l(r)})}function Ym(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:$},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vm(e){var t=Ym(e);t.next===null&&(t=e.alternate.memoizedState),Bs(e,t.next.queue,{},Kt())}function hu(){return vt(la)}function qm(){return it().memoizedState}function Qm(){return it().memoizedState}function m_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Kt();e=il(l);var r=sl(t,e,l);r!==null&&(Ut(r,t,l),zs(r,t,l)),t={cache:Yc()},e.payload=t;return}t=t.return}}function p_(e,t,l){var r=Kt();l={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mr(e)?Fm(t,l):(l=Dc(e,t,l,r),l!==null&&(Ut(l,e,r),Km(l,t,r)))}function Xm(e,t,l){var r=Kt();Bs(e,t,l,r)}function Bs(e,t,l,r){var c={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mr(e))Fm(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,x=d(m,l);if(c.hasEagerState=!0,c.eagerState=x,Yt(x,m))return fr(e,t,c,0),Be===null&&dr(),!1}catch{}finally{}if(l=Dc(e,t,c,r),l!==null)return Ut(l,e,r),Km(l,t,r),!0}return!1}function mu(e,t,l,r){if(r={lane:2,revertLane:Xu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Mr(e)){if(t)throw Error(a(479))}else t=Dc(e,l,r,2),t!==null&&Ut(t,e,2)}function Mr(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Fm(e,t){Di=Cr=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Km(e,t,l){if((l&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,l|=r,t.lanes=l,$f(e,l)}}var Gs={readContext:vt,use:jr,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Gs.useEffectEvent=Je;var Zm={readContext:vt,use:jr,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Mm,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Rr(4194308,4,Lm.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Rr(4194308,4,e,t)},useInsertionEffect:function(e,t){Rr(4,2,e,t)},useMemo:function(e,t){var l=jt();t=t===void 0?null:t;var r=e();if(Ql){Wn(!0);try{e()}finally{Wn(!1)}}return l.memoizedState=[r,t],r},useReducer:function(e,t,l){var r=jt();if(l!==void 0){var c=l(t);if(Ql){Wn(!0);try{l(t)}finally{Wn(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=p_.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:function(e){e=ru(e);var t=e.queue,l=Xm.bind(null,ue,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:uu,useDeferredValue:function(e,t){var l=jt();return du(l,e,t)},useTransition:function(){var e=ru(!1);return e=Gm.bind(null,ue,e.queue,!0,!1),jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var r=ue,c=jt();if(Ne){if(l===void 0)throw Error(a(407));l=l()}else{if(l=t(),Be===null)throw Error(a(349));(Se&127)!==0||gm(r,t,l)}c.memoizedState=l;var d={value:l,getSnapshot:t};return c.queue=d,Mm(vm.bind(null,r,d,e),[e]),r.flags|=2048,Oi(9,{destroy:void 0},ym.bind(null,r,d,l,t),null),l},useId:function(){var e=jt(),t=Be.identifierPrefix;if(Ne){var l=vn,r=yn;l=(r&~(1<<32-Gt(r)-1)).toString(32)+l,t="_"+t+"R_"+l,l=wr++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=o_++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:hu,useFormState:Tm,useActionState:Tm,useOptimistic:function(e){var t=jt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=mu.bind(null,ue,!0,l),l.dispatch=t,[e,t]},useMemoCache:iu,useCacheRefresh:function(){return jt().memoizedState=m_.bind(null,ue)},useEffectEvent:function(e){var t=jt(),l={impl:e};return t.memoizedState=l,function(){if((De&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},pu={readContext:vt,use:jr,useCallback:Im,useContext:vt,useEffect:cu,useImperativeHandle:Um,useInsertionEffect:km,useLayoutEffect:zm,useMemo:Hm,useReducer:Ar,useRef:Dm,useState:function(){return Ar(Mn)},useDebugValue:uu,useDeferredValue:function(e,t){var l=it();return Bm(l,Le.memoizedState,e,t)},useTransition:function(){var e=Ar(Mn)[0],t=it().memoizedState;return[typeof e=="boolean"?e:Hs(e),t]},useSyncExternalStore:pm,useId:qm,useHostTransitionStatus:hu,useFormState:jm,useActionState:jm,useOptimistic:function(e,t){var l=it();return bm(l,Le,e,t)},useMemoCache:iu,useCacheRefresh:Qm};pu.useEffectEvent=Om;var Wm={readContext:vt,use:jr,useCallback:Im,useContext:vt,useEffect:cu,useImperativeHandle:Um,useInsertionEffect:km,useLayoutEffect:zm,useMemo:Hm,useReducer:au,useRef:Dm,useState:function(){return au(Mn)},useDebugValue:uu,useDeferredValue:function(e,t){var l=it();return Le===null?du(l,e,t):Bm(l,Le.memoizedState,e,t)},useTransition:function(){var e=au(Mn)[0],t=it().memoizedState;return[typeof e=="boolean"?e:Hs(e),t]},useSyncExternalStore:pm,useId:qm,useHostTransitionStatus:hu,useFormState:Rm,useActionState:Rm,useOptimistic:function(e,t){var l=it();return Le!==null?bm(l,Le,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:iu,useCacheRefresh:Qm};Wm.useEffectEvent=Om;function gu(e,t,l,r){t=e.memoizedState,l=l(r,t),l=l==null?t:v({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var yu={enqueueSetState:function(e,t,l){e=e._reactInternals;var r=Kt(),c=il(r);c.payload=t,l!=null&&(c.callback=l),t=sl(e,c,r),t!==null&&(Ut(t,e,r),zs(t,e,r))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var r=Kt(),c=il(r);c.tag=1,c.payload=t,l!=null&&(c.callback=l),t=sl(e,c,r),t!==null&&(Ut(t,e,r),zs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Kt(),r=il(l);r.tag=2,t!=null&&(r.callback=t),t=sl(e,r,l),t!==null&&(Ut(t,e,l),zs(t,e,l))}};function Pm(e,t,l,r,c,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,m):t.prototype&&t.prototype.isPureReactComponent?!Ts(l,r)||!Ts(c,d):!0}function Jm(e,t,l,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,r),t.state!==e&&yu.enqueueReplaceState(t,t.state,null)}function Xl(e,t){var l=t;if("ref"in t){l={};for(var r in t)r!=="ref"&&(l[r]=t[r])}if(e=e.defaultProps){l===t&&(l=v({},l));for(var c in e)l[c]===void 0&&(l[c]=e[c])}return l}function $m(e){ur(e)}function ep(e){console.error(e)}function tp(e){ur(e)}function Or(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function np(e,t,l){try{var r=e.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vu(e,t,l){return l=il(l),l.tag=3,l.payload={element:null},l.callback=function(){Or(e,t)},l}function lp(e){return e=il(e),e.tag=3,e}function ip(e,t,l,r){var c=l.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;e.payload=function(){return c(d)},e.callback=function(){np(t,l,r)}}var m=l.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){np(t,l,r),typeof c!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})})}function g_(e,t,l,r,c){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=l.alternate,t!==null&&Ci(t,l,c,!0),l=qt.current,l!==null){switch(l.tag){case 31:case 13:return nn===null?Qr():l.alternate===null&&$e===0&&($e=3),l.flags&=-257,l.flags|=65536,l.lanes=c,r===_r?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([r]):t.add(r),Vu(e,r,c)),!1;case 22:return l.flags|=65536,r===_r?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([r]):l.add(r)),Vu(e,r,c)),!1}throw Error(a(435,l.tag))}return Vu(e,r,c),Qr(),!1}if(Ne)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==Uc&&(e=Error(a(422),{cause:r}),Rs(Jt(e,l)))):(r!==Uc&&(t=Error(a(423),{cause:r}),Rs(Jt(t,l))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Jt(r,l),c=vu(e.stateNode,r,c),Kc(e,c),$e!==4&&($e=2)),!1;var d=Error(a(520),{cause:r});if(d=Jt(d,l),Zs===null?Zs=[d]:Zs.push(d),$e!==4&&($e=2),t===null)return!0;r=Jt(r,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=c&-c,l.lanes|=e,e=vu(l.stateNode,r,e),Kc(l,e),!1;case 1:if(t=l.type,d=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(dl===null||!dl.has(d))))return l.flags|=65536,c&=-c,l.lanes|=c,c=lp(c),ip(c,e,l,r),Kc(l,c),!1}l=l.return}while(l!==null);return!1}var xu=Error(a(461)),rt=!1;function xt(e,t,l,r){t.child=e===null?om(t,null,l,r):ql(t,e.child,l,r)}function sp(e,t,l,r,c){l=l.render;var d=t.ref;if("ref"in r){var m={};for(var x in r)x!=="ref"&&(m[x]=r[x])}else m=r;return Bl(t),r=eu(e,t,l,m,d,c),x=tu(),e!==null&&!rt?(nu(e,t,c),On(e,t,c)):(Ne&&x&&zc(t),t.flags|=1,xt(e,t,r,c),t.child)}function ap(e,t,l,r,c){if(e===null){var d=l.type;return typeof d=="function"&&!Mc(d)&&d.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=d,rp(e,t,d,r,c)):(e=mr(l.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Tu(e,c)){var m=d.memoizedProps;if(l=l.compare,l=l!==null?l:Ts,l(m,r)&&e.ref===t.ref)return On(e,t,c)}return t.flags|=1,e=Tn(d,r),e.ref=t.ref,e.return=t,t.child=e}function rp(e,t,l,r,c){if(e!==null){var d=e.memoizedProps;if(Ts(d,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=d,Tu(e,c))(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,On(e,t,c)}return _u(e,t,l,r,c)}function op(e,t,l,r){var c=r.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|l:l,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~d}else r=0,t.child=null;return cp(e,t,d,l,r)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vr(t,d!==null?d.cachePool:null),d!==null?dm(t,d):Wc(),fm(t);else return r=t.lanes=536870912,cp(e,t,d!==null?d.baseLanes|l:l,l,r)}else d!==null?(vr(t,d.cachePool),dm(t,d),rl(),t.memoizedState=null):(e!==null&&vr(t,null),Wc(),rl());return xt(e,t,c,l),t.child}function Ys(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function cp(e,t,l,r,c){var d=qc();return d=d===null?null:{parent:st._currentValue,pool:d},t.memoizedState={baseLanes:l,cachePool:d},e!==null&&vr(t,null),Wc(),fm(t),e!==null&&Ci(e,t,r,!0),t.childLanes=c,null}function kr(e,t){return t=Lr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function up(e,t,l){return ql(t,e.child,null,l),e=kr(t,t.pendingProps),e.flags|=2,Qt(t),t.memoizedState=null,e}function y_(e,t,l){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(r.mode==="hidden")return e=kr(t,r),t.lanes=536870912,Ys(null,e);if(Jc(t),(e=Xe)?(e=Sg(e,tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$n!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},l=Fh(e),l.return=t,t.child=l,yt=t,Xe=null)):e=null,e===null)throw tl(t);return t.lanes=536870912,null}return kr(t,r)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if(Jc(t),c)if(t.flags&256)t.flags&=-257,t=up(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(rt||Ci(e,t,l,!1),c=(l&e.childLanes)!==0,rt||c){if(r=Be,r!==null&&(m=eh(r,l),m!==0&&m!==d.retryLane))throw d.retryLane=m,Ll(e,m),Ut(r,e,m),xu;Qr(),t=up(e,t,l)}else e=d.treeContext,Xe=ln(m.nextSibling),yt=t,Ne=!0,el=null,tn=!1,e!==null&&Wh(t,e),t=kr(t,r),t.flags|=4096;return t}return e=Tn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function zr(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function _u(e,t,l,r,c){return Bl(t),l=eu(e,t,l,r,void 0,c),r=tu(),e!==null&&!rt?(nu(e,t,c),On(e,t,c)):(Ne&&r&&zc(t),t.flags|=1,xt(e,t,l,c),t.child)}function dp(e,t,l,r,c,d){return Bl(t),t.updateQueue=null,l=mm(t,r,l,c),hm(e),r=tu(),e!==null&&!rt?(nu(e,t,d),On(e,t,d)):(Ne&&r&&zc(t),t.flags|=1,xt(e,t,l,d),t.child)}function fp(e,t,l,r,c){if(Bl(t),t.stateNode===null){var d=bi,m=l.contextType;typeof m=="object"&&m!==null&&(d=vt(m)),d=new l(r,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=r,d.state=t.memoizedState,d.refs={},Xc(t),m=l.contextType,d.context=typeof m=="object"&&m!==null?vt(m):bi,d.state=t.memoizedState,m=l.getDerivedStateFromProps,typeof m=="function"&&(gu(t,l,m,r),d.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&yu.enqueueReplaceState(d,d.state,null),Us(t,r,d,c),Ls(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){d=t.stateNode;var x=t.memoizedProps,S=Xl(l,x);d.props=S;var R=d.context,L=l.contextType;m=bi,typeof L=="object"&&L!==null&&(m=vt(L));var H=l.getDerivedStateFromProps;L=typeof H=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,L||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||R!==m)&&Jm(t,d,r,m),ll=!1;var M=t.memoizedState;d.state=M,Us(t,r,d,c),Ls(),R=t.memoizedState,x||M!==R||ll?(typeof H=="function"&&(gu(t,l,H,r),R=t.memoizedState),(S=ll||Pm(t,l,S,r,M,R,m))?(L||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=R),d.props=r,d.state=R,d.context=m,r=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,Fc(e,t),m=t.memoizedProps,L=Xl(l,m),d.props=L,H=t.pendingProps,M=d.context,R=l.contextType,S=bi,typeof R=="object"&&R!==null&&(S=vt(R)),x=l.getDerivedStateFromProps,(R=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==H||M!==S)&&Jm(t,d,r,S),ll=!1,M=t.memoizedState,d.state=M,Us(t,r,d,c),Ls();var O=t.memoizedState;m!==H||M!==O||ll||e!==null&&e.dependencies!==null&&gr(e.dependencies)?(typeof x=="function"&&(gu(t,l,x,r),O=t.memoizedState),(L=ll||Pm(t,l,L,r,M,O,S)||e!==null&&e.dependencies!==null&&gr(e.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,O,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,O,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=O),d.props=r,d.state=O,d.context=S,r=L):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),r=!1)}return d=r,zr(e,t),r=(t.flags&128)!==0,d||r?(d=t.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&r?(t.child=ql(t,e.child,null,c),t.child=ql(t,null,l,c)):xt(e,t,l,c),t.memoizedState=d.state,e=t.child):e=On(e,t,c),e}function hp(e,t,l,r){return Il(),t.flags|=256,xt(e,t,l,r),t.child}var bu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Su(e){return{baseLanes:e,cachePool:nm()}}function Eu(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Ft),e}function mp(e,t,l){var r=t.pendingProps,c=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),m&&(c=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(c?al(t):rl(),(e=Xe)?(e=Sg(e,tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$n!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},l=Fh(e),l.return=t,t.child=l,yt=t,Xe=null)):e=null,e===null)throw tl(t);return sd(e)?t.lanes=32:t.lanes=536870912,null}var x=r.children;return r=r.fallback,c?(rl(),c=t.mode,x=Lr({mode:"hidden",children:x},c),r=Ul(r,c,l,null),x.return=t,r.return=t,x.sibling=r,t.child=x,r=t.child,r.memoizedState=Su(l),r.childLanes=Eu(e,m,l),t.memoizedState=bu,Ys(null,r)):(al(t),Nu(t,x))}var S=e.memoizedState;if(S!==null&&(x=S.dehydrated,x!==null)){if(d)t.flags&256?(al(t),t.flags&=-257,t=Cu(e,t,l)):t.memoizedState!==null?(rl(),t.child=e.child,t.flags|=128,t=null):(rl(),x=r.fallback,c=t.mode,r=Lr({mode:"visible",children:r.children},c),x=Ul(x,c,l,null),x.flags|=2,r.return=t,x.return=t,r.sibling=x,t.child=r,ql(t,e.child,null,l),r=t.child,r.memoizedState=Su(l),r.childLanes=Eu(e,m,l),t.memoizedState=bu,t=Ys(null,r));else if(al(t),sd(x)){if(m=x.nextSibling&&x.nextSibling.dataset,m)var R=m.dgst;m=R,r=Error(a(419)),r.stack="",r.digest=m,Rs({value:r,source:null,stack:null}),t=Cu(e,t,l)}else if(rt||Ci(e,t,l,!1),m=(l&e.childLanes)!==0,rt||m){if(m=Be,m!==null&&(r=eh(m,l),r!==0&&r!==S.retryLane))throw S.retryLane=r,Ll(e,r),Ut(m,e,r),xu;id(x)||Qr(),t=Cu(e,t,l)}else id(x)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Xe=ln(x.nextSibling),yt=t,Ne=!0,el=null,tn=!1,e!==null&&Wh(t,e),t=Nu(t,r.children),t.flags|=4096);return t}return c?(rl(),x=r.fallback,c=t.mode,S=e.child,R=S.sibling,r=Tn(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,R!==null?x=Tn(R,x):(x=Ul(x,c,l,null),x.flags|=2),x.return=t,r.return=t,r.sibling=x,t.child=r,Ys(null,r),r=t.child,x=e.child.memoizedState,x===null?x=Su(l):(c=x.cachePool,c!==null?(S=st._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=nm(),x={baseLanes:x.baseLanes|l,cachePool:c}),r.memoizedState=x,r.childLanes=Eu(e,m,l),t.memoizedState=bu,Ys(e.child,r)):(al(t),l=e.child,e=l.sibling,l=Tn(l,{mode:"visible",children:r.children}),l.return=t,l.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=l,t.memoizedState=null,l)}function Nu(e,t){return t=Lr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Lr(e,t){return e=Vt(22,e,null,t),e.lanes=0,e}function Cu(e,t,l){return ql(t,e.child,null,l),e=Nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pp(e,t,l){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bc(e.return,t,l)}function wu(e,t,l,r,c,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:c,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=r,m.tail=l,m.tailMode=c,m.treeForkCount=d)}function gp(e,t,l){var r=t.pendingProps,c=r.revealOrder,d=r.tail;r=r.children;var m=lt.current,x=(m&2)!==0;if(x?(m=m&1|2,t.flags|=128):m&=1,F(lt,m),xt(e,t,r,l),r=Ne?As:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pp(e,l,t);else if(e.tag===19)pp(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(l=t.child,c=null;l!==null;)e=l.alternate,e!==null&&Nr(e)===null&&(c=l),l=l.sibling;l=c,l===null?(c=t.child,t.child=null):(c=l.sibling,l.sibling=null),wu(t,!1,c,l,d,r);break;case"backwards":case"unstable_legacy-backwards":for(l=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Nr(e)===null){t.child=c;break}e=c.sibling,c.sibling=l,l=c,c=e}wu(t,!0,l,null,d,r);break;case"together":wu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function On(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),ul|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ci(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,l=Tn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Tn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Tu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&gr(e)))}function v_(e,t,l){switch(t.tag){case 3:we(t,t.stateNode.containerInfo),nl(t,st,e.memoizedState.cache),Il();break;case 27:case 5:Rl(t);break;case 4:we(t,t.stateNode.containerInfo);break;case 10:nl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Jc(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(al(t),t.flags|=128,null):(l&t.child.childLanes)!==0?mp(e,t,l):(al(t),e=On(e,t,l),e!==null?e.sibling:null);al(t);break;case 19:var c=(e.flags&128)!==0;if(r=(l&t.childLanes)!==0,r||(Ci(e,t,l,!1),r=(l&t.childLanes)!==0),c){if(r)return gp(e,t,l);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),F(lt,lt.current),r)break;return null;case 22:return t.lanes=0,op(e,t,l,t.pendingProps);case 24:nl(t,st,e.memoizedState.cache)}return On(e,t,l)}function yp(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)rt=!0;else{if(!Tu(e,l)&&(t.flags&128)===0)return rt=!1,v_(e,t,l);rt=(e.flags&131072)!==0}else rt=!1,Ne&&(t.flags&1048576)!==0&&Zh(t,As,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Yl(t.elementType),t.type=e,typeof e=="function")Mc(e)?(r=Xl(e,r),t.tag=1,t=fp(null,t,e,r,l)):(t.tag=0,t=_u(null,t,e,r,l));else{if(e!=null){var c=e.$$typeof;if(c===le){t.tag=11,t=sp(null,t,e,r,l);break e}else if(c===z){t.tag=14,t=ap(null,t,e,r,l);break e}}throw t=Ye(e)||e,Error(a(306,t,""))}}return t;case 0:return _u(e,t,t.type,t.pendingProps,l);case 1:return r=t.type,c=Xl(r,t.pendingProps),fp(e,t,r,c,l);case 3:e:{if(we(t,t.stateNode.containerInfo),e===null)throw Error(a(387));r=t.pendingProps;var d=t.memoizedState;c=d.element,Fc(e,t),Us(t,r,null,l);var m=t.memoizedState;if(r=m.cache,nl(t,st,r),r!==d.cache&&Gc(t,[st],l,!0),Ls(),r=m.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=hp(e,t,r,l);break e}else if(r!==c){c=Jt(Error(a(424)),t),Rs(c),t=hp(e,t,r,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xe=ln(e.firstChild),yt=t,Ne=!0,el=null,tn=!0,l=om(t,null,r,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Il(),r===c){t=On(e,t,l);break e}xt(e,t,r,l)}t=t.child}return t;case 26:return zr(e,t),e===null?(l=jg(t.type,null,t.pendingProps,null))?t.memoizedState=l:Ne||(l=t.type,e=t.pendingProps,r=Jr(he.current).createElement(l),r[gt]=t,r[Dt]=e,_t(r,l,e),ft(r),t.stateNode=r):t.memoizedState=jg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Rl(t),e===null&&Ne&&(r=t.stateNode=Cg(t.type,t.pendingProps,he.current),yt=t,tn=!0,c=Xe,pl(t.type)?(ad=c,Xe=ln(r.firstChild)):Xe=c),xt(e,t,t.pendingProps.children,l),zr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((c=r=Xe)&&(r=K_(r,t.type,t.pendingProps,tn),r!==null?(t.stateNode=r,yt=t,Xe=ln(r.firstChild),tn=!1,c=!0):c=!1),c||tl(t)),Rl(t),c=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,r=d.children,td(c,d)?r=null:m!==null&&td(c,m)&&(t.flags|=32),t.memoizedState!==null&&(c=eu(e,t,c_,null,null,l),la._currentValue=c),zr(e,t),xt(e,t,r,l),t.child;case 6:return e===null&&Ne&&((e=l=Xe)&&(l=Z_(l,t.pendingProps,tn),l!==null?(t.stateNode=l,yt=t,Xe=null,e=!0):e=!1),e||tl(t)),null;case 13:return mp(e,t,l);case 4:return we(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ql(t,null,r,l):xt(e,t,r,l),t.child;case 11:return sp(e,t,t.type,t.pendingProps,l);case 7:return xt(e,t,t.pendingProps,l),t.child;case 8:return xt(e,t,t.pendingProps.children,l),t.child;case 12:return xt(e,t,t.pendingProps.children,l),t.child;case 10:return r=t.pendingProps,nl(t,t.type,r.value),xt(e,t,r.children,l),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,Bl(t),c=vt(c),r=r(c),t.flags|=1,xt(e,t,r,l),t.child;case 14:return ap(e,t,t.type,t.pendingProps,l);case 15:return rp(e,t,t.type,t.pendingProps,l);case 19:return gp(e,t,l);case 31:return y_(e,t,l);case 22:return op(e,t,l,t.pendingProps);case 24:return Bl(t),r=vt(st),e===null?(c=qc(),c===null&&(c=Be,d=Yc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=l),c=d),t.memoizedState={parent:r,cache:c},Xc(t),nl(t,st,c)):((e.lanes&l)!==0&&(Fc(e,t),Us(t,null,null,l),Ls()),c=e.memoizedState,d=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),nl(t,st,r)):(r=d.cache,nl(t,st,r),r!==c.cache&&Gc(t,[st],l,!0))),xt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function kn(e){e.flags|=4}function ju(e,t,l,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(qp())e.flags|=8192;else throw Vl=_r,Qc}else e.flags&=-16777217}function vp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Og(t))if(qp())e.flags|=8192;else throw Vl=_r,Qc}function Ur(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Pf():536870912,e.lanes|=t,Ui|=t)}function Vs(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,r=0;if(t)for(var c=e.child;c!==null;)l|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)l|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=l,t}function x_(e,t,l){var r=t.pendingProps;switch(Lc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Fe(t),null;case 3:return l=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Rn(st),Ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ni(t)?kn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ic())),Fe(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(kn(t),d!==null?(Fe(t),vp(t,d)):(Fe(t),ju(t,c,null,r,l))):d?d!==e.memoizedState?(kn(t),Fe(t),vp(t,d)):(Fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&kn(t),Fe(t),ju(t,c,e,r,l)),null;case 27:if(ri(t),l=he.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&kn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Fe(t),null}e=Z.current,Ni(t)?Ph(t):(e=Cg(c,r,l),t.stateNode=e,kn(t))}return Fe(t),null;case 5:if(ri(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&kn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Fe(t),null}if(d=Z.current,Ni(t))Ph(t);else{var m=Jr(he.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?m.createElement("select",{is:r.is}):m.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?m.createElement(c,{is:r.is}):m.createElement(c)}}d[gt]=t,d[Dt]=r;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch(_t(d,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&kn(t)}}return Fe(t),ju(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&kn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(e=he.current,Ni(t)){if(e=t.stateNode,l=t.memoizedProps,r=null,c=yt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[gt]=t,e=!!(e.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||mg(e.nodeValue,l)),e||tl(t,!0)}else e=Jr(e).createTextNode(r),e[gt]=t,t.stateNode=e}return Fe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ni(t),l!==null){if(e===null){if(!r)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[gt]=t}else Il(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),e=!1}else l=Ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Qt(t),t):(Qt(t),null);if((t.flags&128)!==0)throw Error(a(558))}return Fe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ni(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[gt]=t}else Il(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),c=!1}else c=Ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Qt(t),t):(Qt(t),null)}return Qt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=r!==null,e=e!==null&&e.memoizedState!==null,l&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==c&&(r.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Ur(t,t.updateQueue),Fe(t),null);case 4:return Ze(),e===null&&Wu(t.stateNode.containerInfo),Fe(t),null;case 10:return Rn(t.type),Fe(t),null;case 19:if(U(lt),r=t.memoizedState,r===null)return Fe(t),null;if(c=(t.flags&128)!==0,d=r.rendering,d===null)if(c)Vs(r,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Nr(e),d!==null){for(t.flags|=128,Vs(r,!1),e=d.updateQueue,t.updateQueue=e,Ur(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Xh(l,e),l=l.sibling;return F(lt,lt.current&1|2),Ne&&jn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&te()>Yr&&(t.flags|=128,c=!0,Vs(r,!1),t.lanes=4194304)}else{if(!c)if(e=Nr(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Ur(t,e),Vs(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!Ne)return Fe(t),null}else 2*te()-r.renderingStartTime>Yr&&l!==536870912&&(t.flags|=128,c=!0,Vs(r,!1),t.lanes=4194304);r.isBackwards?(d.sibling=t.child,t.child=d):(e=r.last,e!==null?e.sibling=d:t.child=d,r.last=d)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=te(),e.sibling=null,l=lt.current,F(lt,c?l&1|2:l&1),Ne&&jn(t,r.treeForkCount),e):(Fe(t),null);case 22:case 23:return Qt(t),Pc(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(l&536870912)!==0&&(t.flags&128)===0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),l=t.updateQueue,l!==null&&Ur(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==l&&(t.flags|=2048),e!==null&&U(Gl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Rn(st),Fe(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function __(e,t){switch(Lc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rn(st),Ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ri(t),null;case 31:if(t.memoizedState!==null){if(Qt(t),t.alternate===null)throw Error(a(340));Il()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Il()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(lt),null;case 4:return Ze(),null;case 10:return Rn(t.type),null;case 22:case 23:return Qt(t),Pc(),e!==null&&U(Gl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Rn(st),null;case 25:return null;default:return null}}function xp(e,t){switch(Lc(t),t.tag){case 3:Rn(st),Ze();break;case 26:case 27:case 5:ri(t);break;case 4:Ze();break;case 31:t.memoizedState!==null&&Qt(t);break;case 13:Qt(t);break;case 19:U(lt);break;case 10:Rn(t.type);break;case 22:case 23:Qt(t),Pc(),e!==null&&U(Gl);break;case 24:Rn(st)}}function qs(e,t){try{var l=t.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var c=r.next;l=c;do{if((l.tag&e)===e){r=void 0;var d=l.create,m=l.inst;r=d(),m.destroy=r}l=l.next}while(l!==c)}}catch(x){ke(t,t.return,x)}}function ol(e,t,l){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&e)===e){var m=r.inst,x=m.destroy;if(x!==void 0){m.destroy=void 0,c=t;var S=l,R=x;try{R()}catch(L){ke(c,S,L)}}}r=r.next}while(r!==d)}}catch(L){ke(t,t.return,L)}}function _p(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{um(t,l)}catch(r){ke(e,e.return,r)}}}function bp(e,t,l){l.props=Xl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(r){ke(e,t,r)}}function Qs(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof l=="function"?e.refCleanup=l(r):l.current=r}}catch(c){ke(e,t,c)}}function xn(e,t){var l=e.ref,r=e.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(c){ke(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(c){ke(e,t,c)}else l.current=null}function Sp(e){var t=e.type,l=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(c){ke(e,e.return,c)}}function Au(e,t,l){try{var r=e.stateNode;Y_(r,e.type,l,t),r[Dt]=t}catch(c){ke(e,e.return,c)}}function Ep(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pl(e.type)||e.tag===4}function Ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Du(e,t,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Cn));else if(r!==4&&(r===27&&pl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Du(e,t,l),e=e.sibling;e!==null;)Du(e,t,l),e=e.sibling}function Ir(e,t,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(r!==4&&(r===27&&pl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ir(e,t,l),e=e.sibling;e!==null;)Ir(e,t,l),e=e.sibling}function Np(e){var t=e.stateNode,l=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);_t(t,r,l),t[gt]=e,t[Dt]=l}catch(d){ke(e,e.return,d)}}var zn=!1,ot=!1,Mu=!1,Cp=typeof WeakSet=="function"?WeakSet:Set,ht=null;function b_(e,t){if(e=e.containerInfo,$u=so,e=Uh(e),Cc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var c=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{l.nodeType,d.nodeType}catch{l=null;break e}var m=0,x=-1,S=-1,R=0,L=0,H=e,M=null;t:for(;;){for(var O;H!==l||c!==0&&H.nodeType!==3||(x=m+c),H!==d||r!==0&&H.nodeType!==3||(S=m+r),H.nodeType===3&&(m+=H.nodeValue.length),(O=H.firstChild)!==null;)M=H,H=O;for(;;){if(H===e)break t;if(M===l&&++R===c&&(x=m),M===d&&++L===r&&(S=m),(O=H.nextSibling)!==null)break;H=M,M=H.parentNode}H=O}l=x===-1||S===-1?null:{start:x,end:S}}else l=null}l=l||{start:0,end:0}}else l=null;for(ed={focusedElem:e,selectionRange:l},so=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)c=e[l],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,l=t,c=d.memoizedProps,d=d.memoizedState,r=l.stateNode;try{var W=Xl(l.type,c);e=r.getSnapshotBeforeUpdate(W,d),r.__reactInternalSnapshotBeforeUpdate=e}catch(ie){ke(l,l.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)ld(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function wp(e,t,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:Un(e,l),r&4&&qs(5,l);break;case 1:if(Un(e,l),r&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(m){ke(l,l.return,m)}else{var c=Xl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){ke(l,l.return,m)}}r&64&&_p(l),r&512&&Qs(l,l.return);break;case 3:if(Un(e,l),r&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{um(e,t)}catch(m){ke(l,l.return,m)}}break;case 27:t===null&&r&4&&Np(l);case 26:case 5:Un(e,l),t===null&&r&4&&Sp(l),r&512&&Qs(l,l.return);break;case 12:Un(e,l);break;case 31:Un(e,l),r&4&&Ap(e,l);break;case 13:Un(e,l),r&4&&Rp(e,l),r&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=R_.bind(null,l),W_(e,l))));break;case 22:if(r=l.memoizedState!==null||zn,!r){t=t!==null&&t.memoizedState!==null||ot,c=zn;var d=ot;zn=r,(ot=t)&&!d?In(e,l,(l.subtreeFlags&8772)!==0):Un(e,l),zn=c,ot=d}break;case 30:break;default:Un(e,l)}}function Tp(e){var t=e.alternate;t!==null&&(e.alternate=null,Tp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&oc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,Ot=!1;function Ln(e,t,l){for(l=l.child;l!==null;)jp(e,t,l),l=l.sibling}function jp(e,t,l){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(ps,l)}catch{}switch(l.tag){case 26:ot||xn(l,t),Ln(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ot||xn(l,t);var r=Ke,c=Ot;pl(l.type)&&(Ke=l.stateNode,Ot=!1),Ln(e,t,l),ea(l.stateNode),Ke=r,Ot=c;break;case 5:ot||xn(l,t);case 6:if(r=Ke,c=Ot,Ke=null,Ln(e,t,l),Ke=r,Ot=c,Ke!==null)if(Ot)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(l.stateNode)}catch(d){ke(l,t,d)}else try{Ke.removeChild(l.stateNode)}catch(d){ke(l,t,d)}break;case 18:Ke!==null&&(Ot?(e=Ke,_g(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Qi(e)):_g(Ke,l.stateNode));break;case 4:r=Ke,c=Ot,Ke=l.stateNode.containerInfo,Ot=!0,Ln(e,t,l),Ke=r,Ot=c;break;case 0:case 11:case 14:case 15:ol(2,l,t),ot||ol(4,l,t),Ln(e,t,l);break;case 1:ot||(xn(l,t),r=l.stateNode,typeof r.componentWillUnmount=="function"&&bp(l,t,r)),Ln(e,t,l);break;case 21:Ln(e,t,l);break;case 22:ot=(r=ot)||l.memoizedState!==null,Ln(e,t,l),ot=r;break;default:Ln(e,t,l)}}function Ap(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qi(e)}catch(l){ke(t,t.return,l)}}}function Rp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qi(e)}catch(l){ke(t,t.return,l)}}function S_(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Cp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Cp),t;default:throw Error(a(435,e.tag))}}function Hr(e,t){var l=S_(e);t.forEach(function(r){if(!l.has(r)){l.add(r);var c=D_.bind(null,e,r);r.then(c,c)}})}function kt(e,t){var l=t.deletions;if(l!==null)for(var r=0;r<l.length;r++){var c=l[r],d=e,m=t,x=m;e:for(;x!==null;){switch(x.tag){case 27:if(pl(x.type)){Ke=x.stateNode,Ot=!1;break e}break;case 5:Ke=x.stateNode,Ot=!1;break e;case 3:case 4:Ke=x.stateNode.containerInfo,Ot=!0;break e}x=x.return}if(Ke===null)throw Error(a(160));jp(d,m,c),Ke=null,Ot=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Dp(t,e),t=t.sibling}var dn=null;function Dp(e,t){var l=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:kt(t,e),zt(e),r&4&&(ol(3,e,e.return),qs(3,e),ol(5,e,e.return));break;case 1:kt(t,e),zt(e),r&512&&(ot||l===null||xn(l,l.return)),r&64&&zn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var c=dn;if(kt(t,e),zt(e),r&512&&(ot||l===null||xn(l,l.return)),r&4){var d=l!==null?l.memoizedState:null;if(r=e.memoizedState,l===null)if(r===null)if(e.stateNode===null){e:{r=e.type,l=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":d=c.getElementsByTagName("title")[0],(!d||d[vs]||d[gt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(r),c.head.insertBefore(d,c.querySelector("head > title"))),_t(d,r,l),d[gt]=e,ft(d),r=d;break e;case"link":var m=Dg("link","href",c).get(r+(l.href||""));if(m){for(var x=0;x<m.length;x++)if(d=m[x],d.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&d.getAttribute("rel")===(l.rel==null?null:l.rel)&&d.getAttribute("title")===(l.title==null?null:l.title)&&d.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){m.splice(x,1);break t}}d=c.createElement(r),_t(d,r,l),c.head.appendChild(d);break;case"meta":if(m=Dg("meta","content",c).get(r+(l.content||""))){for(x=0;x<m.length;x++)if(d=m[x],d.getAttribute("content")===(l.content==null?null:""+l.content)&&d.getAttribute("name")===(l.name==null?null:l.name)&&d.getAttribute("property")===(l.property==null?null:l.property)&&d.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&d.getAttribute("charset")===(l.charSet==null?null:l.charSet)){m.splice(x,1);break t}}d=c.createElement(r),_t(d,r,l),c.head.appendChild(d);break;default:throw Error(a(468,r))}d[gt]=e,ft(d),r=d}e.stateNode=r}else Mg(c,e.type,e.stateNode);else e.stateNode=Rg(c,r,e.memoizedProps);else d!==r?(d===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):d.count--,r===null?Mg(c,e.type,e.stateNode):Rg(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Au(e,e.memoizedProps,l.memoizedProps)}break;case 27:kt(t,e),zt(e),r&512&&(ot||l===null||xn(l,l.return)),l!==null&&r&4&&Au(e,e.memoizedProps,l.memoizedProps);break;case 5:if(kt(t,e),zt(e),r&512&&(ot||l===null||xn(l,l.return)),e.flags&32){c=e.stateNode;try{mi(c,"")}catch(W){ke(e,e.return,W)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Au(e,c,l!==null?l.memoizedProps:c)),r&1024&&(Mu=!0);break;case 6:if(kt(t,e),zt(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,l=e.stateNode;try{l.nodeValue=r}catch(W){ke(e,e.return,W)}}break;case 3:if(to=null,c=dn,dn=$r(t.containerInfo),kt(t,e),dn=c,zt(e),r&4&&l!==null&&l.memoizedState.isDehydrated)try{Qi(t.containerInfo)}catch(W){ke(e,e.return,W)}Mu&&(Mu=!1,Mp(e));break;case 4:r=dn,dn=$r(e.stateNode.containerInfo),kt(t,e),zt(e),dn=r;break;case 12:kt(t,e),zt(e);break;case 31:kt(t,e),zt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Hr(e,r)));break;case 13:kt(t,e),zt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Gr=te()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Hr(e,r)));break;case 22:c=e.memoizedState!==null;var S=l!==null&&l.memoizedState!==null,R=zn,L=ot;if(zn=R||c,ot=L||S,kt(t,e),ot=L,zn=R,zt(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(l===null||S||zn||ot||Fl(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){S=l=t;try{if(d=S.stateNode,c)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=S.stateNode;var H=S.memoizedProps.style,M=H!=null&&H.hasOwnProperty("display")?H.display:null;x.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(W){ke(S,S.return,W)}}}else if(t.tag===6){if(l===null){S=t;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(W){ke(S,S.return,W)}}}else if(t.tag===18){if(l===null){S=t;try{var O=S.stateNode;c?bg(O,!0):bg(S.stateNode,!1)}catch(W){ke(S,S.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,Hr(e,l))));break;case 19:kt(t,e),zt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Hr(e,r)));break;case 30:break;case 21:break;default:kt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{for(var l,r=e.return;r!==null;){if(Ep(r)){l=r;break}r=r.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var c=l.stateNode,d=Ru(e);Ir(e,d,c);break;case 5:var m=l.stateNode;l.flags&32&&(mi(m,""),l.flags&=-33);var x=Ru(e);Ir(e,x,m);break;case 3:case 4:var S=l.stateNode.containerInfo,R=Ru(e);Du(e,R,S);break;default:throw Error(a(161))}}catch(L){ke(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Mp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Un(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wp(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:xn(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&bp(t,t.return,l),Fl(t);break;case 27:ea(t.stateNode);case 26:case 5:xn(t,t.return),Fl(t);break;case 22:t.memoizedState===null&&Fl(t);break;case 30:Fl(t);break;default:Fl(t)}e=e.sibling}}function In(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:In(c,d,l),qs(4,d);break;case 1:if(In(c,d,l),r=d,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){ke(r,r.return,R)}if(r=d,c=r.updateQueue,c!==null){var x=r.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)cm(S[c],x)}catch(R){ke(r,r.return,R)}}l&&m&64&&_p(d),Qs(d,d.return);break;case 27:Np(d);case 26:case 5:In(c,d,l),l&&r===null&&m&4&&Sp(d),Qs(d,d.return);break;case 12:In(c,d,l);break;case 31:In(c,d,l),l&&m&4&&Ap(c,d);break;case 13:In(c,d,l),l&&m&4&&Rp(c,d);break;case 22:d.memoizedState===null&&In(c,d,l),Qs(d,d.return);break;case 30:break;default:In(c,d,l)}t=t.sibling}}function Ou(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ds(l))}function ku(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ds(e))}function fn(e,t,l,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Op(e,t,l,r),t=t.sibling}function Op(e,t,l,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:fn(e,t,l,r),c&2048&&qs(9,t);break;case 1:fn(e,t,l,r);break;case 3:fn(e,t,l,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ds(e)));break;case 12:if(c&2048){fn(e,t,l,r),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,x=d.onPostCommit;typeof x=="function"&&x(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){ke(t,t.return,S)}}else fn(e,t,l,r);break;case 31:fn(e,t,l,r);break;case 13:fn(e,t,l,r);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?fn(e,t,l,r):Xs(e,t):d._visibility&2?fn(e,t,l,r):(d._visibility|=2,ki(e,t,l,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Ou(m,t);break;case 24:fn(e,t,l,r),c&2048&&ku(t.alternate,t);break;default:fn(e,t,l,r)}}function ki(e,t,l,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,x=l,S=r,R=m.flags;switch(m.tag){case 0:case 11:case 15:ki(d,m,x,S,c),qs(8,m);break;case 23:break;case 22:var L=m.stateNode;m.memoizedState!==null?L._visibility&2?ki(d,m,x,S,c):Xs(d,m):(L._visibility|=2,ki(d,m,x,S,c)),c&&R&2048&&Ou(m.alternate,m);break;case 24:ki(d,m,x,S,c),c&&R&2048&&ku(m.alternate,m);break;default:ki(d,m,x,S,c)}t=t.sibling}}function Xs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,r=t,c=r.flags;switch(r.tag){case 22:Xs(l,r),c&2048&&Ou(r.alternate,r);break;case 24:Xs(l,r),c&2048&&ku(r.alternate,r);break;default:Xs(l,r)}t=t.sibling}}var Fs=8192;function zi(e,t,l){if(e.subtreeFlags&Fs)for(e=e.child;e!==null;)kp(e,t,l),e=e.sibling}function kp(e,t,l){switch(e.tag){case 26:zi(e,t,l),e.flags&Fs&&e.memoizedState!==null&&ob(l,dn,e.memoizedState,e.memoizedProps);break;case 5:zi(e,t,l);break;case 3:case 4:var r=dn;dn=$r(e.stateNode.containerInfo),zi(e,t,l),dn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Fs,Fs=16777216,zi(e,t,l),Fs=r):zi(e,t,l));break;default:zi(e,t,l)}}function zp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ks(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var r=t[l];ht=r,Up(r,e)}zp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lp(e),e=e.sibling}function Lp(e){switch(e.tag){case 0:case 11:case 15:Ks(e),e.flags&2048&&ol(9,e,e.return);break;case 3:Ks(e);break;case 12:Ks(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Br(e)):Ks(e);break;default:Ks(e)}}function Br(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var r=t[l];ht=r,Up(r,e)}zp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ol(8,t,t.return),Br(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Br(t));break;default:Br(t)}e=e.sibling}}function Up(e,t){for(;ht!==null;){var l=ht;switch(l.tag){case 0:case 11:case 15:ol(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ds(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,ht=r;else e:for(l=e;ht!==null;){r=ht;var c=r.sibling,d=r.return;if(Tp(r),r===l){ht=null;break e}if(c!==null){c.return=d,ht=c;break e}ht=d}}}var E_={getCacheForType:function(e){var t=vt(st),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return vt(st).controller.signal}},N_=typeof WeakMap=="function"?WeakMap:Map,De=0,Be=null,xe=null,Se=0,Oe=0,Xt=null,cl=!1,Li=!1,zu=!1,Hn=0,$e=0,ul=0,Kl=0,Lu=0,Ft=0,Ui=0,Zs=null,Lt=null,Uu=!1,Gr=0,Ip=0,Yr=1/0,Vr=null,dl=null,ct=0,fl=null,Ii=null,Bn=0,Iu=0,Hu=null,Hp=null,Ws=0,Bu=null;function Kt(){return(De&2)!==0&&Se!==0?Se&-Se:k.T!==null?Xu():th()}function Bp(){if(Ft===0)if((Se&536870912)===0||Ne){var e=Pa;Pa<<=1,(Pa&3932160)===0&&(Pa=262144),Ft=e}else Ft=536870912;return e=qt.current,e!==null&&(e.flags|=32),Ft}function Ut(e,t,l){(e===Be&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Hi(e,0),hl(e,Se,Ft,!1)),ys(e,l),((De&2)===0||e!==Be)&&(e===Be&&((De&2)===0&&(Kl|=l),$e===4&&hl(e,Se,Ft,!1)),_n(e))}function Gp(e,t,l){if((De&6)!==0)throw Error(a(327));var r=!l&&(t&127)===0&&(t&e.expiredLanes)===0||gs(e,t),c=r?T_(e,t):Yu(e,t,!0),d=r;do{if(c===0){Li&&!r&&hl(e,t,0,!1);break}else{if(l=e.current.alternate,d&&!C_(l)){c=Yu(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var x=e;c=Zs;var S=x.current.memoizedState.isDehydrated;if(S&&(Hi(x,m).flags|=256),m=Yu(x,m,!1),m!==2){if(zu&&!S){x.errorRecoveryDisabledLanes|=d,Kl|=d,c=4;break e}d=Lt,Lt=c,d!==null&&(Lt===null?Lt=d:Lt.push.apply(Lt,d))}c=m}if(d=!1,c!==2)continue}}if(c===1){Hi(e,0),hl(e,t,0,!0);break}e:{switch(r=e,d=c,d){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:hl(r,t,Ft,!cl);break e;case 2:Lt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(c=Gr+300-te(),10<c)){if(hl(r,t,Ft,!cl),$a(r,0,!0)!==0)break e;Bn=t,r.timeoutHandle=vg(Yp.bind(null,r,l,Lt,Vr,Uu,t,Ft,Kl,Ui,cl,d,"Throttled",-0,0),c);break e}Yp(r,l,Lt,Vr,Uu,t,Ft,Kl,Ui,cl,d,null,-0,0)}}break}while(!0);_n(e)}function Yp(e,t,l,r,c,d,m,x,S,R,L,H,M,O){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},kp(t,d,H);var W=(d&62914560)===d?Gr-te():(d&4194048)===d?Ip-te():0;if(W=cb(H,W),W!==null){Bn=d,e.cancelPendingCommit=W(Wp.bind(null,e,t,d,l,r,c,m,x,S,L,H,null,M,O)),hl(e,d,m,!R);return}}Wp(e,t,d,l,r,c,m,x,S)}function C_(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var c=l[r],d=c.getSnapshot;c=c.value;try{if(!Yt(d(),c))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hl(e,t,l,r){t&=~Lu,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var d=31-Gt(c),m=1<<d;r[d]=-1,c&=~m}l!==0&&Jf(e,l,t)}function qr(){return(De&6)===0?(Ps(0),!1):!0}function Gu(){if(xe!==null){if(Oe===0)var e=xe.return;else e=xe,An=Hl=null,lu(e),Ai=null,Os=0,e=xe;for(;e!==null;)xp(e.alternate,e),e=e.return;xe=null}}function Hi(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Q_(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Bn=0,Gu(),Be=e,xe=l=Tn(e.current,null),Se=t,Oe=0,Xt=null,cl=!1,Li=gs(e,t),zu=!1,Ui=Ft=Lu=Kl=ul=$e=0,Lt=Zs=null,Uu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-Gt(r),d=1<<c;t|=e[c],r&=~d}return Hn=t,dr(),l}function Vp(e,t){ue=null,k.H=Gs,t===ji||t===xr?(t=sm(),Oe=3):t===Qc?(t=sm(),Oe=4):Oe=t===xu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Xt=t,xe===null&&($e=1,Or(e,Jt(t,e.current)))}function qp(){var e=qt.current;return e===null?!0:(Se&4194048)===Se?nn===null:(Se&62914560)===Se||(Se&536870912)!==0?e===nn:!1}function Qp(){var e=k.H;return k.H=Gs,e===null?Gs:e}function Xp(){var e=k.A;return k.A=E_,e}function Qr(){$e=4,cl||(Se&4194048)!==Se&&qt.current!==null||(Li=!0),(ul&134217727)===0&&(Kl&134217727)===0||Be===null||hl(Be,Se,Ft,!1)}function Yu(e,t,l){var r=De;De|=2;var c=Qp(),d=Xp();(Be!==e||Se!==t)&&(Vr=null,Hi(e,t)),t=!1;var m=$e;e:do try{if(Oe!==0&&xe!==null){var x=xe,S=Xt;switch(Oe){case 8:Gu(),m=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var R=Oe;if(Oe=0,Xt=null,Bi(e,x,S,R),l&&Li){m=0;break e}break;default:R=Oe,Oe=0,Xt=null,Bi(e,x,S,R)}}w_(),m=$e;break}catch(L){Vp(e,L)}while(!0);return t&&e.shellSuspendCounter++,An=Hl=null,De=r,k.H=c,k.A=d,xe===null&&(Be=null,Se=0,dr()),m}function w_(){for(;xe!==null;)Fp(xe)}function T_(e,t){var l=De;De|=2;var r=Qp(),c=Xp();Be!==e||Se!==t?(Vr=null,Yr=te()+500,Hi(e,t)):Li=gs(e,t);e:do try{if(Oe!==0&&xe!==null){t=xe;var d=Xt;t:switch(Oe){case 1:Oe=0,Xt=null,Bi(e,t,d,1);break;case 2:case 9:if(lm(d)){Oe=0,Xt=null,Kp(t);break}t=function(){Oe!==2&&Oe!==9||Be!==e||(Oe=7),_n(e)},d.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:lm(d)?(Oe=0,Xt=null,Kp(t)):(Oe=0,Xt=null,Bi(e,t,d,7));break;case 5:var m=null;switch(xe.tag){case 26:m=xe.memoizedState;case 5:case 27:var x=xe;if(m?Og(m):x.stateNode.complete){Oe=0,Xt=null;var S=x.sibling;if(S!==null)xe=S;else{var R=x.return;R!==null?(xe=R,Xr(R)):xe=null}break t}}Oe=0,Xt=null,Bi(e,t,d,5);break;case 6:Oe=0,Xt=null,Bi(e,t,d,6);break;case 8:Gu(),$e=6;break e;default:throw Error(a(462))}}j_();break}catch(L){Vp(e,L)}while(!0);return An=Hl=null,k.H=r,k.A=c,De=l,xe!==null?0:(Be=null,Se=0,dr(),$e)}function j_(){for(;xe!==null&&!Ka();)Fp(xe)}function Fp(e){var t=yp(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?Xr(e):xe=t}function Kp(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=dp(l,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=dp(l,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:lu(t);default:xp(l,t),t=xe=Xh(t,Hn),t=yp(l,t,Hn)}e.memoizedProps=e.pendingProps,t===null?Xr(e):xe=t}function Bi(e,t,l,r){An=Hl=null,lu(t),Ai=null,Os=0;var c=t.return;try{if(g_(e,c,t,l,Se)){$e=1,Or(e,Jt(l,e.current)),xe=null;return}}catch(d){if(c!==null)throw xe=c,d;$e=1,Or(e,Jt(l,e.current)),xe=null;return}t.flags&32768?(Ne||r===1?e=!0:Li||(Se&536870912)!==0?e=!1:(cl=e=!0,(r===2||r===9||r===3||r===6)&&(r=qt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Zp(t,e)):Xr(t)}function Xr(e){var t=e;do{if((t.flags&32768)!==0){Zp(t,cl);return}e=t.return;var l=x_(t.alternate,t,Hn);if(l!==null){xe=l;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);$e===0&&($e=5)}function Zp(e,t){do{var l=__(e.alternate,e);if(l!==null){l.flags&=32767,xe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=l}while(e!==null);$e=6,xe=null}function Wp(e,t,l,r,c,d,m,x,S){e.cancelPendingCommit=null;do Fr();while(ct!==0);if((De&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(d=t.lanes|t.childLanes,d|=Rc,rx(e,l,d,m,x,S),e===Be&&(xe=Be=null,Se=0),Ii=t,fl=e,Bn=l,Iu=d,Hu=c,Hp=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,M_(Pe,function(){return tg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=k.T,k.T=null,c=X.p,X.p=2,m=De,De|=4;try{b_(e,t,l)}finally{De=m,X.p=c,k.T=r}}ct=1,Pp(),Jp(),$p()}}function Pp(){if(ct===1){ct=0;var e=fl,t=Ii,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var r=X.p;X.p=2;var c=De;De|=4;try{Dp(t,e);var d=ed,m=Uh(e.containerInfo),x=d.focusedElem,S=d.selectionRange;if(m!==x&&x&&x.ownerDocument&&Lh(x.ownerDocument.documentElement,x)){if(S!==null&&Cc(x)){var R=S.start,L=S.end;if(L===void 0&&(L=R),"selectionStart"in x)x.selectionStart=R,x.selectionEnd=Math.min(L,x.value.length);else{var H=x.ownerDocument||document,M=H&&H.defaultView||window;if(M.getSelection){var O=M.getSelection(),W=x.textContent.length,ie=Math.min(S.start,W),Ie=S.end===void 0?ie:Math.min(S.end,W);!O.extend&&ie>Ie&&(m=Ie,Ie=ie,ie=m);var T=zh(x,ie),N=zh(x,Ie);if(T&&N&&(O.rangeCount!==1||O.anchorNode!==T.node||O.anchorOffset!==T.offset||O.focusNode!==N.node||O.focusOffset!==N.offset)){var A=H.createRange();A.setStart(T.node,T.offset),O.removeAllRanges(),ie>Ie?(O.addRange(A),O.extend(N.node,N.offset)):(A.setEnd(N.node,N.offset),O.addRange(A))}}}}for(H=[],O=x;O=O.parentNode;)O.nodeType===1&&H.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<H.length;x++){var I=H[x];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}so=!!$u,ed=$u=null}finally{De=c,X.p=r,k.T=l}}e.current=t,ct=2}}function Jp(){if(ct===2){ct=0;var e=fl,t=Ii,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var r=X.p;X.p=2;var c=De;De|=4;try{wp(e,t.alternate,t)}finally{De=c,X.p=r,k.T=l}}ct=3}}function $p(){if(ct===4||ct===3){ct=0,V();var e=fl,t=Ii,l=Bn,r=Hp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ct=5:(ct=0,Ii=fl=null,eg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(dl=null),ac(l),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(ps,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=k.T,c=X.p,X.p=2,k.T=null;try{for(var d=e.onRecoverableError,m=0;m<r.length;m++){var x=r[m];d(x.value,{componentStack:x.stack})}}finally{k.T=t,X.p=c}}(Bn&3)!==0&&Fr(),_n(e),c=e.pendingLanes,(l&261930)!==0&&(c&42)!==0?e===Bu?Ws++:(Ws=0,Bu=e):Ws=0,Ps(0)}}function eg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ds(t)))}function Fr(){return Pp(),Jp(),$p(),tg()}function tg(){if(ct!==5)return!1;var e=fl,t=Iu;Iu=0;var l=ac(Bn),r=k.T,c=X.p;try{X.p=32>l?32:l,k.T=null,l=Hu,Hu=null;var d=fl,m=Bn;if(ct=0,Ii=fl=null,Bn=0,(De&6)!==0)throw Error(a(331));var x=De;if(De|=4,Lp(d.current),Op(d,d.current,m,l),De=x,Ps(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(ps,d)}catch{}return!0}finally{X.p=c,k.T=r,eg(e,t)}}function ng(e,t,l){t=Jt(l,t),t=vu(e.stateNode,t,2),e=sl(e,t,2),e!==null&&(ys(e,2),_n(e))}function ke(e,t,l){if(e.tag===3)ng(e,e,l);else for(;t!==null;){if(t.tag===3){ng(t,e,l);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dl===null||!dl.has(r))){e=Jt(l,e),l=lp(2),r=sl(t,l,2),r!==null&&(ip(l,r,t,e),ys(r,2),_n(r));break}}t=t.return}}function Vu(e,t,l){var r=e.pingCache;if(r===null){r=e.pingCache=new N_;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(l)||(zu=!0,c.add(l),e=A_.bind(null,e,t,l),t.then(e,e))}function A_(e,t,l){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Be===e&&(Se&l)===l&&($e===4||$e===3&&(Se&62914560)===Se&&300>te()-Gr?(De&2)===0&&Hi(e,0):Lu|=l,Ui===Se&&(Ui=0)),_n(e)}function lg(e,t){t===0&&(t=Pf()),e=Ll(e,t),e!==null&&(ys(e,t),_n(e))}function R_(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),lg(e,l)}function D_(e,t){var l=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(l=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(t),lg(e,l)}function M_(e,t){return fs(e,t)}var Kr=null,Gi=null,qu=!1,Zr=!1,Qu=!1,ml=0;function _n(e){e!==Gi&&e.next===null&&(Gi===null?Kr=Gi=e:Gi=Gi.next=e),Zr=!0,qu||(qu=!0,k_())}function Ps(e,t){if(!Qu&&Zr){Qu=!0;do for(var l=!1,r=Kr;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var d=0;else{var m=r.suspendedLanes,x=r.pingedLanes;d=(1<<31-Gt(42|e)+1)-1,d&=c&~(m&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(l=!0,rg(r,d))}else d=Se,d=$a(r,r===Be?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||gs(r,d)||(l=!0,rg(r,d));r=r.next}while(l);Qu=!1}}function O_(){ig()}function ig(){Zr=qu=!1;var e=0;ml!==0&&q_()&&(e=ml);for(var t=te(),l=null,r=Kr;r!==null;){var c=r.next,d=sg(r,t);d===0?(r.next=null,l===null?Kr=c:l.next=c,c===null&&(Gi=l)):(l=r,(e!==0||(d&3)!==0)&&(Zr=!0)),r=c}ct!==0&&ct!==5||Ps(e),ml!==0&&(ml=0)}function sg(e,t){for(var l=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-Gt(d),x=1<<m,S=c[m];S===-1?((x&l)===0||(x&r)!==0)&&(c[m]=ax(x,t)):S<=t&&(e.expiredLanes|=x),d&=~x}if(t=Be,l=Se,l=$a(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,l===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&hs(r),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||gs(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(r!==null&&hs(r),ac(l)){case 2:case 8:l=ve;break;case 32:l=Pe;break;case 268435456:l=ms;break;default:l=Pe}return r=ag.bind(null,e),l=fs(l,r),e.callbackPriority=t,e.callbackNode=l,t}return r!==null&&r!==null&&hs(r),e.callbackPriority=2,e.callbackNode=null,2}function ag(e,t){if(ct!==0&&ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Fr()&&e.callbackNode!==l)return null;var r=Se;return r=$a(e,e===Be?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Gp(e,r,t),sg(e,te()),e.callbackNode!=null&&e.callbackNode===l?ag.bind(null,e):null)}function rg(e,t){if(Fr())return null;Gp(e,t,!0)}function k_(){X_(function(){(De&6)!==0?fs(P,O_):ig()})}function Xu(){if(ml===0){var e=wi;e===0&&(e=Wa,Wa<<=1,(Wa&261888)===0&&(Wa=256)),ml=e}return ml}function og(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:lr(""+e)}function cg(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function z_(e,t,l,r,c){if(t==="submit"&&l&&l.stateNode===c){var d=og((c[Dt]||null).action),m=r.submitter;m&&(t=(t=m[Dt]||null)?og(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var x=new rr("action","action",null,r,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ml!==0){var S=m?cg(c,m):new FormData(c);fu(l,{pending:!0,data:S,method:c.method,action:d},null,S)}}else typeof d=="function"&&(x.preventDefault(),S=m?cg(c,m):new FormData(c),fu(l,{pending:!0,data:S,method:c.method,action:d},d,S))},currentTarget:c}]})}}for(var Fu=0;Fu<Ac.length;Fu++){var Ku=Ac[Fu],L_=Ku.toLowerCase(),U_=Ku[0].toUpperCase()+Ku.slice(1);un(L_,"on"+U_)}un(Bh,"onAnimationEnd"),un(Gh,"onAnimationIteration"),un(Yh,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un($x,"onTransitionRun"),un(e_,"onTransitionStart"),un(t_,"onTransitionCancel"),un(Vh,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Js));function ug(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var r=e[l],c=r.event;r=r.listeners;e:{var d=void 0;if(t)for(var m=r.length-1;0<=m;m--){var x=r[m],S=x.instance,R=x.currentTarget;if(x=x.listener,S!==d&&c.isPropagationStopped())break e;d=x,c.currentTarget=R;try{d(c)}catch(L){ur(L)}c.currentTarget=null,d=S}else for(m=0;m<r.length;m++){if(x=r[m],S=x.instance,R=x.currentTarget,x=x.listener,S!==d&&c.isPropagationStopped())break e;d=x,c.currentTarget=R;try{d(c)}catch(L){ur(L)}c.currentTarget=null,d=S}}}}function _e(e,t){var l=t[rc];l===void 0&&(l=t[rc]=new Set);var r=e+"__bubble";l.has(r)||(dg(t,e,2,!1),l.add(r))}function Zu(e,t,l){var r=0;t&&(r|=4),dg(l,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Wu(e){if(!e[Wr]){e[Wr]=!0,ih.forEach(function(l){l!=="selectionchange"&&(I_.has(l)||Zu(l,!1,e),Zu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wr]||(t[Wr]=!0,Zu("selectionchange",!1,t))}}function dg(e,t,l,r){switch(Bg(t)){case 2:var c=fb;break;case 8:c=hb;break;default:c=dd}l=c.bind(null,t,l,e),c=void 0,!gc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,l,{capture:!0,passive:c}):e.addEventListener(t,l,!0):c!==void 0?e.addEventListener(t,l,{passive:c}):e.addEventListener(t,l,!1)}function Pu(e,t,l,r,c){var d=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var m=r.tag;if(m===3||m===4){var x=r.stateNode.containerInfo;if(x===c)break;if(m===4)for(m=r.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;x!==null;){if(m=ci(x),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){r=d=m;continue e}x=x.parentNode}}r=r.return}gh(function(){var R=d,L=mc(l),H=[];e:{var M=qh.get(e);if(M!==void 0){var O=rr,W=e;switch(e){case"keypress":if(sr(l)===0)break e;case"keydown":case"keyup":O=Dx;break;case"focusin":W="focus",O=_c;break;case"focusout":W="blur",O=_c;break;case"beforeblur":case"afterblur":O=_c;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=kx;break;case Bh:case Gh:case Yh:O=Sx;break;case Vh:O=Lx;break;case"scroll":case"scrollend":O=yx;break;case"wheel":O=Ix;break;case"copy":case"cut":case"paste":O=Nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=bh;break;case"toggle":case"beforetoggle":O=Bx}var ie=(t&4)!==0,Ie=!ie&&(e==="scroll"||e==="scrollend"),T=ie?M!==null?M+"Capture":null:M;ie=[];for(var N=R,A;N!==null;){var I=N;if(A=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||A===null||T===null||(I=_s(N,T),I!=null&&ie.push($s(N,I,A))),Ie)break;N=N.return}0<ie.length&&(M=new O(M,W,null,l,L),H.push({event:M,listeners:ie}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",M&&l!==hc&&(W=l.relatedTarget||l.fromElement)&&(ci(W)||W[oi]))break e;if((O||M)&&(M=L.window===L?L:(M=L.ownerDocument)?M.defaultView||M.parentWindow:window,O?(W=l.relatedTarget||l.toElement,O=R,W=W?ci(W):null,W!==null&&(Ie=u(W),ie=W.tag,W!==Ie||ie!==5&&ie!==27&&ie!==6)&&(W=null)):(O=null,W=R),O!==W)){if(ie=xh,I="onMouseLeave",T="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ie=bh,I="onPointerLeave",T="onPointerEnter",N="pointer"),Ie=O==null?M:xs(O),A=W==null?M:xs(W),M=new ie(I,N+"leave",O,l,L),M.target=Ie,M.relatedTarget=A,I=null,ci(L)===R&&(ie=new ie(T,N+"enter",W,l,L),ie.target=A,ie.relatedTarget=Ie,I=ie),Ie=I,O&&W)t:{for(ie=H_,T=O,N=W,A=0,I=T;I;I=ie(I))A++;I=0;for(var ee=N;ee;ee=ie(ee))I++;for(;0<A-I;)T=ie(T),A--;for(;0<I-A;)N=ie(N),I--;for(;A--;){if(T===N||N!==null&&T===N.alternate){ie=T;break t}T=ie(T),N=ie(N)}ie=null}else ie=null;O!==null&&fg(H,M,O,ie,!1),W!==null&&Ie!==null&&fg(H,Ie,W,ie,!0)}}e:{if(M=R?xs(R):window,O=M.nodeName&&M.nodeName.toLowerCase(),O==="select"||O==="input"&&M.type==="file")var je=Ah;else if(Th(M))if(Rh)je=Wx;else{je=Kx;var J=Fx}else O=M.nodeName,!O||O.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?R&&fc(R.elementType)&&(je=Ah):je=Zx;if(je&&(je=je(e,R))){jh(H,je,l,L);break e}J&&J(e,M,R),e==="focusout"&&R&&M.type==="number"&&R.memoizedProps.value!=null&&dc(M,"number",M.value)}switch(J=R?xs(R):window,e){case"focusin":(Th(J)||J.contentEditable==="true")&&(vi=J,wc=R,js=null);break;case"focusout":js=wc=vi=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,Ih(H,l,L);break;case"selectionchange":if(Jx)break;case"keydown":case"keyup":Ih(H,l,L)}var de;if(Sc)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else yi?Ch(e,l)&&(Ee="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(Sh&&l.locale!=="ko"&&(yi||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&yi&&(de=yh()):(Jn=L,yc="value"in Jn?Jn.value:Jn.textContent,yi=!0)),J=Pr(R,Ee),0<J.length&&(Ee=new _h(Ee,e,null,l,L),H.push({event:Ee,listeners:J}),de?Ee.data=de:(de=wh(l),de!==null&&(Ee.data=de)))),(de=Yx?Vx(e,l):qx(e,l))&&(Ee=Pr(R,"onBeforeInput"),0<Ee.length&&(J=new _h("onBeforeInput","beforeinput",null,l,L),H.push({event:J,listeners:Ee}),J.data=de)),z_(H,e,R,l,L)}ug(H,t)})}function $s(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Pr(e,t){for(var l=t+"Capture",r=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=_s(e,l),c!=null&&r.unshift($s(e,c,d)),c=_s(e,t),c!=null&&r.push($s(e,c,d))),e.tag===3)return r;e=e.return}return[]}function H_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fg(e,t,l,r,c){for(var d=t._reactName,m=[];l!==null&&l!==r;){var x=l,S=x.alternate,R=x.stateNode;if(x=x.tag,S!==null&&S===r)break;x!==5&&x!==26&&x!==27||R===null||(S=R,c?(R=_s(l,d),R!=null&&m.unshift($s(l,R,S))):c||(R=_s(l,d),R!=null&&m.push($s(l,R,S)))),l=l.return}m.length!==0&&e.push({event:t,listeners:m})}var B_=/\r\n?/g,G_=/\u0000|\uFFFD/g;function hg(e){return(typeof e=="string"?e:""+e).replace(B_,`
`).replace(G_,"")}function mg(e,t){return t=hg(t),hg(e)===t}function Ue(e,t,l,r,c,d){switch(l){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||mi(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&mi(e,""+r);break;case"className":tr(e,"class",r);break;case"tabIndex":tr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(e,l,r);break;case"style":mh(e,r,d);break;case"data":if(t!=="object"){tr(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=lr(""+r),e.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(l==="formAction"?(t!=="input"&&Ue(e,t,"name",c.name,c,null),Ue(e,t,"formEncType",c.formEncType,c,null),Ue(e,t,"formMethod",c.formMethod,c,null),Ue(e,t,"formTarget",c.formTarget,c,null)):(Ue(e,t,"encType",c.encType,c,null),Ue(e,t,"method",c.method,c,null),Ue(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=lr(""+r),e.setAttribute(l,r);break;case"onClick":r!=null&&(e.onclick=Cn);break;case"onScroll":r!=null&&_e("scroll",e);break;case"onScrollEnd":r!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(l=r.__html,l!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}l=lr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""+r):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":r===!0?e.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,r):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(l,r):e.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(l):e.setAttribute(l,r);break;case"popover":_e("beforetoggle",e),_e("toggle",e),er(e,"popover",r);break;case"xlinkActuate":Nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Nn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Nn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Nn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Nn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":er(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=px.get(l)||l,er(e,l,r))}}function Ju(e,t,l,r,c,d){switch(l){case"style":mh(e,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(l=r.__html,l!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof r=="string"?mi(e,r):(typeof r=="number"||typeof r=="bigint")&&mi(e,""+r);break;case"onScroll":r!=null&&_e("scroll",e);break;case"onScrollEnd":r!=null&&_e("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sh.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(c=l.endsWith("Capture"),t=l.slice(2,c?l.length-7:void 0),d=e[Dt]||null,d=d!=null?d[l]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof r=="function")){typeof d!="function"&&d!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,r,c);break e}l in e?e[l]=r:r===!0?e.setAttribute(l,""):er(e,l,r)}}}function _t(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var r=!1,c=!1,d;for(d in l)if(l.hasOwnProperty(d)){var m=l[d];if(m!=null)switch(d){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ue(e,t,d,m,l,null)}}c&&Ue(e,t,"srcSet",l.srcSet,l,null),r&&Ue(e,t,"src",l.src,l,null);return;case"input":_e("invalid",e);var x=d=m=c=null,S=null,R=null;for(r in l)if(l.hasOwnProperty(r)){var L=l[r];if(L!=null)switch(r){case"name":c=L;break;case"type":m=L;break;case"checked":S=L;break;case"defaultChecked":R=L;break;case"value":d=L;break;case"defaultValue":x=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,t));break;default:Ue(e,t,r,L,l,null)}}uh(e,d,x,S,R,m,c,!1);return;case"select":_e("invalid",e),r=m=d=null;for(c in l)if(l.hasOwnProperty(c)&&(x=l[c],x!=null))switch(c){case"value":d=x;break;case"defaultValue":m=x;break;case"multiple":r=x;default:Ue(e,t,c,x,l,null)}t=d,l=m,e.multiple=!!r,t!=null?hi(e,!!r,t,!1):l!=null&&hi(e,!!r,l,!0);return;case"textarea":_e("invalid",e),d=c=r=null;for(m in l)if(l.hasOwnProperty(m)&&(x=l[m],x!=null))switch(m){case"value":r=x;break;case"defaultValue":c=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:Ue(e,t,m,x,l,null)}fh(e,r,c,d);return;case"option":for(S in l)if(l.hasOwnProperty(S)&&(r=l[S],r!=null))switch(S){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ue(e,t,S,r,l,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(r=0;r<Js.length;r++)_e(Js[r],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in l)if(l.hasOwnProperty(R)&&(r=l[R],r!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ue(e,t,R,r,l,null)}return;default:if(fc(t)){for(L in l)l.hasOwnProperty(L)&&(r=l[L],r!==void 0&&Ju(e,t,L,r,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(r=l[x],r!=null&&Ue(e,t,x,r,l,null))}function Y_(e,t,l,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,m=null,x=null,S=null,R=null,L=null;for(O in l){var H=l[O];if(l.hasOwnProperty(O)&&H!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":S=H;default:r.hasOwnProperty(O)||Ue(e,t,O,null,r,H)}}for(var M in r){var O=r[M];if(H=l[M],r.hasOwnProperty(M)&&(O!=null||H!=null))switch(M){case"type":d=O;break;case"name":c=O;break;case"checked":R=O;break;case"defaultChecked":L=O;break;case"value":m=O;break;case"defaultValue":x=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,t));break;default:O!==H&&Ue(e,t,M,O,r,H)}}uc(e,m,x,S,R,L,d,c);return;case"select":O=m=x=M=null;for(d in l)if(S=l[d],l.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":O=S;default:r.hasOwnProperty(d)||Ue(e,t,d,null,r,S)}for(c in r)if(d=r[c],S=l[c],r.hasOwnProperty(c)&&(d!=null||S!=null))switch(c){case"value":M=d;break;case"defaultValue":x=d;break;case"multiple":m=d;default:d!==S&&Ue(e,t,c,d,r,S)}t=x,l=m,r=O,M!=null?hi(e,!!l,M,!1):!!r!=!!l&&(t!=null?hi(e,!!l,t,!0):hi(e,!!l,l?[]:"",!1));return;case"textarea":O=M=null;for(x in l)if(c=l[x],l.hasOwnProperty(x)&&c!=null&&!r.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ue(e,t,x,null,r,c)}for(m in r)if(c=r[m],d=l[m],r.hasOwnProperty(m)&&(c!=null||d!=null))switch(m){case"value":M=c;break;case"defaultValue":O=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==d&&Ue(e,t,m,c,r,d)}dh(e,M,O);return;case"option":for(var W in l)if(M=l[W],l.hasOwnProperty(W)&&M!=null&&!r.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:Ue(e,t,W,null,r,M)}for(S in r)if(M=r[S],O=l[S],r.hasOwnProperty(S)&&M!==O&&(M!=null||O!=null))switch(S){case"selected":e.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Ue(e,t,S,M,r,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in l)M=l[ie],l.hasOwnProperty(ie)&&M!=null&&!r.hasOwnProperty(ie)&&Ue(e,t,ie,null,r,M);for(R in r)if(M=r[R],O=l[R],r.hasOwnProperty(R)&&M!==O&&(M!=null||O!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(137,t));break;default:Ue(e,t,R,M,r,O)}return;default:if(fc(t)){for(var Ie in l)M=l[Ie],l.hasOwnProperty(Ie)&&M!==void 0&&!r.hasOwnProperty(Ie)&&Ju(e,t,Ie,void 0,r,M);for(L in r)M=r[L],O=l[L],!r.hasOwnProperty(L)||M===O||M===void 0&&O===void 0||Ju(e,t,L,M,r,O);return}}for(var T in l)M=l[T],l.hasOwnProperty(T)&&M!=null&&!r.hasOwnProperty(T)&&Ue(e,t,T,null,r,M);for(H in r)M=r[H],O=l[H],!r.hasOwnProperty(H)||M===O||M==null&&O==null||Ue(e,t,H,M,r,O)}function pg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function V_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),r=0;r<l.length;r++){var c=l[r],d=c.transferSize,m=c.initiatorType,x=c.duration;if(d&&x&&pg(m)){for(m=0,x=c.responseEnd,r+=1;r<l.length;r++){var S=l[r],R=S.startTime;if(R>x)break;var L=S.transferSize,H=S.initiatorType;L&&pg(H)&&(S=S.responseEnd,m+=L*(S<x?1:(x-R)/(S-R)))}if(--r,t+=8*(d+m)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $u=null,ed=null;function Jr(e){return e.nodeType===9?e:e.ownerDocument}function gg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function td(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nd=null;function q_(){var e=window.event;return e&&e.type==="popstate"?e===nd?!1:(nd=e,!0):(nd=null,!1)}var vg=typeof setTimeout=="function"?setTimeout:void 0,Q_=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,X_=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(e){return xg.resolve(null).then(e).catch(F_)}:vg;function F_(e){setTimeout(function(){throw e})}function pl(e){return e==="head"}function _g(e,t){var l=t,r=0;do{var c=l.nextSibling;if(e.removeChild(l),c&&c.nodeType===8)if(l=c.data,l==="/$"||l==="/&"){if(r===0){e.removeChild(c),Qi(t);return}r--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")r++;else if(l==="html")ea(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,ea(l);for(var d=l.firstChild;d;){var m=d.nextSibling,x=d.nodeName;d[vs]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||l.removeChild(d),d=m}}else l==="body"&&ea(e.ownerDocument.body);l=c}while(l);Qi(t)}function bg(e,t){var l=e;e=0;do{var r=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),r&&r.nodeType===8)if(l=r.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=r}while(l)}function ld(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ld(l),oc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function K_(e,t,l,r){for(;e.nodeType===1;){var c=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[vs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ln(e.nextSibling),e===null)break}return null}function Z_(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=ln(e.nextSibling),e===null))return null;return e}function Sg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ln(e.nextSibling),e===null))return null;return e}function id(e){return e.data==="$?"||e.data==="$~"}function sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function W_(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var r=function(){t(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ad=null;function Eg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return ln(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Ng(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Cg(e,t,l){switch(t=Jr(l),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ea(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);oc(e)}var sn=new Map,wg=new Set;function $r(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Gn=X.d;X.d={f:P_,r:J_,D:$_,C:eb,L:tb,m:nb,X:ib,S:lb,M:sb};function P_(){var e=Gn.f(),t=qr();return e||t}function J_(e){var t=ui(e);t!==null&&t.tag===5&&t.type==="form"?Vm(t):Gn.r(e)}var Yi=typeof document>"u"?null:document;function Tg(e,t,l){var r=Yi;if(r&&typeof t=="string"&&t){var c=Wt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof l=="string"&&(c+='[crossorigin="'+l+'"]'),wg.has(c)||(wg.add(c),e={rel:e,crossOrigin:l,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),_t(t,"link",e),ft(t),r.head.appendChild(t)))}}function $_(e){Gn.D(e),Tg("dns-prefetch",e,null)}function eb(e,t){Gn.C(e,t),Tg("preconnect",e,t)}function tb(e,t,l){Gn.L(e,t,l);var r=Yi;if(r&&e&&t){var c='link[rel="preload"][as="'+Wt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(c+='[imagesrcset="'+Wt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(c+='[imagesizes="'+Wt(l.imageSizes)+'"]')):c+='[href="'+Wt(e)+'"]';var d=c;switch(t){case"style":d=Vi(e);break;case"script":d=qi(e)}sn.has(d)||(e=v({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),sn.set(d,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(ta(d))||t==="script"&&r.querySelector(na(d))||(t=r.createElement("link"),_t(t,"link",e),ft(t),r.head.appendChild(t)))}}function nb(e,t){Gn.m(e,t);var l=Yi;if(l&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Wt(r)+'"][href="'+Wt(e)+'"]',d=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qi(e)}if(!sn.has(d)&&(e=v({rel:"modulepreload",href:e},t),sn.set(d,e),l.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(na(d)))return}r=l.createElement("link"),_t(r,"link",e),ft(r),l.head.appendChild(r)}}}function lb(e,t,l){Gn.S(e,t,l);var r=Yi;if(r&&e){var c=di(r).hoistableStyles,d=Vi(e);t=t||"default";var m=c.get(d);if(!m){var x={loading:0,preload:null};if(m=r.querySelector(ta(d)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},l),(l=sn.get(d))&&rd(e,l);var S=m=r.createElement("link");ft(S),_t(S,"link",e),S._p=new Promise(function(R,L){S.onload=R,S.onerror=L}),S.addEventListener("load",function(){x.loading|=1}),S.addEventListener("error",function(){x.loading|=2}),x.loading|=4,eo(m,t,r)}m={type:"stylesheet",instance:m,count:1,state:x},c.set(d,m)}}}function ib(e,t){Gn.X(e,t);var l=Yi;if(l&&e){var r=di(l).hoistableScripts,c=qi(e),d=r.get(c);d||(d=l.querySelector(na(c)),d||(e=v({src:e,async:!0},t),(t=sn.get(c))&&od(e,t),d=l.createElement("script"),ft(d),_t(d,"link",e),l.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function sb(e,t){Gn.M(e,t);var l=Yi;if(l&&e){var r=di(l).hoistableScripts,c=qi(e),d=r.get(c);d||(d=l.querySelector(na(c)),d||(e=v({src:e,async:!0,type:"module"},t),(t=sn.get(c))&&od(e,t),d=l.createElement("script"),ft(d),_t(d,"link",e),l.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function jg(e,t,l,r){var c=(c=he.current)?$r(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Vi(l.href),l=di(c).hoistableStyles,r=l.get(t),r||(r={type:"style",instance:null,count:0,state:null},l.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Vi(l.href);var d=di(c).hoistableStyles,m=d.get(e);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=c.querySelector(ta(e)))&&!d._p&&(m.instance=d,m.state.loading=5),sn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},sn.set(e,l),d||ab(c,e,l,m.state))),t&&r===null)throw Error(a(528,""));return m}if(t&&r!==null)throw Error(a(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qi(l),l=di(c).hoistableScripts,r=l.get(t),r||(r={type:"script",instance:null,count:0,state:null},l.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Vi(e){return'href="'+Wt(e)+'"'}function ta(e){return'link[rel="stylesheet"]['+e+"]"}function Ag(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function ab(e,t,l,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),_t(t,"link",l),ft(t),e.head.appendChild(t))}function qi(e){return'[src="'+Wt(e)+'"]'}function na(e){return"script[async]"+e}function Rg(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Wt(l.href)+'"]');if(r)return t.instance=r,ft(r),r;var c=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ft(r),_t(r,"style",c),eo(r,l.precedence,e),t.instance=r;case"stylesheet":c=Vi(l.href);var d=e.querySelector(ta(c));if(d)return t.state.loading|=4,t.instance=d,ft(d),d;r=Ag(l),(c=sn.get(c))&&rd(r,c),d=(e.ownerDocument||e).createElement("link"),ft(d);var m=d;return m._p=new Promise(function(x,S){m.onload=x,m.onerror=S}),_t(d,"link",r),t.state.loading|=4,eo(d,l.precedence,e),t.instance=d;case"script":return d=qi(l.src),(c=e.querySelector(na(d)))?(t.instance=c,ft(c),c):(r=l,(c=sn.get(d))&&(r=v({},l),od(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),ft(c),_t(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,eo(r,l.precedence,e));return t.instance}function eo(e,t,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,d=c,m=0;m<r.length;m++){var x=r[m];if(x.dataset.precedence===t)d=x;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function rd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function od(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var to=null;function Dg(e,t,l){if(to===null){var r=new Map,c=to=new Map;c.set(l,r)}else c=to,r=c.get(l),r||(r=new Map,c.set(l,r));if(r.has(e))return r;for(r.set(e,null),l=l.getElementsByTagName(e),c=0;c<l.length;c++){var d=l[c];if(!(d[vs]||d[gt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var x=r.get(m);x?x.push(d):r.set(m,[d])}}return r}function Mg(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function rb(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Og(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ob(e,t,l,r){if(l.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var c=Vi(r.href),d=t.querySelector(ta(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=no.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=d,ft(d);return}d=t.ownerDocument||t,r=Ag(r),(c=sn.get(c))&&rd(r,c),d=d.createElement("link"),ft(d);var m=d;m._p=new Promise(function(x,S){m.onload=x,m.onerror=S}),_t(d,"link",r),l.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=no.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var cd=0;function cb(e,t){return e.stylesheets&&e.count===0&&io(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var r=setTimeout(function(){if(e.stylesheets&&io(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&cd===0&&(cd=62500*V_());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&io(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>cd?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function no(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)io(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lo=null;function io(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lo=new Map,t.forEach(ub,e),lo=null,no.call(e))}function ub(e,t){if(!(t.state.loading&4)){var l=lo.get(e);if(l)var r=l.get(null);else{l=new Map,lo.set(e,l);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var m=c[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(l.set(m.dataset.precedence,m),r=m)}r&&l.set(null,r)}c=t.instance,m=c.getAttribute("data-precedence"),d=l.get(m)||r,d===r&&l.set(null,c),l.set(m,c),this.count++,r=no.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var la={$$typeof:B,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function db(e,t,l,r,c,d,m,x,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.hiddenUpdates=ic(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function kg(e,t,l,r,c,d,m,x,S,R,L,H){return e=new db(e,t,l,m,S,R,L,H,x),t=1,d===!0&&(t|=24),d=Vt(3,null,null,t),e.current=d,d.stateNode=e,t=Yc(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:r,isDehydrated:l,cache:t},Xc(d),e}function zg(e){return e?(e=bi,e):bi}function Lg(e,t,l,r,c,d){c=zg(c),r.context===null?r.context=c:r.pendingContext=c,r=il(t),r.payload={element:l},d=d===void 0?null:d,d!==null&&(r.callback=d),l=sl(e,r,t),l!==null&&(Ut(l,e,t),zs(l,e,t))}function Ug(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function ud(e,t){Ug(e,t),(e=e.alternate)&&Ug(e,t)}function Ig(e){if(e.tag===13||e.tag===31){var t=Ll(e,67108864);t!==null&&Ut(t,e,67108864),ud(e,67108864)}}function Hg(e){if(e.tag===13||e.tag===31){var t=Kt();t=sc(t);var l=Ll(e,t);l!==null&&Ut(l,e,t),ud(e,t)}}var so=!0;function fb(e,t,l,r){var c=k.T;k.T=null;var d=X.p;try{X.p=2,dd(e,t,l,r)}finally{X.p=d,k.T=c}}function hb(e,t,l,r){var c=k.T;k.T=null;var d=X.p;try{X.p=8,dd(e,t,l,r)}finally{X.p=d,k.T=c}}function dd(e,t,l,r){if(so){var c=fd(r);if(c===null)Pu(e,t,r,ao,l),Gg(e,r);else if(pb(c,e,t,l,r))r.stopPropagation();else if(Gg(e,r),t&4&&-1<mb.indexOf(e)){for(;c!==null;){var d=ui(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=Dl(d.pendingLanes);if(m!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;m;){var S=1<<31-Gt(m);x.entanglements[1]|=S,m&=~S}_n(d),(De&6)===0&&(Yr=te()+500,Ps(0))}}break;case 31:case 13:x=Ll(d,2),x!==null&&Ut(x,d,2),qr(),ud(d,2)}if(d=fd(r),d===null&&Pu(e,t,r,ao,l),d===c)break;c=d}c!==null&&r.stopPropagation()}else Pu(e,t,r,null,l)}}function fd(e){return e=mc(e),hd(e)}var ao=null;function hd(e){if(ao=null,e=ci(e),e!==null){var t=u(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=h(t),e!==null)return e;e=null}else if(l===31){if(e=g(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ao=e,null}function Bg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case P:return 2;case ve:return 8;case Pe:case nc:return 32;case ms:return 268435456;default:return 32}default:return 32}}var md=!1,gl=null,yl=null,vl=null,ia=new Map,sa=new Map,xl=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gg(e,t){switch(e){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":ia.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(t.pointerId)}}function aa(e,t,l,r,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:l,eventSystemFlags:r,nativeEvent:d,targetContainers:[c]},t!==null&&(t=ui(t),t!==null&&Ig(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function pb(e,t,l,r,c){switch(t){case"focusin":return gl=aa(gl,e,t,l,r,c),!0;case"dragenter":return yl=aa(yl,e,t,l,r,c),!0;case"mouseover":return vl=aa(vl,e,t,l,r,c),!0;case"pointerover":var d=c.pointerId;return ia.set(d,aa(ia.get(d)||null,e,t,l,r,c)),!0;case"gotpointercapture":return d=c.pointerId,sa.set(d,aa(sa.get(d)||null,e,t,l,r,c)),!0}return!1}function Yg(e){var t=ci(e.target);if(t!==null){var l=u(t);if(l!==null){if(t=l.tag,t===13){if(t=h(l),t!==null){e.blockedOn=t,nh(e.priority,function(){Hg(l)});return}}else if(t===31){if(t=g(l),t!==null){e.blockedOn=t,nh(e.priority,function(){Hg(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ro(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=fd(e.nativeEvent);if(l===null){l=e.nativeEvent;var r=new l.constructor(l.type,l);hc=r,l.target.dispatchEvent(r),hc=null}else return t=ui(l),t!==null&&Ig(t),e.blockedOn=l,!1;t.shift()}return!0}function Vg(e,t,l){ro(e)&&l.delete(t)}function gb(){md=!1,gl!==null&&ro(gl)&&(gl=null),yl!==null&&ro(yl)&&(yl=null),vl!==null&&ro(vl)&&(vl=null),ia.forEach(Vg),sa.forEach(Vg)}function oo(e,t){e.blockedOn===t&&(e.blockedOn=null,md||(md=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,gb)))}var co=null;function qg(e){co!==e&&(co=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){co===e&&(co=null);for(var t=0;t<e.length;t+=3){var l=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(hd(r||l)===null)continue;break}var d=ui(l);d!==null&&(e.splice(t,3),t-=3,fu(d,{pending:!0,data:c,method:l.method,action:r},r,c))}}))}function Qi(e){function t(S){return oo(S,e)}gl!==null&&oo(gl,e),yl!==null&&oo(yl,e),vl!==null&&oo(vl,e),ia.forEach(t),sa.forEach(t);for(var l=0;l<xl.length;l++){var r=xl[l];r.blockedOn===e&&(r.blockedOn=null)}for(;0<xl.length&&(l=xl[0],l.blockedOn===null);)Yg(l),l.blockedOn===null&&xl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var c=l[r],d=l[r+1],m=c[Dt]||null;if(typeof d=="function")m||qg(l);else if(m){var x=null;if(d&&d.hasAttribute("formAction")){if(c=d,m=d[Dt]||null)x=m.formAction;else if(hd(c)!==null)continue}else x=m.action;typeof x=="function"?l[r+1]=x:(l.splice(r,3),r-=3),qg(l)}}}function Qg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return c=m})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(l,20)}function l(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function pd(e){this._internalRoot=e}uo.prototype.render=pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var l=t.current,r=Kt();Lg(l,r,e,t,null,null)},uo.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lg(e.current,2,null,e,null,null),qr(),t[oi]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=th();e={blockedOn:null,target:e,priority:t};for(var l=0;l<xl.length&&t!==0&&t<xl[l].priority;l++);xl.splice(l,0,e),l===0&&Yg(e)}};var Xg=n.version;if(Xg!=="19.2.3")throw Error(a(527,Xg,"19.2.3"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var yb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{ps=fo.inject(yb),Bt=fo}catch{}}return oa.createRoot=function(e,t){if(!o(e))throw Error(a(299));var l=!1,r="",c=$m,d=ep,m=tp;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=kg(e,1,!1,null,null,l,r,null,c,d,m,Qg),e[oi]=t.current,Wu(e),new pd(t)},oa.hydrateRoot=function(e,t,l){if(!o(e))throw Error(a(299));var r=!1,c="",d=$m,m=ep,x=tp,S=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(d=l.onUncaughtError),l.onCaughtError!==void 0&&(m=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(S=l.formState)),t=kg(e,1,!0,t,l??null,r,c,S,d,m,x,Qg),t.context=zg(null),l=t.current,r=Kt(),r=sc(r),c=il(r),c.callback=null,sl(l,c,r),l=r,t.current.lanes=l,ys(t,l),_n(t),e[oi]=t.current,Wu(e),new uo(t)},oa.version="19.2.3",oa}var n0;function wb(){if(n0)return vd.exports;n0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),vd.exports=Cb(),vd.exports}var Tb=wb();const jb=sy(Tb);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l0="popstate";function Ab(i={}){function n(o,u){let{pathname:h="/",search:g="",hash:y=""}=ni(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Ld("",{pathname:h,search:g,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(o,u){let h=o.document.querySelector("base"),g="";if(h&&h.getAttribute("href")){let y=o.location.href,p=y.indexOf("#");g=p===-1?y:y.slice(0,p)}return g+"#"+(typeof u=="string"?u:Sa(u))}function a(o,u){gn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Db(n,s,a,i)}function We(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function gn(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Rb(){return Math.random().toString(36).substring(2,10)}function i0(i,n){return{usr:i.state,key:i.key,idx:n}}function Ld(i,n,s=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?ni(n):n,state:s,key:n&&n.key||a||Rb()}}function Sa({pathname:i="/",search:n="",hash:s=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function ni(i){let n={};if(i){let s=i.indexOf("#");s>=0&&(n.hash=i.substring(s),i=i.substring(0,s));let a=i.indexOf("?");a>=0&&(n.search=i.substring(a),i=i.substring(0,a)),i&&(n.pathname=i)}return n}function Db(i,n,s,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,g="POP",y=null,p=_();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function _(){return(h.state||{idx:null}).idx}function v(){g="POP";let G=_(),Y=G==null?null:G-p;p=G,y&&y({action:g,location:D.location,delta:Y})}function b(G,Y){g="PUSH";let Q=Ld(D.location,G,Y);s&&s(Q,G),p=_()+1;let B=i0(Q,p),le=D.createHref(Q);try{h.pushState(B,"",le)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(le)}u&&y&&y({action:g,location:D.location,delta:1})}function w(G,Y){g="REPLACE";let Q=Ld(D.location,G,Y);s&&s(Q,G),p=_();let B=i0(Q,p),le=D.createHref(Q);h.replaceState(B,"",le),u&&y&&y({action:g,location:D.location,delta:0})}function j(G){return Mb(G)}let D={get action(){return g},get location(){return i(o,h)},listen(G){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(l0,v),y=G,()=>{o.removeEventListener(l0,v),y=null}},createHref(G){return n(o,G)},createURL:j,encodeLocation(G){let Y=j(G);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:b,replace:w,go(G){return h.go(G)}};return D}function Mb(i,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),We(s,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:Sa(i);return a=a.replace(/ $/,"%20"),!n&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function oy(i,n,s="/"){return Ob(i,n,s,!1)}function Ob(i,n,s,a){let o=typeof n=="string"?ni(n):n,u=Qn(o.pathname||"/",s);if(u==null)return null;let h=cy(i);kb(h);let g=null;for(let y=0;g==null&&y<h.length;++y){let p=Qb(u);g=Vb(h[y],p,a)}return g}function cy(i,n=[],s=[],a="",o=!1){let u=(h,g,y=o,p)=>{let _={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(a)&&y)return;We(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length)}let v=Vn([a,_.relativePath]),b=s.concat(_);h.children&&h.children.length>0&&(We(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),cy(h.children,n,b,v,y)),!(h.path==null&&!h.index)&&n.push({path:v,score:Gb(v,h.index),routesMeta:b})};return i.forEach((h,g)=>{var y;if(h.path===""||!((y=h.path)!=null&&y.includes("?")))u(h,g);else for(let p of uy(h.path))u(h,g,!0,p)}),n}function uy(i){let n=i.split("/");if(n.length===0)return[];let[s,...a]=n,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=uy(a.join("/")),g=[];return g.push(...h.map(y=>y===""?u:[u,y].join("/"))),o&&g.push(...h),g.map(y=>i.startsWith("/")&&y===""?"/":y)}function kb(i){i.sort((n,s)=>n.score!==s.score?s.score-n.score:Yb(n.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var zb=/^:[\w-]+$/,Lb=3,Ub=2,Ib=1,Hb=10,Bb=-2,s0=i=>i==="*";function Gb(i,n){let s=i.split("/"),a=s.length;return s.some(s0)&&(a+=Bb),n&&(a+=Ub),s.filter(o=>!s0(o)).reduce((o,u)=>o+(zb.test(u)?Lb:u===""?Ib:Hb),a)}function Yb(i,n){return i.length===n.length&&i.slice(0,-1).every((a,o)=>a===n[o])?i[i.length-1]-n[n.length-1]:0}function Vb(i,n,s=!1){let{routesMeta:a}=i,o={},u="/",h=[];for(let g=0;g<a.length;++g){let y=a[g],p=g===a.length-1,_=u==="/"?n:n.slice(u.length)||"/",v=_o({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},_),b=y.route;if(!v&&p&&s&&!a[a.length-1].route.index&&(v=_o({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},_)),!v)return null;Object.assign(o,v.params),h.push({params:o,pathname:Vn([u,v.pathname]),pathnameBase:Zb(Vn([u,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(u=Vn([u,v.pathnameBase]))}return h}function _o(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,a]=qb(i.path,i.caseSensitive,i.end),o=n.match(s);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:a.reduce((p,{paramName:_,isOptional:v},b)=>{if(_==="*"){let j=g[b]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const w=g[b];return v&&!w?p[_]=void 0:p[_]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:i}}function qb(i,n=!1,s=!0){gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,y)=>(a.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),a]}function Qb(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return gn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function Qn(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,a=i.charAt(s);return a&&a!=="/"?null:i.slice(s)||"/"}var Xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Fb(i,n="/"){let{pathname:s,search:a="",hash:o=""}=typeof i=="string"?ni(i):i,u;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?u=a0(s.substring(1),"/"):u=a0(s,n)):u=n,{pathname:u,search:Wb(a),hash:Pb(o)}}function a0(i,n){let s=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Sd(i,n,s,a){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kb(i){return i.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function dy(i){let n=Kb(i);return n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase)}function fy(i,n,s,a=!1){let o;typeof i=="string"?o=ni(i):(o={...i},We(!o.pathname||!o.pathname.includes("?"),Sd("?","pathname","search",o)),We(!o.pathname||!o.pathname.includes("#"),Sd("#","pathname","hash",o)),We(!o.search||!o.search.includes("#"),Sd("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,g;if(h==null)g=s;else{let v=n.length-1;if(!a&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}g=v>=0?n[v]:"/"}let y=Fb(o,g),p=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&s.endsWith("/");return!y.pathname.endsWith("/")&&(p||_)&&(y.pathname+="/"),y}var Vn=i=>i.join("/").replace(/\/\/+/g,"/"),Zb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Wb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Pb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Jb=class{constructor(i,n,s,a=!1){this.status=i,this.statusText=n||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function $b(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function e1(i){return i.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function my(i,n){let s=i;if(typeof s!="string"||!Xb.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let a=s,o=!1;if(hy)try{let u=new URL(window.location.href),h=s.startsWith("//")?new URL(u.protocol+s):new URL(s),g=Qn(h.pathname,n);h.origin===u.origin&&g!=null?s=g+h.search+h.hash:o=!0}catch{gn(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var py=["POST","PUT","PATCH","DELETE"];new Set(py);var t1=["GET",...py];new Set(t1);var is=E.createContext(null);is.displayName="DataRouter";var Ho=E.createContext(null);Ho.displayName="DataRouterState";var n1=E.createContext(!1),gy=E.createContext({isTransitioning:!1});gy.displayName="ViewTransition";var l1=E.createContext(new Map);l1.displayName="Fetchers";var i1=E.createContext(null);i1.displayName="Await";var cn=E.createContext(null);cn.displayName="Navigation";var ka=E.createContext(null);ka.displayName="Location";var bn=E.createContext({outlet:null,matches:[],isDataRoute:!1});bn.displayName="Route";var rf=E.createContext(null);rf.displayName="RouteError";var yy="REACT_ROUTER_ERROR",s1="REDIRECT",a1="ROUTE_ERROR_RESPONSE";function r1(i){if(i.startsWith(`${yy}:${s1}:{`))try{let n=JSON.parse(i.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function o1(i){if(i.startsWith(`${yy}:${a1}:{`))try{let n=JSON.parse(i.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new Jb(n.status,n.statusText,n.data)}catch{}}function c1(i,{relative:n}={}){We(za(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=E.useContext(cn),{hash:o,pathname:u,search:h}=La(i,{relative:n}),g=u;return s!=="/"&&(g=u==="/"?s:Vn([s,u])),a.createHref({pathname:g,search:h,hash:o})}function za(){return E.useContext(ka)!=null}function li(){return We(za(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(ka).location}var vy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xy(i){E.useContext(cn).static||E.useLayoutEffect(i)}function Kn(){let{isDataRoute:i}=E.useContext(bn);return i?S1():u1()}function u1(){We(za(),"useNavigate() may be used only in the context of a <Router> component.");let i=E.useContext(is),{basename:n,navigator:s}=E.useContext(cn),{matches:a}=E.useContext(bn),{pathname:o}=li(),u=JSON.stringify(dy(a)),h=E.useRef(!1);return xy(()=>{h.current=!0}),E.useCallback((y,p={})=>{if(gn(h.current,vy),!h.current)return;if(typeof y=="number"){s.go(y);return}let _=fy(y,JSON.parse(u),o,p.relative==="path");i==null&&n!=="/"&&(_.pathname=_.pathname==="/"?n:Vn([n,_.pathname])),(p.replace?s.replace:s.push)(_,p.state,p)},[n,s,u,o,i])}E.createContext(null);function Bo(){let{matches:i}=E.useContext(bn),n=i[i.length-1];return n?n.params:{}}function La(i,{relative:n}={}){let{matches:s}=E.useContext(bn),{pathname:a}=li(),o=JSON.stringify(dy(s));return E.useMemo(()=>fy(i,JSON.parse(o),a,n==="path"),[i,o,a,n])}function d1(i,n){return _y(i,n)}function _y(i,n,s,a,o){var Q;We(za(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=E.useContext(cn),{matches:h}=E.useContext(bn),g=h[h.length-1],y=g?g.params:{},p=g?g.pathname:"/",_=g?g.pathnameBase:"/",v=g&&g.route;{let B=v&&v.path||"";Sy(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let b=li(),w;if(n){let B=typeof n=="string"?ni(n):n;We(_==="/"||((Q=B.pathname)==null?void 0:Q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${B.pathname}" was given in the \`location\` prop.`),w=B}else w=b;let j=w.pathname||"/",D=j;if(_!=="/"){let B=_.replace(/^\//,"").split("/");D="/"+j.replace(/^\//,"").split("/").slice(B.length).join("/")}let G=oy(i,{pathname:D});gn(v||G!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),gn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=g1(G&&G.map(B=>Object.assign({},B,{params:Object.assign({},y,B.params),pathname:Vn([_,u.encodeLocation?u.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?_:Vn([_,u.encodeLocation?u.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),h,s,a,o);return n&&Y?E.createElement(ka.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},Y):Y}function f1(){let i=b1(),n=$b(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:u},"ErrorBoundary")," or"," ",E.createElement("code",{style:u},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},n),s?E.createElement("pre",{style:o},s):null,h)}var h1=E.createElement(f1,null),by=class extends E.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){this.props.onError?this.props.onError(i,n):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const s=o1(i.digest);s&&(i=s)}let n=i!==void 0?E.createElement(bn.Provider,{value:this.props.routeContext},E.createElement(rf.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?E.createElement(m1,{error:i},n):n}};by.contextType=n1;var Ed=new WeakMap;function m1({children:i,error:n}){let{basename:s}=E.useContext(cn);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let a=r1(n.digest);if(a){let o=Ed.get(n);if(o)throw o;let u=my(a.location,s);if(hy&&!Ed.get(n))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw Ed.set(n,h),h}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function p1({routeContext:i,match:n,children:s}){let a=E.useContext(is);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(bn.Provider,{value:i},s)}function g1(i,n=[],s=null,a=null,o=null){if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let u=i,h=s==null?void 0:s.errors;if(h!=null){let _=u.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);We(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let g=!1,y=-1;if(s)for(let _=0;_<u.length;_++){let v=u[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=_),v.route.id){let{loaderData:b,errors:w}=s,j=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||j){g=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let p=s&&a?(_,v)=>{var b,w;a(_,{location:s.location,params:((w=(b=s.matches)==null?void 0:b[0])==null?void 0:w.params)??{},unstable_pattern:e1(s.matches),errorInfo:v})}:void 0;return u.reduceRight((_,v,b)=>{let w,j=!1,D=null,G=null;s&&(w=h&&v.route.id?h[v.route.id]:void 0,D=v.route.errorElement||h1,g&&(y<0&&b===0?(Sy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,G=null):y===b&&(j=!0,G=v.route.hydrateFallbackElement||null)));let Y=n.concat(u.slice(0,b+1)),Q=()=>{let B;return w?B=D:j?B=G:v.route.Component?B=E.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=_,E.createElement(p1,{match:v,routeContext:{outlet:_,matches:Y,isDataRoute:s!=null},children:B})};return s&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?E.createElement(by,{location:s.location,revalidation:s.revalidation,component:D,error:w,children:Q(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:p}):Q()},null)}function of(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y1(i){let n=E.useContext(is);return We(n,of(i)),n}function v1(i){let n=E.useContext(Ho);return We(n,of(i)),n}function x1(i){let n=E.useContext(bn);return We(n,of(i)),n}function cf(i){let n=x1(i),s=n.matches[n.matches.length-1];return We(s.route.id,`${i} can only be used on routes that contain a unique "id"`),s.route.id}function _1(){return cf("useRouteId")}function b1(){var a;let i=E.useContext(rf),n=v1("useRouteError"),s=cf("useRouteError");return i!==void 0?i:(a=n.errors)==null?void 0:a[s]}function S1(){let{router:i}=y1("useNavigate"),n=cf("useNavigate"),s=E.useRef(!1);return xy(()=>{s.current=!0}),E.useCallback(async(o,u={})=>{gn(s.current,vy),s.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:n,...u}))},[i,n])}var r0={};function Sy(i,n,s){!n&&!r0[i]&&(r0[i]=!0,gn(!1,s))}E.memo(E1);function E1({routes:i,future:n,state:s,onError:a}){return _y(i,void 0,s,a,n)}function It(i){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N1({basename:i="/",children:n=null,location:s,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){We(!za(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=i.replace(/^\/*/,"/"),y=E.useMemo(()=>({basename:g,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[g,o,u,h]);typeof s=="string"&&(s=ni(s));let{pathname:p="/",search:_="",hash:v="",state:b=null,key:w="default"}=s,j=E.useMemo(()=>{let D=Qn(p,g);return D==null?null:{location:{pathname:D,search:_,hash:v,state:b,key:w},navigationType:a}},[g,p,_,v,b,w,a]);return gn(j!=null,`<Router basename="${g}"> is not able to match the URL "${p}${_}${v}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:E.createElement(cn.Provider,{value:y},E.createElement(ka.Provider,{children:n,value:j}))}function C1({children:i,location:n}){return d1(Ud(i),n)}function Ud(i,n=[]){let s=[];return E.Children.forEach(i,(a,o)=>{if(!E.isValidElement(a))return;let u=[...n,o];if(a.type===E.Fragment){s.push.apply(s,Ud(a.props.children,u));return}We(a.type===It,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Ud(a.props.children,u)),s.push(h)}),s}var yo="get",vo="application/x-www-form-urlencoded";function Go(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function w1(i){return Go(i)&&i.tagName.toLowerCase()==="button"}function T1(i){return Go(i)&&i.tagName.toLowerCase()==="form"}function j1(i){return Go(i)&&i.tagName.toLowerCase()==="input"}function A1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function R1(i,n){return i.button===0&&(!n||n==="_self")&&!A1(i)}var ho=null;function D1(){if(ho===null)try{new FormData(document.createElement("form"),0),ho=!1}catch{ho=!0}return ho}var M1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nd(i){return i!=null&&!M1.has(i)?(gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vo}"`),null):i}function O1(i,n){let s,a,o,u,h;if(T1(i)){let g=i.getAttribute("action");a=g?Qn(g,n):null,s=i.getAttribute("method")||yo,o=Nd(i.getAttribute("enctype"))||vo,u=new FormData(i)}else if(w1(i)||j1(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||g.getAttribute("action");if(a=y?Qn(y,n):null,s=i.getAttribute("formmethod")||g.getAttribute("method")||yo,o=Nd(i.getAttribute("formenctype"))||Nd(g.getAttribute("enctype"))||vo,u=new FormData(g,i),!D1()){let{name:p,type:_,value:v}=i;if(_==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,v)}}else{if(Go(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=yo,a=null,o=vo,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:s.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uf(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function k1(i,n,s,a){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:n&&Qn(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function z1(i,n){if(i.id in n)return n[i.id];try{let s=await import(i.module);return n[i.id]=s,s}catch(s){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function U1(i,n,s){let a=await Promise.all(i.map(async o=>{let u=n.routes[o.route.id];if(u){let h=await z1(u,s);return h.links?h.links():[]}return[]}));return G1(a.flat(1).filter(L1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function o0(i,n,s,a,o,u){let h=(y,p)=>s[p]?y.route.id!==s[p].route.id:!0,g=(y,p)=>{var _;return s[p].pathname!==y.pathname||((_=s[p].route.path)==null?void 0:_.endsWith("*"))&&s[p].params["*"]!==y.params["*"]};return u==="assets"?n.filter((y,p)=>h(y,p)||g(y,p)):u==="data"?n.filter((y,p)=>{var v;let _=a.routes[y.route.id];if(!_||!_.hasLoader)return!1;if(h(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let b=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=s[0])==null?void 0:v.params)||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function I1(i,n,{includeHydrateFallback:s}={}){return H1(i.map(a=>{let o=n.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function H1(i){return[...new Set(i)]}function B1(i){let n={},s=Object.keys(i).sort();for(let a of s)n[a]=i[a];return n}function G1(i,n){let s=new Set;return new Set(n),i.reduce((a,o)=>{let u=JSON.stringify(B1(o));return s.has(u)||(s.add(u),a.push({key:u,link:o})),a},[])}function Ey(){let i=E.useContext(is);return uf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Y1(){let i=E.useContext(Ho);return uf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var df=E.createContext(void 0);df.displayName="FrameworkContext";function Ny(){let i=E.useContext(df);return uf(i,"You must render this element inside a <HydratedRouter> element"),i}function V1(i,n){let s=E.useContext(df),[a,o]=E.useState(!1),[u,h]=E.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:_,onTouchStart:v}=n,b=E.useRef(null);E.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let D=Y=>{Y.forEach(Q=>{h(Q.isIntersecting)})},G=new IntersectionObserver(D,{threshold:.5});return b.current&&G.observe(b.current),()=>{G.disconnect()}}},[i]),E.useEffect(()=>{if(a){let D=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(D)}}},[a]);let w=()=>{o(!0)},j=()=>{o(!1),h(!1)};return s?i!=="intent"?[u,b,{}]:[u,b,{onFocus:ca(g,w),onBlur:ca(y,j),onMouseEnter:ca(p,w),onMouseLeave:ca(_,j),onTouchStart:ca(v,w)}]:[!1,b,{}]}function ca(i,n){return s=>{i&&i(s),s.defaultPrevented||n(s)}}function q1({page:i,...n}){let{router:s}=Ey(),a=E.useMemo(()=>oy(s.routes,i,s.basename),[s.routes,i,s.basename]);return a?E.createElement(X1,{page:i,matches:a,...n}):null}function Q1(i){let{manifest:n,routeModules:s}=Ny(),[a,o]=E.useState([]);return E.useEffect(()=>{let u=!1;return U1(i,n,s).then(h=>{u||o(h)}),()=>{u=!0}},[i,n,s]),a}function X1({page:i,matches:n,...s}){let a=li(),{future:o,manifest:u,routeModules:h}=Ny(),{basename:g}=Ey(),{loaderData:y,matches:p}=Y1(),_=E.useMemo(()=>o0(i,n,p,u,a,"data"),[i,n,p,u,a]),v=E.useMemo(()=>o0(i,n,p,u,a,"assets"),[i,n,p,u,a]),b=E.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let D=new Set,G=!1;if(n.forEach(Q=>{var le;let B=u.routes[Q.route.id];!B||!B.hasLoader||(!_.some(fe=>fe.route.id===Q.route.id)&&Q.route.id in y&&((le=h[Q.route.id])!=null&&le.shouldRevalidate)||B.hasClientLoader?G=!0:D.add(Q.route.id))}),D.size===0)return[];let Y=k1(i,g,o.unstable_trailingSlashAwareDataRequests,"data");return G&&D.size>0&&Y.searchParams.set("_routes",n.filter(Q=>D.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[Y.pathname+Y.search]},[g,o.unstable_trailingSlashAwareDataRequests,y,a,u,_,n,i,h]),w=E.useMemo(()=>I1(v,u),[v,u]),j=Q1(v);return E.createElement(E.Fragment,null,b.map(D=>E.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...s})),w.map(D=>E.createElement("link",{key:D,rel:"modulepreload",href:D,...s})),j.map(({key:D,link:G})=>E.createElement("link",{key:D,nonce:s.nonce,...G,crossOrigin:G.crossOrigin??s.crossOrigin})))}function F1(...i){return n=>{i.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var K1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K1&&(window.__reactRouterVersion="7.13.0")}catch{}function Z1({basename:i,children:n,unstable_useTransitions:s,window:a}){let o=E.useRef();o.current==null&&(o.current=Ab({window:a,v5Compat:!0}));let u=o.current,[h,g]=E.useState({action:u.action,location:u.location}),y=E.useCallback(p=>{s===!1?g(p):E.startTransition(()=>g(p))},[s]);return E.useLayoutEffect(()=>u.listen(y),[u,y]),E.createElement(N1,{basename:i,children:n,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:s})}var Cy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=E.forwardRef(function({onClick:n,discover:s="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:g,target:y,to:p,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:b,...w},j){let{basename:D,unstable_useTransitions:G}=E.useContext(cn),Y=typeof p=="string"&&Cy.test(p),Q=my(p,D);p=Q.to;let B=c1(p,{relative:o}),[le,fe,K]=V1(a,w),z=$1(p,{replace:h,state:g,target:y,preventScrollReset:_,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:G});function ce(ye){n&&n(ye),ye.defaultPrevented||z(ye)}let ae=E.createElement("a",{...w,...K,href:Q.absoluteURL||B,onClick:Q.isExternal||u?n:ce,ref:F1(j,fe),target:y,"data-discover":!Y&&s==="render"?"true":void 0});return le&&!Y?E.createElement(E.Fragment,null,ae,E.createElement(q1,{page:B})):ae});et.displayName="Link";var W1=E.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:g,children:y,...p},_){let v=La(h,{relative:p.relative}),b=li(),w=E.useContext(Ho),{navigator:j,basename:D}=E.useContext(cn),G=w!=null&&i2(v)&&g===!0,Y=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,Q=b.pathname,B=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(Q=Q.toLowerCase(),B=B?B.toLowerCase():null,Y=Y.toLowerCase()),B&&D&&(B=Qn(B,D)||B);const le=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let fe=Q===Y||!o&&Q.startsWith(Y)&&Q.charAt(le)==="/",K=B!=null&&(B===Y||!o&&B.startsWith(Y)&&B.charAt(Y.length)==="/"),z={isActive:fe,isPending:K,isTransitioning:G},ce=fe?n:void 0,ae;typeof a=="function"?ae=a(z):ae=[a,fe?"active":null,K?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let ye=typeof u=="function"?u(z):u;return E.createElement(et,{...p,"aria-current":ce,className:ae,ref:_,style:ye,to:h,viewTransition:g},typeof y=="function"?y(z):y)});W1.displayName="NavLink";var P1=E.forwardRef(({discover:i="render",fetcherKey:n,navigate:s,reloadDocument:a,replace:o,state:u,method:h=yo,action:g,onSubmit:y,relative:p,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:b,...w},j)=>{let{unstable_useTransitions:D}=E.useContext(cn),G=n2(),Y=l2(g,{relative:p}),Q=h.toLowerCase()==="get"?"get":"post",B=typeof g=="string"&&Cy.test(g),le=fe=>{if(y&&y(fe),fe.defaultPrevented)return;fe.preventDefault();let K=fe.nativeEvent.submitter,z=(K==null?void 0:K.getAttribute("formmethod"))||h,ce=()=>G(K||fe.currentTarget,{fetcherKey:n,method:z,navigate:s,replace:o,state:u,relative:p,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:b});D&&s!==!1?E.startTransition(()=>ce()):ce()};return E.createElement("form",{ref:j,method:Q,action:Y,onSubmit:a?y:le,...w,"data-discover":!B&&i==="render"?"true":void 0})});P1.displayName="Form";function J1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wy(i){let n=E.useContext(is);return We(n,J1(i)),n}function $1(i,{target:n,replace:s,state:a,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y}={}){let p=Kn(),_=li(),v=La(i,{relative:u});return E.useCallback(b=>{if(R1(b,n)){b.preventDefault();let w=s!==void 0?s:Sa(_)===Sa(v),j=()=>p(i,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:g});y?E.startTransition(()=>j()):j()}},[_,p,v,s,a,n,i,o,u,h,g,y])}var e2=0,t2=()=>`__${String(++e2)}__`;function n2(){let{router:i}=wy("useSubmit"),{basename:n}=E.useContext(cn),s=_1(),a=i.fetch,o=i.navigate;return E.useCallback(async(u,h={})=>{let{action:g,method:y,encType:p,formData:_,body:v}=O1(u,n);if(h.navigate===!1){let b=h.fetcherKey||t2();await a(b,s,h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:v,formMethod:h.method||y,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:v,formMethod:h.method||y,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:s,flushSync:h.flushSync,viewTransition:h.viewTransition})},[a,o,n,s])}function l2(i,{relative:n}={}){let{basename:s}=E.useContext(cn),a=E.useContext(bn);We(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...La(i||".",{relative:n})},h=li();if(i==null){u.search=h.search;let g=new URLSearchParams(u.search),y=g.getAll("index");if(y.some(_=>_==="")){g.delete("index"),y.filter(v=>v).forEach(v=>g.append("index",v));let _=g.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:Vn([s,u.pathname])),Sa(u)}function i2(i,{relative:n}={}){let s=E.useContext(gy);We(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=wy("useViewTransitionState"),o=La(i,{relative:n});if(!s.isTransitioning)return!1;let u=Qn(s.currentLocation.pathname,a)||s.currentLocation.pathname,h=Qn(s.nextLocation.pathname,a)||s.nextLocation.pathname;return _o(o.pathname,h)!=null||_o(o.pathname,u)!=null}var s2=ry();const a2=()=>{};var c0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(i,n){if(!i)throw ss(n)},ss=function(i){return new Error("Firebase Database ("+Ty.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=function(i){const n=[];let s=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128)}return n},r2=function(i){const n=[];let s=0,a=0;for(;s<i.length;){const o=i[s++];if(o<128)n[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[s++];n[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[s++],h=i[s++],g=i[s++],y=((o&7)<<18|(u&63)<<12|(h&63)<<6|g&63)-65536;n[a++]=String.fromCharCode(55296+(y>>10)),n[a++]=String.fromCharCode(56320+(y&1023))}else{const u=i[s++],h=i[s++];n[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return n.join("")},ff={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,n){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,g=h?i[o+1]:0,y=o+2<i.length,p=y?i[o+2]:0,_=u>>2,v=(u&3)<<4|g>>4;let b=(g&15)<<2|p>>6,w=p&63;y||(w=64,h||(b=64)),a.push(s[_],s[v],s[b],s[w])}return a.join("")},encodeString(i,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(i):this.encodeByteArray(jy(i),n)},decodeString(i,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(i):r2(this.decodeStringToByteArray(i,n))},decodeStringToByteArray(i,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=s[i.charAt(o++)],g=o<i.length?s[i.charAt(o)]:0;++o;const p=o<i.length?s[i.charAt(o)]:64;++o;const v=o<i.length?s[i.charAt(o)]:64;if(++o,u==null||g==null||p==null||v==null)throw new o2;const b=u<<2|g>>4;if(a.push(b),p!==64){const w=g<<4&240|p>>2;if(a.push(w),v!==64){const j=p<<6&192|v;a.push(j)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class o2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ay=function(i){const n=jy(i);return ff.encodeByteArray(n,!0)},bo=function(i){return Ay(i).replace(/\./g,"")},Id=function(i){try{return ff.decodeString(i,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(i){return Ry(void 0,i)}function Ry(i,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const s=n;return new Date(s.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return n}for(const s in n)!n.hasOwnProperty(s)||!u2(s)||(i[s]=Ry(i[s],n[s]));return i}function u2(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=()=>d2().__FIREBASE_DEFAULTS__,h2=()=>{if(typeof process>"u"||typeof c0>"u")return;const i=c0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},m2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=i&&Id(i[1]);return n&&JSON.parse(n)},Dy=()=>{try{return a2()||f2()||h2()||m2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},p2=i=>{var n,s;return(s=(n=Dy())==null?void 0:n.emulatorHosts)==null?void 0:s[i]},g2=i=>{const n=p2(i);if(!n)return;const s=n.lastIndexOf(":");if(s<=0||s+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const a=parseInt(n.substring(s+1),10);return n[0]==="["?[n.substring(1,s-1),a]:[n.substring(0,s),a]},My=()=>{var i;return(i=Dy())==null?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y2(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(i,n){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},a=n||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[bo(JSON.stringify(s)),bo(JSON.stringify(h)),""].join(".")}const ga={};function x2(){const i={prod:[],emulator:[]};for(const n of Object.keys(ga))ga[n]?i.emulator.push(n):i.prod.push(n);return i}function _2(i){let n=document.getElementById(i),s=!1;return n||(n=document.createElement("div"),n.setAttribute("id",i),s=!0),{created:s,element:n}}let u0=!1;function b2(i,n){if(typeof window>"u"||typeof document>"u"||!hf(window.location.host)||ga[i]===n||ga[i]||u0)return;ga[i]=n;function s(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=x2().prod.length>0;function h(){const b=document.getElementById(a);b&&b.remove()}function g(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function y(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{u0=!0,h()},b}function _(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=_2(a),w=s("text"),j=document.getElementById(w)||document.createElement("span"),D=s("learnmore"),G=document.getElementById(D)||document.createElement("a"),Y=s("preprendIcon"),Q=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const B=b.element;g(B),_(G,D);const le=p();y(Q,Y),B.append(Q,j,G,le),document.body.appendChild(B)}u?(j.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Oy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S2())}function E2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N2(){return Ty.NODE_ADMIN===!0}function C2(){try{return typeof indexedDB=="object"}catch{return!1}}function w2(){return new Promise((i,n)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var u;n(((u=o.error)==null?void 0:u.message)||"")}}catch(s){n(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="FirebaseError";class Ia extends Error{constructor(n,s,a){super(s),this.code=n,this.customData=a,this.name=T2,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ky.prototype.create)}}class ky{constructor(n,s,a){this.service=n,this.serviceName=s,this.errors=a}create(n,...s){const a=s[0]||{},o=`${this.service}/${n}`,u=this.errors[n],h=u?j2(u,a):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new Ia(o,g,a)}}function j2(i,n){return i.replace(A2,(s,a)=>{const o=n[a];return o!=null?String(o):`<${a}?>`})}const A2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(i){return JSON.parse(i)}function dt(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=function(i){let n={},s={},a={},o="";try{const u=i.split(".");n=Ea(Id(u[0])||""),s=Ea(Id(u[1])||""),o=u[2],a=s.d||{},delete s.d}catch{}return{header:n,claims:s,data:a,signature:o}},R2=function(i){const n=zy(i),s=n.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},D2=function(i){const n=zy(i).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(i,n){return Object.prototype.hasOwnProperty.call(i,n)}function Ji(i,n){if(Object.prototype.hasOwnProperty.call(i,n))return i[n]}function d0(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}function So(i,n,s){const a={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=n.call(s,i[o],o,i));return a}function Eo(i,n){if(i===n)return!0;const s=Object.keys(i),a=Object.keys(n);for(const o of s){if(!a.includes(o))return!1;const u=i[o],h=n[o];if(f0(u)&&f0(h)){if(!Eo(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!s.includes(o))return!1;return!0}function f0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(i){const n=[];for(const[s,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{n.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(s)+"="+encodeURIComponent(a));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,s){s||(s=0);const a=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)a[v]=n.charCodeAt(s)<<24|n.charCodeAt(s+1)<<16|n.charCodeAt(s+2)<<8|n.charCodeAt(s+3),s+=4;else for(let v=0;v<16;v++)a[v]=n[s]<<24|n[s+1]<<16|n[s+2]<<8|n[s+3],s+=4;for(let v=16;v<80;v++){const b=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],h=this.chain_[2],g=this.chain_[3],y=this.chain_[4],p,_;for(let v=0;v<80;v++){v<40?v<20?(p=g^u&(h^g),_=1518500249):(p=u^h^g,_=1859775393):v<60?(p=u&h|g&(u|h),_=2400959708):(p=u^h^g,_=3395469782);const b=(o<<5|o>>>27)+p+y+_+a[v]&4294967295;y=g,g=h,h=(u<<30|u>>>2)&4294967295,u=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+y&4294967295}update(n,s){if(n==null)return;s===void 0&&(s=n.length);const a=s-this.blockSize;let o=0;const u=this.buf_;let h=this.inbuf_;for(;o<s;){if(h===0)for(;o<=a;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<s;)if(u[h]=n.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}else for(;o<s;)if(u[h]=n[o],++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=s}digest(){const n=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=s&255,s/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)n[a]=this.chain_[o]>>u&255,++a;return n}}function Yo(i,n){return`${i} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=function(i){const n=[];let s=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);if(o>=55296&&o<=56319){const u=o-55296;a++,q(a<i.length,"Surrogate pair missing trail surrogate.");const h=i.charCodeAt(a)-56320;o=65536+(u<<10)+h}o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):o<65536?(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128)}return n},Vo=function(i){let n=0;for(let s=0;s<i.length;s++){const a=i.charCodeAt(s);a<128?n++:a<2048?n+=2:a>=55296&&a<=56319?(n+=4,s++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(i){return i&&i._delegate?i._delegate:i}class Na{constructor(n,s,a){this.name=n,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const a=new Ua;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){const s=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),a=(n==null?void 0:n.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(U2(n))try{this.getOrInitializeService({instanceIdentifier:Zl})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(n=Zl){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Zl){return this.instances.has(n)}getOptions(n=Zl){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,a=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[u,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&h.resolve(o)}return o}onInit(n,s){const a=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(a)??new Set;o.add(n),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&n(u,a),()=>{o.delete(n)}}invokeOnInitCallbacks(n,s){const a=this.onInitCallbacks.get(s);if(a)for(const o of a)try{o(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:L2(n),options:s}),this.instances.set(n,a),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch{}return a||null}normalizeInstanceIdentifier(n=Zl){return this.component?this.component.multipleInstances?n:Zl:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L2(i){return i===Zl?void 0:i}function U2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new z2(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(qe||(qe={}));const H2={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},B2=qe.INFO,G2={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Y2=(i,n,...s)=>{if(n<i.logLevel)return;const a=new Date().toISOString(),o=G2[n];if(o)console[o](`[${a}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Ly{constructor(n){this.name=n,this._logLevel=B2,this._logHandler=Y2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in qe))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?H2[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...n),this._logHandler(this,qe.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...n),this._logHandler(this,qe.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...n),this._logHandler(this,qe.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...n),this._logHandler(this,qe.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...n),this._logHandler(this,qe.ERROR,...n)}}const V2=(i,n)=>n.some(s=>i instanceof s);let h0,m0;function q2(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q2(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uy=new WeakMap,Hd=new WeakMap,Iy=new WeakMap,Cd=new WeakMap,mf=new WeakMap;function X2(i){const n=new Promise((s,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{s(Sl(i.result)),o()},h=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return n.then(s=>{s instanceof IDBCursor&&Uy.set(s,i)}).catch(()=>{}),mf.set(n,i),n}function F2(i){if(Hd.has(i))return;const n=new Promise((s,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{s(),o()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Hd.set(i,n)}let Bd={get(i,n,s){if(i instanceof IDBTransaction){if(n==="done")return Hd.get(i);if(n==="objectStoreNames")return i.objectStoreNames||Iy.get(i);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Sl(i[n])},set(i,n,s){return i[n]=s,!0},has(i,n){return i instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in i}};function K2(i){Bd=i(Bd)}function Z2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const a=i.call(wd(this),n,...s);return Iy.set(a,n.sort?n.sort():[n]),Sl(a)}:Q2().includes(i)?function(...n){return i.apply(wd(this),n),Sl(Uy.get(this))}:function(...n){return Sl(i.apply(wd(this),n))}}function W2(i){return typeof i=="function"?Z2(i):(i instanceof IDBTransaction&&F2(i),V2(i,q2())?new Proxy(i,Bd):i)}function Sl(i){if(i instanceof IDBRequest)return X2(i);if(Cd.has(i))return Cd.get(i);const n=W2(i);return n!==i&&(Cd.set(i,n),mf.set(n,i)),n}const wd=i=>mf.get(i);function P2(i,n,{blocked:s,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(i,n),g=Sl(h);return a&&h.addEventListener("upgradeneeded",y=>{a(Sl(h.result),y.oldVersion,y.newVersion,Sl(h.transaction),y)}),s&&h.addEventListener("blocked",y=>s(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const J2=["get","getKey","getAll","getAllKeys","count"],$2=["put","add","delete","clear"],Td=new Map;function p0(i,n){if(!(i instanceof IDBDatabase&&!(n in i)&&typeof n=="string"))return;if(Td.get(n))return Td.get(n);const s=n.replace(/FromIndex$/,""),a=n!==s,o=$2.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(o||J2.includes(s)))return;const u=async function(h,...g){const y=this.transaction(h,o?"readwrite":"readonly");let p=y.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[s](...g),o&&y.done]))[0]};return Td.set(n,u),u}K2(i=>({...i,get:(n,s,a)=>p0(n,s)||i.get(n,s,a),has:(n,s)=>!!p0(n,s)||i.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(tS(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function tS(i){const n=i.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Gd="@firebase/app",g0="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new Ly("@firebase/app"),nS="@firebase/app-compat",lS="@firebase/analytics-compat",iS="@firebase/analytics",sS="@firebase/app-check-compat",aS="@firebase/app-check",rS="@firebase/auth",oS="@firebase/auth-compat",cS="@firebase/database",uS="@firebase/data-connect",dS="@firebase/database-compat",fS="@firebase/functions",hS="@firebase/functions-compat",mS="@firebase/installations",pS="@firebase/installations-compat",gS="@firebase/messaging",yS="@firebase/messaging-compat",vS="@firebase/performance",xS="@firebase/performance-compat",_S="@firebase/remote-config",bS="@firebase/remote-config-compat",SS="@firebase/storage",ES="@firebase/storage-compat",NS="@firebase/firestore",CS="@firebase/ai",wS="@firebase/firestore-compat",TS="firebase",jS="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="[DEFAULT]",AS={[Gd]:"fire-core",[nS]:"fire-core-compat",[iS]:"fire-analytics",[lS]:"fire-analytics-compat",[aS]:"fire-app-check",[sS]:"fire-app-check-compat",[rS]:"fire-auth",[oS]:"fire-auth-compat",[cS]:"fire-rtdb",[uS]:"fire-data-connect",[dS]:"fire-rtdb-compat",[fS]:"fire-fn",[hS]:"fire-fn-compat",[mS]:"fire-iid",[pS]:"fire-iid-compat",[gS]:"fire-fcm",[yS]:"fire-fcm-compat",[vS]:"fire-perf",[xS]:"fire-perf-compat",[_S]:"fire-rc",[bS]:"fire-rc-compat",[SS]:"fire-gcs",[ES]:"fire-gcs-compat",[NS]:"fire-fst",[wS]:"fire-fst-compat",[CS]:"fire-vertex","fire-js":"fire-js",[TS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Map,RS=new Map,Vd=new Map;function y0(i,n){try{i.container.addComponent(n)}catch(s){Xn.debug(`Component ${n.name} failed to register with FirebaseApp ${i.name}`,s)}}function Co(i){const n=i.name;if(Vd.has(n))return Xn.debug(`There were multiple attempts to register component ${n}.`),!1;Vd.set(n,i);for(const s of No.values())y0(s,i);for(const s of RS.values())y0(s,i);return!0}function DS(i,n){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(n)}function MS(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},El=new ky("app","Firebase",OS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(n,s,a){this._isDeleted=!1,this._options={...n},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw El.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=jS;function Hy(i,n={}){let s=i;typeof n!="object"&&(n={name:n});const a={name:Yd,automaticDataCollectionEnabled:!0,...n},o=a.name;if(typeof o!="string"||!o)throw El.create("bad-app-name",{appName:String(o)});if(s||(s=My()),!s)throw El.create("no-options");const u=No.get(o);if(u){if(Eo(s,u.options)&&Eo(a,u.config))return u;throw El.create("duplicate-app",{appName:o})}const h=new I2(o);for(const y of Vd.values())h.addComponent(y);const g=new kS(s,a,h);return No.set(o,g),g}function LS(i=Yd){const n=No.get(i);if(!n&&i===Yd&&My())return Hy();if(!n)throw El.create("no-app",{appName:i});return n}function Zi(i,n,s){let a=AS[i]??i;s&&(a+=`-${s}`);const o=a.match(/\s|\//),u=n.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${n}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Xn.warn(h.join(" "));return}Co(new Na(`${a}-version`,()=>({library:a,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="firebase-heartbeat-database",IS=1,Ca="firebase-heartbeat-store";let jd=null;function By(){return jd||(jd=P2(US,IS,{upgrade:(i,n)=>{switch(n){case 0:try{i.createObjectStore(Ca)}catch(s){console.warn(s)}}}}).catch(i=>{throw El.create("idb-open",{originalErrorMessage:i.message})})),jd}async function HS(i){try{const s=(await By()).transaction(Ca),a=await s.objectStore(Ca).get(Gy(i));return await s.done,a}catch(n){if(n instanceof Ia)Xn.warn(n.message);else{const s=El.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Xn.warn(s.message)}}}async function v0(i,n){try{const a=(await By()).transaction(Ca,"readwrite");await a.objectStore(Ca).put(n,Gy(i)),await a.done}catch(s){if(s instanceof Ia)Xn.warn(s.message);else{const a=El.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Xn.warn(a.message)}}}function Gy(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=1024,GS=30;class YS{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new qS(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var n,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=x0();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>GS){const h=QS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Xn.warn(a)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=x0(),{heartbeatsToSend:a,unsentEntries:o}=VS(this._heartbeatsCache.heartbeats),u=bo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(s){return Xn.warn(s),""}}}function x0(){return new Date().toISOString().substring(0,10)}function VS(i,n=BS){const s=[];let a=i.slice();for(const o of i){const u=s.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),_0(s)>n){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),_0(s)>n){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class qS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C2()?w2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await HS(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const a=await this.read();return v0(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const a=await this.read();return v0(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...n.heartbeats]})}else return}}function _0(i){return bo(JSON.stringify({version:2,heartbeats:i})).length}function QS(i){if(i.length===0)return-1;let n=0,s=i[0].date;for(let a=1;a<i.length;a++)i[a].date<s&&(s=i[a].date,n=a);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(i){Co(new Na("platform-logger",n=>new eS(n),"PRIVATE")),Co(new Na("heartbeat",n=>new YS(n),"PRIVATE")),Zi(Gd,g0,i),Zi(Gd,g0,"esm2020"),Zi("fire-js","")}XS("");var b0={};const S0="@firebase/database",E0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy="";function FS(i){Yy=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,s){s==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),dt(s))}get(n){const s=this.domStorage_.getItem(this.prefixedName_(n));return s==null?null:Ea(s)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,s){s==null?delete this.cache_[n]:this.cache_[n]=s}get(n){return Sn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const n=window[i];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new KS(n)}}catch{}return new ZS},Pl=Vy("localStorage"),WS=Vy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Ly("@firebase/database"),PS=(function(){let i=1;return function(){return i++}})(),qy=function(i){const n=k2(i),s=new O2;s.update(n);const a=s.digest();return ff.encodeByteArray(a)},Ha=function(...i){let n="";for(let s=0;s<i.length;s++){const a=i[s];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?n+=Ha.apply(null,a):typeof a=="object"?n+=dt(a):n+=a,n+=" "}return n};let ya=null,N0=!0;const JS=function(i,n){q(!0,"Can't turn on custom loggers persistently."),Wi.logLevel=qe.VERBOSE,ya=Wi.log.bind(Wi)},bt=function(...i){if(N0===!0&&(N0=!1,ya===null&&WS.get("logging_enabled")===!0&&JS()),ya){const n=Ha.apply(null,i);ya(n)}},Ba=function(i){return function(...n){bt(i,...n)}},qd=function(...i){const n="FIREBASE INTERNAL ERROR: "+Ha(...i);Wi.error(n)},Fn=function(...i){const n=`FIREBASE FATAL ERROR: ${Ha(...i)}`;throw Wi.error(n),new Error(n)},Rt=function(...i){const n="FIREBASE WARNING: "+Ha(...i);Wi.warn(n)},$S=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},pf=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},eE=function(i){if(document.readyState==="complete")i();else{let n=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}n||(n=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},$i="[MIN_NAME]",Jl="[MAX_NAME]",si=function(i,n){if(i===n)return 0;if(i===$i||n===Jl)return-1;if(n===$i||i===Jl)return 1;{const s=C0(i),a=C0(n);return s!==null?a!==null?s-a===0?i.length-n.length:s-a:-1:a!==null?1:i<n?-1:1}},tE=function(i,n){return i===n?0:i<n?-1:1},ua=function(i,n){if(n&&i in n)return n[i];throw new Error("Missing required key ("+i+") in object: "+dt(n))},gf=function(i){if(typeof i!="object"||i===null)return dt(i);const n=[];for(const a in i)n.push(a);n.sort();let s="{";for(let a=0;a<n.length;a++)a!==0&&(s+=","),s+=dt(n[a]),s+=":",s+=gf(i[n[a]]);return s+="}",s},Qy=function(i,n){const s=i.length;if(s<=n)return[i];const a=[];for(let o=0;o<s;o+=n)o+n>s?a.push(i.substring(o,s)):a.push(i.substring(o,o+n));return a};function Nt(i,n){for(const s in i)i.hasOwnProperty(s)&&n(s,i[s])}const Xy=function(i){q(!pf(i),"Invalid JSON number");const n=11,s=52,a=(1<<n-1)-1;let o,u,h,g,y;i===0?(u=0,h=0,o=1/i===-1/0?1:0):(o=i<0,i=Math.abs(i),i>=Math.pow(2,1-a)?(g=Math.min(Math.floor(Math.log(i)/Math.LN2),a),u=g+a,h=Math.round(i*Math.pow(2,s-g)-Math.pow(2,s))):(u=0,h=Math.round(i/Math.pow(2,1-a-s))));const p=[];for(y=s;y;y-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(y=n;y;y-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const _=p.join("");let v="";for(y=0;y<64;y+=8){let b=parseInt(_.substr(y,8),2).toString(16);b.length===1&&(b="0"+b),v=v+b}return v.toLowerCase()},nE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function iE(i,n){let s="Unknown Error";i==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?s="Client doesn't have permission to access the desired data.":i==="unavailable"&&(s="The service is unavailable");const a=new Error(i+" at "+n._path.toString()+": "+s);return a.code=i.toUpperCase(),a}const sE=new RegExp("^-?(0*)\\d{1,10}$"),aE=-2147483648,rE=2147483647,C0=function(i){if(sE.test(i)){const n=Number(i);if(n>=aE&&n<=rE)return n}return null},as=function(i){try{i()}catch(n){setTimeout(()=>{const s=n.stack||"";throw Rt("Exception was thrown by user callback.",s),n},Math.floor(0))}},oE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},va=function(i,n){const s=setTimeout(i,n);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(n,s){this.appCheckProvider=s,this.appName=n.name,MS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=s==null?void 0:s.getImmediate({optional:!0}),this.appCheck||s==null||s.get().then(a=>this.appCheck=a)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((s,a)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(s,a):s(null)},0)})}addTokenChangeListener(n){var s;(s=this.appCheckProvider)==null||s.get().then(a=>a.addTokenListener(n))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(n,s,a){this.appName_=n,this.firebaseOptions_=s,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(s=>s&&s.code==="auth/token-not-initialized"?(bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,a)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(s,a):s(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(s=>s.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(s=>s.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(n)}}class xo{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}xo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="5",Fy="v",Ky="s",Zy="r",Wy="f",Py=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jy="ls",$y="p",Qd="ac",ev="websocket",tv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(n,s,a,o,u=!1,h="",g=!1,y=!1,p=null){this.secure=s,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=y,this.emulatorOptions=p,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pl.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Pl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${s}`}}function dE(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function lv(i,n,s){q(typeof n=="string","typeof type must == string"),q(typeof s=="object","typeof params must == object");let a;if(n===ev)a=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(n===tv)a=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);dE(i)&&(s.ns=i.namespace);const o=[];return Nt(s,(u,h)=>{o.push(u+"="+h)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.counters_={}}incrementCounter(n,s=1){Sn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=s}get(){return c2(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad={},Rd={};function vf(i){const n=i.toString();return Ad[n]||(Ad[n]=new fE),Ad[n]}function hE(i,n){const s=i.toString();return Rd[s]||(Rd[s]=n()),Rd[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,s){this.closeAfterResponse=n,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,s){for(this.pendingResponses[n]=s;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&as(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="start",pE="close",gE="pLPCommand",yE="pRTLPCB",iv="id",sv="pw",av="ser",vE="cb",xE="seg",_E="ts",bE="d",SE="dframe",rv=1870,ov=30,EE=rv-ov,NE=25e3,CE=3e4;class Ki{constructor(n,s,a,o,u,h,g){this.connId=n,this.repoInfo=s,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ba(n),this.stats_=vf(s),this.urlFn=y=>(this.appCheckToken&&(y[Qd]=this.appCheckToken),lv(s,tv,y))}open(n,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new mE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(CE)),eE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xf((...u)=>{const[h,g,y,p,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===w0)this.id=g,this.password=y;else if(h===pE)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,g]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,g)},()=>{this.onClosed_()},this.urlFn);const a={};a[w0]="t",a[av]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[vE]=this.scriptTagHolder.uniqueCallbackIdentifier),a[Fy]=yf,this.transportSessionId&&(a[Ky]=this.transportSessionId),this.lastSessionId&&(a[Jy]=this.lastSessionId),this.applicationId&&(a[$y]=this.applicationId),this.appCheckToken&&(a[Qd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Py.test(location.hostname)&&(a[Zy]=Wy);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ki.forceAllow_=!0}static forceDisallow(){Ki.forceDisallow_=!0}static isAvailable(){return Ki.forceAllow_?!0:!Ki.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nE()&&!lE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const s=dt(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=Ay(s),o=Qy(a,EE);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(n,s){this.myDisconnFrame=document.createElement("iframe");const a={};a[SE]="t",a[iv]=n,a[sv]=s,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const s=dt(n).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class xf{constructor(n,s,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=PS(),window[gE+this.uniqueCallbackIdentifier]=n,window[yE+this.uniqueCallbackIdentifier]=s,this.myIFrame=xf.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(g){bt("frame writing exception"),g.stack&&bt(g.stack),bt(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||bt("No IE domain setting required")}catch{const a=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,s){for(this.myID=n,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[iv]=this.myID,n[sv]=this.myPW,n[av]=this.currentSerial;let s=this.urlFn(n),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ov+a.length<=rv;){const h=this.pendingSegs.shift();a=a+"&"+xE+o+"="+h.seg+"&"+_E+o+"="+h.ts+"&"+bE+o+"="+h.d,o++}return s=s+a,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(n,s,a){this.pendingSegs.push({seg:n,ts:s,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(n,s){this.outstandingRequests.add(s);const a=()=>{this.outstandingRequests.delete(s),this.newRequest_()},o=setTimeout(a,Math.floor(NE)),u=()=>{clearTimeout(o),a()};this.addTag(n,u)}addTag(n,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=n,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),s())},a.onerror=()=>{bt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=16384,TE=45e3;let wo=null;typeof MozWebSocket<"u"?wo=MozWebSocket:typeof WebSocket<"u"&&(wo=WebSocket);class hn{constructor(n,s,a,o,u,h,g){this.connId=n,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ba(this.connId),this.stats_=vf(s),this.connURL=hn.connectionURL_(s,h,g,o,a),this.nodeAdmin=s.nodeAdmin}static connectionURL_(n,s,a,o,u){const h={};return h[Fy]=yf,typeof location<"u"&&location.hostname&&Py.test(location.hostname)&&(h[Zy]=Wy),s&&(h[Ky]=s),a&&(h[Jy]=a),o&&(h[Qd]=o),u&&(h[$y]=u),lv(n,ev,h)}open(n,s){this.onDisconnect=s,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pl.set("previous_websocket_failure",!0);try{let a;N2(),this.mySock=new wo(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){hn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(s);a&&a.length>1&&parseFloat(a[1])<4.4&&(n=!0)}return!n&&wo!==null&&!hn.forceDisallow_}static previouslyFailed(){return Pl.isInMemoryStorage||Pl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Pl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=Ea(s);this.onMessage(a)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(q(this.frames===null,"We already have a frame buffer"),n.length<=6){const s=Number(n);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const s=n.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);a!==null&&this.appendFrame_(a)}}send(n){this.resetKeepAlive();const s=dt(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=Qy(s,wE);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(TE))}sendString_(n){try{this.mySock.send(n)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hn.responsesRequiredToBeHealthy=2;hn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{static get ALL_TRANSPORTS(){return[Ki,hn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const s=hn&&hn.isAvailable();let a=s&&!hn.previouslyFailed();if(n.webSocketOnly&&(s||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[hn];else{const o=this.transports_=[];for(const u of wa.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);wa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=6e4,AE=5e3,RE=10*1024,DE=100*1024,Dd="t",T0="d",ME="s",j0="r",OE="e",A0="o",R0="a",D0="n",M0="p",kE="h";class zE{constructor(n,s,a,o,u,h,g,y,p,_){this.id=n,this.repoInfo_=s,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=g,this.onDisconnect_=y,this.onKill_=p,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ba("c:"+this.id+":"),this.transportManager_=new wa(s),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,a)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=va(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>DE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>RE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return s=>{n===this.conn_?this.onConnectionLost_(s):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return s=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(s):n===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(n){const s={t:"d",d:n};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Dd in n){const s=n[Dd];s===R0?this.upgradeIfSecondaryHealthy_():s===j0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===A0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const s=ua("t",n),a=ua("d",n);if(s==="c")this.onSecondaryControl_(a);else if(s==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:M0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:R0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:D0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const s=ua("t",n),a=ua("d",n);s==="c"?this.onControl_(a):s==="d"&&this.onDataMessage_(a)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const s=ua(Dd,n);if(T0 in n){const a=n[T0];if(s===kE){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(s===D0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===ME?this.onConnectionShutdown_(a):s===j0?this.onReset_(a):s===OE?qd("Server Error: "+a):s===A0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qd("Unknown control packet command: "+s)}}onHandshake_(n){const s=n.ts,a=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),yf!==a&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,a),va(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,s){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):va(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(AE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:M0,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{put(n,s,a,o){}merge(n,s,a,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,s,a){}onDisconnectMerge(n,s,a){}onDisconnectCancel(n,s){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(n){this.allowedEvents_=n,this.listeners_={},q(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...s){if(Array.isArray(this.listeners_[n])){const a=[...this.listeners_[n]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,s)}}on(n,s,a){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:s,context:a});const o=this.getInitialEvent(n);o&&s.apply(a,o)}off(n,s,a){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let u=0;u<o.length;u++)if(o[u].callback===s&&(!a||a===o[u].context)){o.splice(u,1);return}}validateEventType_(n){q(this.allowedEvents_.find(s=>s===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends uv{static getInstance(){return new To}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Oy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return q(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=32,k0=768;class He{constructor(n,s){if(s===void 0){this.pieces_=n.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=s}toString(){let n="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(n+="/"+this.pieces_[s]);return n||"/"}}function Re(){return new He("")}function pe(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function wl(i){return i.pieces_.length-i.pieceNum_}function Qe(i){let n=i.pieceNum_;return n<i.pieces_.length&&n++,new He(i.pieces_,n)}function _f(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function LE(i){let n="";for(let s=i.pieceNum_;s<i.pieces_.length;s++)i.pieces_[s]!==""&&(n+="/"+encodeURIComponent(String(i.pieces_[s])));return n||"/"}function Ta(i,n=0){return i.pieces_.slice(i.pieceNum_+n)}function dv(i){if(i.pieceNum_>=i.pieces_.length)return null;const n=[];for(let s=i.pieceNum_;s<i.pieces_.length-1;s++)n.push(i.pieces_[s]);return new He(n,0)}function tt(i,n){const s=[];for(let a=i.pieceNum_;a<i.pieces_.length;a++)s.push(i.pieces_[a]);if(n instanceof He)for(let a=n.pieceNum_;a<n.pieces_.length;a++)s.push(n.pieces_[a]);else{const a=n.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&s.push(a[o])}return new He(s,0)}function be(i){return i.pieceNum_>=i.pieces_.length}function At(i,n){const s=pe(i),a=pe(n);if(s===null)return n;if(s===a)return At(Qe(i),Qe(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+i+")")}function UE(i,n){const s=Ta(i,0),a=Ta(n,0);for(let o=0;o<s.length&&o<a.length;o++){const u=si(s[o],a[o]);if(u!==0)return u}return s.length===a.length?0:s.length<a.length?-1:1}function bf(i,n){if(wl(i)!==wl(n))return!1;for(let s=i.pieceNum_,a=n.pieceNum_;s<=i.pieces_.length;s++,a++)if(i.pieces_[s]!==n.pieces_[a])return!1;return!0}function rn(i,n){let s=i.pieceNum_,a=n.pieceNum_;if(wl(i)>wl(n))return!1;for(;s<i.pieces_.length;){if(i.pieces_[s]!==n.pieces_[a])return!1;++s,++a}return!0}class IE{constructor(n,s){this.errorPrefix_=s,this.parts_=Ta(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=Vo(this.parts_[a]);fv(this)}}function HE(i,n){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(n),i.byteLength_+=Vo(n),fv(i)}function BE(i){const n=i.parts_.pop();i.byteLength_-=Vo(n),i.parts_.length>0&&(i.byteLength_-=1)}function fv(i){if(i.byteLength_>k0)throw new Error(i.errorPrefix_+"has a key path longer than "+k0+" bytes ("+i.byteLength_+").");if(i.parts_.length>O0)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+O0+") or object contains a cycle "+Wl(i))}function Wl(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends uv{static getInstance(){return new Sf}constructor(){super(["visible"]);let n,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const a=!document[n];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(n){return q(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=1e3,GE=300*1e3,z0=30*1e3,YE=1.3,VE=3e4,qE="server_kill",L0=3;class qn extends cv{constructor(n,s,a,o,u,h,g,y){if(super(),this.repoInfo_=n,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=g,this.authOverride_=y,this.id=qn.nextPersistentConnectionId_++,this.log_=Ba("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=da,this.maxReconnectDelay_=GE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&To.getInstance().on("online",this.onOnline_,this)}sendRequest(n,s,a){const o=++this.requestNumber_,u={r:o,a:n,b:s};this.log_(dt(u)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[o]=a)}get(n){this.initConnection_();const s=new Ua,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const g=h.d;h.s==="ok"?s.resolve(g):s.reject(g)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),s.promise}listen(n,s,a,o){this.initConnection_();const u=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const g={onComplete:o,hashFn:s,query:n,tag:a};this.listens.get(h).set(u,g),this.connected_&&this.sendListen_(g)}sendGet_(n){const s=this.outstandingGets_[n];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(n){const s=n.query,a=s._path.toString(),o=s._queryIdentifier;this.log_("Listen on "+a+" for "+o);const u={p:a},h="q";n.tag&&(u.q=s._queryObject,u.t=n.tag),u.h=n.hashFn(),this.sendRequest(h,u,g=>{const y=g.d,p=g.s;qn.warnOnListenWarnings_(y,s),(this.listens.get(a)&&this.listens.get(a).get(o))===n&&(this.log_("listen response",g),p!=="ok"&&this.removeListen_(a,o),n.onComplete&&n.onComplete(p,y))})}static warnOnListenWarnings_(n,s){if(n&&typeof n=="object"&&Sn(n,"w")){const a=Ji(n,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+s._queryParams.getIndex().toString()+'"',u=s._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||D2(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=z0)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,s=R2(n)?"auth":"gauth",a={cred:n};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(s,a,o=>{const u=o.s,h=o.d||"error";this.authToken_===n&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const s=n.s,a=n.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(n,s){const a=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,n._queryObject,s)}sendUnlisten_(n,s,a,o){this.log_("Unlisten on "+n+" for "+s);const u={p:n},h="n";o&&(u.q=a,u.t=o),this.sendRequest(h,u)}onDisconnectPut(n,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,s,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:s,onComplete:a})}onDisconnectMerge(n,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,s,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:s,onComplete:a})}onDisconnectCancel(n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(n,s,a,o){const u={p:s,d:a};this.log_("onDisconnect "+n,u),this.sendRequest(n,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(n,s,a,o){this.putInternal("p",n,s,a,o)}merge(n,s,a,o){this.putInternal("m",n,s,a,o)}putInternal(n,s,a,o,u){this.initConnection_();const h={p:s,d:a};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:n,request:h,onComplete:o}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+s)}sendPut_(n){const s=this.outstandingPuts_[n].action,a=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(s,a,u=>{this.log_(s+" response",u),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(n){if(this.connected_){const s={c:n};this.log_("reportStats",s),this.sendRequest("s",s,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+dt(n));const s=n.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,s){this.log_("handleServerMessage",n,s),n==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):n==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):n==="c"?this.onListenRevoked_(s.p,s.q):n==="ac"?this.onAuthRevoked_(s.s,s.d):n==="apc"?this.onAppCheckRevoked_(s.s,s.d):n==="sd"?this.onSecurityDebugPacket_(s):qd("Unrecognized action received from server: "+dt(n)+`
Are you using the latest client?`)}onReady_(n,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=da,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=da,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>VE&&(this.reconnectDelay_=da),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-n);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+qn.nextConnectionId_++,u=this.lastSessionId;let h=!1,g=null;const y=function(){g?g.close():(h=!0,a())},p=function(v){q(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(v)};this.realtime_={close:y,sendRequest:p};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,b]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);h?bt("getToken() completed but was canceled"):(bt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=b&&b.token,g=new zE(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,s,a,w=>{Rt(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(qE)},u))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&Rt(v),y())}}}interrupt(n){bt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){bt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],d0(this.interruptReasons_)&&(this.reconnectDelay_=da,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const s=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const s=this.outstandingPuts_[n];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,s){let a;s?a=s.map(u=>gf(u)).join("$"):a="default";const o=this.removeListen_(n,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,s){const a=new He(n).toString();let o;if(this.listens.has(a)){const u=this.listens.get(a);o=u.get(s),u.delete(s),u.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(n,s){bt("Auth token revoked: "+n+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=L0&&(this.reconnectDelay_=z0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,s){bt("App check token revoked: "+n+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=L0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const s of n.values())this.sendListen_(s);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let s="js";n["sdk."+s+"."+Yy.replace(/\./g,"-")]=1,Oy()?n["framework.cordova"]=1:E2()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=To.getInstance().currentlyOnline();return d0(this.interruptReasons_)&&n}}qn.nextPersistentConnectionId_=0;qn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(n,s){this.name=n,this.node=s}static Wrap(n,s){return new ge(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,s){const a=new ge($i,n),o=new ge($i,s);return this.compare(a,o)!==0}minPost(){return ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo;class hv extends qo{static get __EMPTY_NODE(){return mo}static set __EMPTY_NODE(n){mo=n}compare(n,s){return si(n.name,s.name)}isDefinedOn(n){throw ss("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,s){return!1}minPost(){return ge.MIN}maxPost(){return new ge(Jl,mo)}makePost(n,s){return q(typeof n=="string","KeyIndex indexValue must always be a string."),new ge(n,mo)}toString(){return".key"}}const Pi=new hv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(n,s,a,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=s?a(n.key,s):1,o&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(n.key,n.value):s={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class pt{constructor(n,s,a,o,u){this.key=n,this.value=s,this.color=a??pt.RED,this.left=o??Ht.EMPTY_NODE,this.right=u??Ht.EMPTY_NODE}copy(n,s,a,o,u){return new pt(n??this.key,s??this.value,a??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,a){let o=this;const u=a(n,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(n,s,a),null):u===0?o=o.copy(null,s,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,s,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ht.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,s){let a,o;if(a=this,s(n,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(n,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),s(n,a.key)===0){if(a.right.isEmpty())return Ht.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(n,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}pt.RED=!0;pt.BLACK=!1;class QE{copy(n,s,a,o,u){return this}insert(n,s,a){return new pt(n,s,null)}remove(n,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ht{constructor(n,s=Ht.EMPTY_NODE){this.comparator_=n,this.root_=s}insert(n,s){return new Ht(this.comparator_,this.root_.insert(n,s,this.comparator_).copy(null,null,pt.BLACK,null,null))}remove(n){return new Ht(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,pt.BLACK,null,null))}get(n){let s,a=this.root_;for(;!a.isEmpty();){if(s=this.comparator_(n,a.key),s===0)return a.value;s<0?a=a.left:s>0&&(a=a.right)}return null}getPredecessorKey(n){let s,a=this.root_,o=null;for(;!a.isEmpty();)if(s=this.comparator_(n,a.key),s===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else s<0?a=a.left:s>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new po(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,s){return new po(this.root_,n,this.comparator_,!1,s)}getReverseIteratorFrom(n,s){return new po(this.root_,n,this.comparator_,!0,s)}getReverseIterator(n){return new po(this.root_,null,this.comparator_,!0,n)}}Ht.EMPTY_NODE=new QE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(i,n){return si(i.name,n.name)}function Ef(i,n){return si(i,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd;function FE(i){Xd=i}const mv=function(i){return typeof i=="number"?"number:"+Xy(i):"string:"+i},pv=function(i){if(i.isLeafNode()){const n=i.val();q(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Sn(n,".sv"),"Priority must be a string or number.")}else q(i===Xd||i.isEmpty(),"priority of unexpected type.");q(i===Xd||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U0;class mt{static set __childrenNodeConstructor(n){U0=n}static get __childrenNodeConstructor(){return U0}constructor(n,s=mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=s,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),pv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new mt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:mt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return be(n)?this:pe(n)===".priority"?this.priorityNode_:mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,s){return null}updateImmediateChild(n,s){return n===".priority"?this.updatePriority(s):s.isEmpty()&&n!==".priority"?this:mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,s).updatePriority(this.priorityNode_)}updateChild(n,s){const a=pe(n);return a===null?s:s.isEmpty()&&a!==".priority"?this:(q(a!==".priority"||wl(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(n),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,s){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+mv(this.priorityNode_.val())+":");const s=typeof this.value_;n+=s+":",s==="number"?n+=Xy(this.value_):n+=this.value_,this.lazyHash_=qy(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===mt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof mt.__childrenNodeConstructor?-1:(q(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const s=typeof n.value_,a=typeof this.value_,o=mt.VALUE_TYPE_ORDER.indexOf(s),u=mt.VALUE_TYPE_ORDER.indexOf(a);return q(o>=0,"Unknown leaf type: "+s),q(u>=0,"Unknown leaf type: "+a),o===u?a==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const s=n;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gv,yv;function KE(i){gv=i}function ZE(i){yv=i}class WE extends qo{compare(n,s){const a=n.node.getPriority(),o=s.node.getPriority(),u=a.compareTo(o);return u===0?si(n.name,s.name):u}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,s){return!n.getPriority().equals(s.getPriority())}minPost(){return ge.MIN}maxPost(){return new ge(Jl,new mt("[PRIORITY-POST]",yv))}makePost(n,s){const a=gv(n);return new ge(s,new mt("[PRIORITY-POST]",a))}toString(){return".priority"}}const nt=new WE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=Math.log(2);class JE{constructor(n){const s=u=>parseInt(Math.log(u)/PE,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=s(n+1),this.current_=this.count-1;const o=a(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const jo=function(i,n,s,a){i.sort(n);const o=function(y,p){const _=p-y;let v,b;if(_===0)return null;if(_===1)return v=i[y],b=s?s(v):v,new pt(b,v.node,pt.BLACK,null,null);{const w=parseInt(_/2,10)+y,j=o(y,w),D=o(w+1,p);return v=i[w],b=s?s(v):v,new pt(b,v.node,pt.BLACK,j,D)}},u=function(y){let p=null,_=null,v=i.length;const b=function(j,D){const G=v-j,Y=v;v-=j;const Q=o(G+1,Y),B=i[G],le=s?s(B):B;w(new pt(le,B.node,D,null,Q))},w=function(j){p?(p.left=j,p=j):(_=j,p=j)};for(let j=0;j<y.count;++j){const D=y.nextBitIsOne(),G=Math.pow(2,y.count-(j+1));D?b(G,pt.BLACK):(b(G,pt.BLACK),b(G,pt.RED))}return _},h=new JE(i.length),g=u(h);return new Ht(a||n,g)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md;const Xi={};class Yn{static get Default(){return q(Xi&&nt,"ChildrenNode.ts has not been loaded"),Md=Md||new Yn({".priority":Xi},{".priority":nt}),Md}constructor(n,s){this.indexes_=n,this.indexSet_=s}get(n){const s=Ji(this.indexes_,n);if(!s)throw new Error("No index defined for "+n);return s instanceof Ht?s:null}hasIndex(n){return Sn(this.indexSet_,n.toString())}addIndex(n,s){q(n!==Pi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const u=s.getIterator(ge.Wrap);let h=u.getNext();for(;h;)o=o||n.isDefinedOn(h.node),a.push(h),h=u.getNext();let g;o?g=jo(a,n.getCompare()):g=Xi;const y=n.toString(),p={...this.indexSet_};p[y]=n;const _={...this.indexes_};return _[y]=g,new Yn(_,p)}addToIndexes(n,s){const a=So(this.indexes_,(o,u)=>{const h=Ji(this.indexSet_,u);if(q(h,"Missing index implementation for "+u),o===Xi)if(h.isDefinedOn(n.node)){const g=[],y=s.getIterator(ge.Wrap);let p=y.getNext();for(;p;)p.name!==n.name&&g.push(p),p=y.getNext();return g.push(n),jo(g,h.getCompare())}else return Xi;else{const g=s.get(n.name);let y=o;return g&&(y=y.remove(new ge(n.name,g))),y.insert(n,n.node)}});return new Yn(a,this.indexSet_)}removeFromIndexes(n,s){const a=So(this.indexes_,o=>{if(o===Xi)return o;{const u=s.get(n.name);return u?o.remove(new ge(n.name,u)):o}});return new Yn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa;class se{static get EMPTY_NODE(){return fa||(fa=new se(new Ht(Ef),null,Yn.Default))}constructor(n,s,a){this.children_=n,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&pv(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fa}updatePriority(n){return this.children_.isEmpty()?this:new se(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const s=this.children_.get(n);return s===null?fa:s}}getChild(n){const s=pe(n);return s===null?this:this.getImmediateChild(s).getChild(Qe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,s){if(q(s,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(s);{const a=new ge(n,s);let o,u;s.isEmpty()?(o=this.children_.remove(n),u=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(n,s),u=this.indexMap_.addToIndexes(a,this.children_));const h=o.isEmpty()?fa:this.priorityNode_;return new se(o,h,u)}}updateChild(n,s){const a=pe(n);if(a===null)return s;{q(pe(n)!==".priority"||wl(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(Qe(n),s);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const s={};let a=0,o=0,u=!0;if(this.forEachChild(nt,(h,g)=>{s[h]=g.val(n),a++,u&&se.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!n&&u&&o<2*a){const h=[];for(const g in s)h[g]=s[g];return h}else return n&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+mv(this.getPriority().val())+":"),this.forEachChild(nt,(s,a)=>{const o=a.hash();o!==""&&(n+=":"+s+":"+o)}),this.lazyHash_=n===""?"":qy(n)}return this.lazyHash_}getPredecessorChildName(n,s,a){const o=this.resolveIndex_(a);if(o){const u=o.getPredecessorKey(new ge(n,s));return u?u.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const s=this.resolveIndex_(n);if(s){const a=s.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(n){const s=this.getFirstChildName(n);return s?new ge(s,this.children_.get(s)):null}getLastChildName(n){const s=this.resolveIndex_(n);if(s){const a=s.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(n){const s=this.getLastChildName(n);return s?new ge(s,this.children_.get(s)):null}forEachChild(n,s){const a=this.resolveIndex_(n);return a?a.inorderTraversal(o=>s(o.name,o.node)):this.children_.inorderTraversal(s)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ge.Wrap);let u=o.peek();for(;u!=null&&s.compare(u,n)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ge.Wrap);let u=o.peek();for(;u!=null&&s.compare(u,n)>0;)o.getNext(),u=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ga?-1:0}withIndex(n){if(n===Pi||this.indexMap_.hasIndex(n))return this;{const s=this.indexMap_.addIndex(n,this.children_);return new se(this.children_,this.priorityNode_,s)}}isIndexed(n){return n===Pi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const s=n;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const a=this.getIterator(nt),o=s.getIterator(nt);let u=a.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=a.getNext(),h=o.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Pi?null:this.indexMap_.get(n.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $E extends se{constructor(){super(new Ht(Ef),se.EMPTY_NODE,Yn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return se.EMPTY_NODE}isEmpty(){return!1}}const Ga=new $E;Object.defineProperties(ge,{MIN:{value:new ge($i,se.EMPTY_NODE)},MAX:{value:new ge(Jl,Ga)}});hv.__EMPTY_NODE=se.EMPTY_NODE;mt.__childrenNodeConstructor=se;FE(Ga);ZE(Ga);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=!0;function ut(i,n=null){if(i===null)return se.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(n=i[".priority"]),q(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const s=i;return new mt(s,ut(n))}if(!(i instanceof Array)&&eN){const s=[];let a=!1;if(Nt(i,(h,g)=>{if(h.substring(0,1)!=="."){const y=ut(g);y.isEmpty()||(a=a||!y.getPriority().isEmpty(),s.push(new ge(h,y)))}}),s.length===0)return se.EMPTY_NODE;const u=jo(s,XE,h=>h.name,Ef);if(a){const h=jo(s,nt.getCompare());return new se(u,ut(n),new Yn({".priority":h},{".priority":nt}))}else return new se(u,ut(n),Yn.Default)}else{let s=se.EMPTY_NODE;return Nt(i,(a,o)=>{if(Sn(i,a)&&a.substring(0,1)!=="."){const u=ut(o);(u.isLeafNode()||!u.isEmpty())&&(s=s.updateImmediateChild(a,u))}}),s.updatePriority(ut(n))}}KE(ut);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN extends qo{constructor(n){super(),this.indexPath_=n,q(!be(n)&&pe(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,s){const a=this.extractChild(n.node),o=this.extractChild(s.node),u=a.compareTo(o);return u===0?si(n.name,s.name):u}makePost(n,s){const a=ut(n),o=se.EMPTY_NODE.updateChild(this.indexPath_,a);return new ge(s,o)}maxPost(){const n=se.EMPTY_NODE.updateChild(this.indexPath_,Ga);return new ge(Jl,n)}toString(){return Ta(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN extends qo{compare(n,s){const a=n.node.compareTo(s.node);return a===0?si(n.name,s.name):a}isDefinedOn(n){return!0}indexedValueChanged(n,s){return!n.equals(s)}minPost(){return ge.MIN}maxPost(){return ge.MAX}makePost(n,s){const a=ut(n);return new ge(s,a)}toString(){return".value"}}const lN=new nN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(i){return{type:"value",snapshotNode:i}}function es(i,n){return{type:"child_added",snapshotNode:n,childName:i}}function ja(i,n){return{type:"child_removed",snapshotNode:n,childName:i}}function Aa(i,n,s){return{type:"child_changed",snapshotNode:n,childName:i,oldSnap:s}}function iN(i,n){return{type:"child_moved",snapshotNode:n,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(n){this.index_=n}updateChild(n,s,a,o,u,h){q(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(s);return g.getChild(o).equals(a.getChild(o))&&g.isEmpty()===a.isEmpty()||(h!=null&&(a.isEmpty()?n.hasChild(s)?h.trackChildChange(ja(s,g)):q(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?h.trackChildChange(es(s,a)):h.trackChildChange(Aa(s,a,g))),n.isLeafNode()&&a.isEmpty())?n:n.updateImmediateChild(s,a).withIndex(this.index_)}updateFullNode(n,s,a){return a!=null&&(n.isLeafNode()||n.forEachChild(nt,(o,u)=>{s.hasChild(o)||a.trackChildChange(ja(o,u))}),s.isLeafNode()||s.forEachChild(nt,(o,u)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(u)||a.trackChildChange(Aa(o,u,h))}else a.trackChildChange(es(o,u))})),s.withIndex(this.index_)}updatePriority(n,s){return n.isEmpty()?se.EMPTY_NODE:n.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(n){this.indexedFilter_=new Nf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Ra.getStartPost_(n),this.endPost_=Ra.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,a=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return s&&a}updateChild(n,s,a,o,u,h){return this.matches(new ge(s,a))||(a=se.EMPTY_NODE),this.indexedFilter_.updateChild(n,s,a,o,u,h)}updateFullNode(n,s,a){s.isLeafNode()&&(s=se.EMPTY_NODE);let o=s.withIndex(this.index_);o=o.updatePriority(se.EMPTY_NODE);const u=this;return s.forEachChild(nt,(h,g)=>{u.matches(new ge(h,g))||(o=o.updateImmediateChild(h,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,a)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const s=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),s)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const s=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),s)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(n){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=s=>{const a=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Ra(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,s,a,o,u,h){return this.rangedFilter_.matches(new ge(s,a))||(a=se.EMPTY_NODE),n.getImmediateChild(s).equals(a)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,s,a,o,u,h):this.fullLimitUpdateChild_(n,s,a,u,h)}updateFullNode(n,s,a){let o;if(s.isLeafNode()||s.isEmpty())o=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){o=se.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const g=u.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))o=o.updateImmediateChild(g.name,g.node),h++;else break;else continue}}else{o=s.withIndex(this.index_),o=o.updatePriority(se.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let h=0;for(;u.hasNext();){const g=u.getNext();h<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?h++:o=o.updateImmediateChild(g.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,a)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,s,a,o,u){let h;if(this.reverse_){const v=this.index_.getCompare();h=(b,w)=>v(w,b)}else h=this.index_.getCompare();const g=n;q(g.numChildren()===this.limit_,"");const y=new ge(s,a),p=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),_=this.rangedFilter_.matches(y);if(g.hasChild(s)){const v=g.getImmediateChild(s);let b=o.getChildAfterChild(this.index_,p,this.reverse_);for(;b!=null&&(b.name===s||g.hasChild(b.name));)b=o.getChildAfterChild(this.index_,b,this.reverse_);const w=b==null?1:h(b,y);if(_&&!a.isEmpty()&&w>=0)return u!=null&&u.trackChildChange(Aa(s,a,v)),g.updateImmediateChild(s,a);{u!=null&&u.trackChildChange(ja(s,v));const D=g.updateImmediateChild(s,se.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(u!=null&&u.trackChildChange(es(b.name,b.node)),D.updateImmediateChild(b.name,b.node)):D}}else return a.isEmpty()?n:_&&h(p,y)>=0?(u!=null&&(u.trackChildChange(ja(p.name,p.node)),u.trackChildChange(es(s,a))),g.updateImmediateChild(s,a).updateImmediateChild(p.name,se.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$i}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nt}copy(){const n=new Cf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function aN(i){return i.loadsAllData()?new Nf(i.getIndex()):i.hasLimit()?new sN(i):new Ra(i)}function I0(i){const n={};if(i.isDefault())return n;let s;if(i.index_===nt?s="$priority":i.index_===lN?s="$value":i.index_===Pi?s="$key":(q(i.index_ instanceof tN,"Unrecognized index type!"),s=i.index_.toString()),n.orderBy=dt(s),i.startSet_){const a=i.startAfterSet_?"startAfter":"startAt";n[a]=dt(i.indexStartValue_),i.startNameSet_&&(n[a]+=","+dt(i.indexStartName_))}if(i.endSet_){const a=i.endBeforeSet_?"endBefore":"endAt";n[a]=dt(i.indexEndValue_),i.endNameSet_&&(n[a]+=","+dt(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?n.limitToFirst=i.limit_:n.limitToLast=i.limit_),n}function H0(i){const n={};if(i.startSet_&&(n.sp=i.indexStartValue_,i.startNameSet_&&(n.sn=i.indexStartName_),n.sin=!i.startAfterSet_),i.endSet_&&(n.ep=i.indexEndValue_,i.endNameSet_&&(n.en=i.indexEndName_),n.ein=!i.endBeforeSet_),i.limitSet_){n.l=i.limit_;let s=i.viewFrom_;s===""&&(i.isViewFromLeft()?s="l":s="r"),n.vf=s}return i.index_!==nt&&(n.i=i.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends cv{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,s){return s!==void 0?"tag$"+s:(q(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,s,a,o){super(),this.repoInfo_=n,this.onDataUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=Ba("p:rest:"),this.listens_={}}listen(n,s,a,o){const u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);const h=Ao.getListenId_(n,a),g={};this.listens_[h]=g;const y=I0(n._queryParams);this.restRequest_(u+".json",y,(p,_)=>{let v=_;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(u,v,!1,a),Ji(this.listens_,h)===g){let b;p?p===401?b="permission_denied":b="rest_error:"+p:b="ok",o(b,null)}})}unlisten(n,s){const a=Ao.getListenId_(n,s);delete this.listens_[a]}get(n){const s=I0(n._queryParams),a=n._path.toString(),o=new Ua;return this.restRequest_(a+".json",s,(u,h)=>{let g=h;u===404&&(g=null,u=null),u===null?(this.onDataUpdate_(a,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(n){}restRequest_(n,s={},a){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(s.auth=o.accessToken),u&&u.token&&(s.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+M2(s);this.log_("Sending REST request for "+h);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(a&&g.readyState===4){this.log_("REST Response for "+h+" received. status:",g.status,"response:",g.responseText);let y=null;if(g.status>=200&&g.status<300){try{y=Ea(g.responseText)}catch{Rt("Failed to parse JSON response for "+h+": "+g.responseText)}a(null,y)}else g.status!==401&&g.status!==404&&Rt("Got unsuccessful REST response for "+h+" Status: "+g.status),a(g.status);a=null}},g.open("GET",h,!0),g.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,s){this.rootNode_=this.rootNode_.updateChild(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(){return{value:null,children:new Map}}function xv(i,n,s){if(be(n))i.value=s,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(n,s);else{const a=pe(n);i.children.has(a)||i.children.set(a,Ro());const o=i.children.get(a);n=Qe(n),xv(o,n,s)}}function Fd(i,n,s){i.value!==null?s(n,i.value):oN(i,(a,o)=>{const u=new He(n.toString()+"/"+a);Fd(o,u,s)})}function oN(i,n){i.children.forEach((s,a)=>{n(a,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),s={...n};return this.last_&&Nt(this.last_,(a,o)=>{s[a]=s[a]-o}),this.last_=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=10*1e3,uN=30*1e3,dN=300*1e3;class fN{constructor(n,s){this.server_=s,this.statsToReport_={},this.statsListener_=new cN(n);const a=B0+(uN-B0)*Math.random();va(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const n=this.statsListener_.get(),s={};let a=!1;Nt(n,(o,u)=>{u>0&&Sn(this.statsToReport_,o)&&(s[o]=u,a=!0)}),a&&this.server_.reportStats(s),va(this.reportStats_.bind(this),Math.floor(Math.random()*2*dN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mn||(mn={}));function wf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Tf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jf(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(n,s,a){this.path=n,this.affectedTree=s,this.revert=a,this.type=mn.ACK_USER_WRITE,this.source=wf()}operationForChild(n){if(be(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new He(n));return new Do(Re(),s,this.revert)}}else return q(pe(this.path)===n,"operationForChild called for unrelated child."),new Do(Qe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(n,s){this.source=n,this.path=s,this.type=mn.LISTEN_COMPLETE}operationForChild(n){return be(this.path)?new Da(this.source,Re()):new Da(this.source,Qe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(n,s,a){this.source=n,this.path=s,this.snap=a,this.type=mn.OVERWRITE}operationForChild(n){return be(this.path)?new $l(this.source,Re(),this.snap.getImmediateChild(n)):new $l(this.source,Qe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(n,s,a){this.source=n,this.path=s,this.children=a,this.type=mn.MERGE}operationForChild(n){if(be(this.path)){const s=this.children.subtree(new He(n));return s.isEmpty()?null:s.value?new $l(this.source,Re(),s.value):new ts(this.source,Re(),s)}else return q(pe(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new ts(this.source,Qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(n,s,a){this.node_=n,this.fullyInitialized_=s,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(be(n))return this.isFullyInitialized()&&!this.filtered_;const s=pe(n);return this.isCompleteForChild(s)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function mN(i,n,s,a){const o=[],u=[];return n.forEach(h=>{h.type==="child_changed"&&i.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(iN(h.childName,h.snapshotNode))}),ha(i,o,"child_removed",n,a,s),ha(i,o,"child_added",n,a,s),ha(i,o,"child_moved",u,a,s),ha(i,o,"child_changed",n,a,s),ha(i,o,"value",n,a,s),o}function ha(i,n,s,a,o,u){const h=a.filter(g=>g.type===s);h.sort((g,y)=>gN(i,g,y)),h.forEach(g=>{const y=pN(i,g,u);o.forEach(p=>{p.respondsTo(g.type)&&n.push(p.createEvent(y,i.query_))})})}function pN(i,n,s){return n.type==="value"||n.type==="child_removed"||(n.prevName=s.getPredecessorChildName(n.childName,n.snapshotNode,i.index_)),n}function gN(i,n,s){if(n.childName==null||s.childName==null)throw ss("Should only compare child_ events.");const a=new ge(n.childName,n.snapshotNode),o=new ge(s.childName,s.snapshotNode);return i.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(i,n){return{eventCache:i,serverCache:n}}function xa(i,n,s,a){return Qo(new Tl(n,s,a),i.serverCache)}function _v(i,n,s,a){return Qo(i.eventCache,new Tl(n,s,a))}function Mo(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function ei(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od;const yN=()=>(Od||(Od=new Ht(tE)),Od);class Ve{static fromObject(n){let s=new Ve(null);return Nt(n,(a,o)=>{s=s.set(new He(a),o)}),s}constructor(n,s=yN()){this.value=n,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,s){if(this.value!=null&&s(this.value))return{path:Re(),value:this.value};if(be(n))return null;{const a=pe(n),o=this.children.get(a);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Qe(n),s);return u!=null?{path:tt(new He(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(be(n))return this;{const s=pe(n),a=this.children.get(s);return a!==null?a.subtree(Qe(n)):new Ve(null)}}set(n,s){if(be(n))return new Ve(s,this.children);{const a=pe(n),u=(this.children.get(a)||new Ve(null)).set(Qe(n),s),h=this.children.insert(a,u);return new Ve(this.value,h)}}remove(n){if(be(n))return this.children.isEmpty()?new Ve(null):new Ve(null,this.children);{const s=pe(n),a=this.children.get(s);if(a){const o=a.remove(Qe(n));let u;return o.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,o),this.value===null&&u.isEmpty()?new Ve(null):new Ve(this.value,u)}else return this}}get(n){if(be(n))return this.value;{const s=pe(n),a=this.children.get(s);return a?a.get(Qe(n)):null}}setTree(n,s){if(be(n))return s;{const a=pe(n),u=(this.children.get(a)||new Ve(null)).setTree(Qe(n),s);let h;return u.isEmpty()?h=this.children.remove(a):h=this.children.insert(a,u),new Ve(this.value,h)}}fold(n){return this.fold_(Re(),n)}fold_(n,s){const a={};return this.children.inorderTraversal((o,u)=>{a[o]=u.fold_(tt(n,o),s)}),s(n,this.value,a)}findOnPath(n,s){return this.findOnPath_(n,Re(),s)}findOnPath_(n,s,a){const o=this.value?a(s,this.value):!1;if(o)return o;if(be(n))return null;{const u=pe(n),h=this.children.get(u);return h?h.findOnPath_(Qe(n),tt(s,u),a):null}}foreachOnPath(n,s){return this.foreachOnPath_(n,Re(),s)}foreachOnPath_(n,s,a){if(be(n))return this;{this.value&&a(s,this.value);const o=pe(n),u=this.children.get(o);return u?u.foreachOnPath_(Qe(n),tt(s,o),a):new Ve(null)}}foreach(n){this.foreach_(Re(),n)}foreach_(n,s){this.children.inorderTraversal((a,o)=>{o.foreach_(tt(n,a),s)}),this.value&&s(n,this.value)}foreachChild(n){this.children.inorderTraversal((s,a)=>{a.value&&n(s,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(n){this.writeTree_=n}static empty(){return new pn(new Ve(null))}}function _a(i,n,s){if(be(n))return new pn(new Ve(s));{const a=i.writeTree_.findRootMostValueAndPath(n);if(a!=null){const o=a.path;let u=a.value;const h=At(o,n);return u=u.updateChild(h,s),new pn(i.writeTree_.set(o,u))}else{const o=new Ve(s),u=i.writeTree_.setTree(n,o);return new pn(u)}}}function Kd(i,n,s){let a=i;return Nt(s,(o,u)=>{a=_a(a,tt(n,o),u)}),a}function G0(i,n){if(be(n))return pn.empty();{const s=i.writeTree_.setTree(n,new Ve(null));return new pn(s)}}function Zd(i,n){return ai(i,n)!=null}function ai(i,n){const s=i.writeTree_.findRootMostValueAndPath(n);return s!=null?i.writeTree_.get(s.path).getChild(At(s.path,n)):null}function Y0(i){const n=[],s=i.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(nt,(a,o)=>{n.push(new ge(a,o))}):i.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&n.push(new ge(a,o.value))}),n}function Nl(i,n){if(be(n))return i;{const s=ai(i,n);return s!=null?new pn(new Ve(s)):new pn(i.writeTree_.subtree(n))}}function Wd(i){return i.writeTree_.isEmpty()}function ns(i,n){return bv(Re(),i.writeTree_,n)}function bv(i,n,s){if(n.value!=null)return s.updateChild(i,n.value);{let a=null;return n.children.inorderTraversal((o,u)=>{o===".priority"?(q(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):s=bv(tt(i,o),u,s)}),!s.getChild(i).isEmpty()&&a!==null&&(s=s.updateChild(tt(i,".priority"),a)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(i,n){return Cv(n,i)}function vN(i,n,s,a,o){q(a>i.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),i.allWrites.push({path:n,snap:s,writeId:a,visible:o}),o&&(i.visibleWrites=_a(i.visibleWrites,n,s)),i.lastWriteId=a}function xN(i,n,s,a){q(a>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:n,children:s,writeId:a,visible:!0}),i.visibleWrites=Kd(i.visibleWrites,n,s),i.lastWriteId=a}function _N(i,n){for(let s=0;s<i.allWrites.length;s++){const a=i.allWrites[s];if(a.writeId===n)return a}return null}function bN(i,n){const s=i.allWrites.findIndex(g=>g.writeId===n);q(s>=0,"removeWrite called with nonexistent writeId.");const a=i.allWrites[s];i.allWrites.splice(s,1);let o=a.visible,u=!1,h=i.allWrites.length-1;for(;o&&h>=0;){const g=i.allWrites[h];g.visible&&(h>=s&&SN(g,a.path)?o=!1:rn(a.path,g.path)&&(u=!0)),h--}if(o){if(u)return EN(i),!0;if(a.snap)i.visibleWrites=G0(i.visibleWrites,a.path);else{const g=a.children;Nt(g,y=>{i.visibleWrites=G0(i.visibleWrites,tt(a.path,y))})}return!0}else return!1}function SN(i,n){if(i.snap)return rn(i.path,n);for(const s in i.children)if(i.children.hasOwnProperty(s)&&rn(tt(i.path,s),n))return!0;return!1}function EN(i){i.visibleWrites=Sv(i.allWrites,NN,Re()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function NN(i){return i.visible}function Sv(i,n,s){let a=pn.empty();for(let o=0;o<i.length;++o){const u=i[o];if(n(u)){const h=u.path;let g;if(u.snap)rn(s,h)?(g=At(s,h),a=_a(a,g,u.snap)):rn(h,s)&&(g=At(h,s),a=_a(a,Re(),u.snap.getChild(g)));else if(u.children){if(rn(s,h))g=At(s,h),a=Kd(a,g,u.children);else if(rn(h,s))if(g=At(h,s),be(g))a=Kd(a,Re(),u.children);else{const y=Ji(u.children,pe(g));if(y){const p=y.getChild(Qe(g));a=_a(a,Re(),p)}}}else throw ss("WriteRecord should have .snap or .children")}}return a}function Ev(i,n,s,a,o){if(!a&&!o){const u=ai(i.visibleWrites,n);if(u!=null)return u;{const h=Nl(i.visibleWrites,n);if(Wd(h))return s;if(s==null&&!Zd(h,Re()))return null;{const g=s||se.EMPTY_NODE;return ns(h,g)}}}else{const u=Nl(i.visibleWrites,n);if(!o&&Wd(u))return s;if(!o&&s==null&&!Zd(u,Re()))return null;{const h=function(p){return(p.visible||o)&&(!a||!~a.indexOf(p.writeId))&&(rn(p.path,n)||rn(n,p.path))},g=Sv(i.allWrites,h,n),y=s||se.EMPTY_NODE;return ns(g,y)}}}function CN(i,n,s){let a=se.EMPTY_NODE;const o=ai(i.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(nt,(u,h)=>{a=a.updateImmediateChild(u,h)}),a;if(s){const u=Nl(i.visibleWrites,n);return s.forEachChild(nt,(h,g)=>{const y=ns(Nl(u,new He(h)),g);a=a.updateImmediateChild(h,y)}),Y0(u).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}else{const u=Nl(i.visibleWrites,n);return Y0(u).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}}function wN(i,n,s,a,o){q(a||o,"Either existingEventSnap or existingServerSnap must exist");const u=tt(n,s);if(Zd(i.visibleWrites,u))return null;{const h=Nl(i.visibleWrites,u);return Wd(h)?o.getChild(s):ns(h,o.getChild(s))}}function TN(i,n,s,a){const o=tt(n,s),u=ai(i.visibleWrites,o);if(u!=null)return u;if(a.isCompleteForChild(s)){const h=Nl(i.visibleWrites,o);return ns(h,a.getNode().getImmediateChild(s))}else return null}function jN(i,n){return ai(i.visibleWrites,n)}function AN(i,n,s,a,o,u,h){let g;const y=Nl(i.visibleWrites,n),p=ai(y,Re());if(p!=null)g=p;else if(s!=null)g=ns(y,s);else return[];if(g=g.withIndex(h),!g.isEmpty()&&!g.isLeafNode()){const _=[],v=h.getCompare(),b=u?g.getReverseIteratorFrom(a,h):g.getIteratorFrom(a,h);let w=b.getNext();for(;w&&_.length<o;)v(w,a)!==0&&_.push(w),w=b.getNext();return _}else return[]}function RN(){return{visibleWrites:pn.empty(),allWrites:[],lastWriteId:-1}}function Oo(i,n,s,a){return Ev(i.writeTree,i.treePath,n,s,a)}function Af(i,n){return CN(i.writeTree,i.treePath,n)}function V0(i,n,s,a){return wN(i.writeTree,i.treePath,n,s,a)}function ko(i,n){return jN(i.writeTree,tt(i.treePath,n))}function DN(i,n,s,a,o,u){return AN(i.writeTree,i.treePath,n,s,a,o,u)}function Rf(i,n,s){return TN(i.writeTree,i.treePath,n,s)}function Nv(i,n){return Cv(tt(i.treePath,n),i.writeTree)}function Cv(i,n){return{treePath:i,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.changeMap=new Map}trackChildChange(n){const s=n.type,a=n.childName;q(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),q(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const u=o.type;if(s==="child_added"&&u==="child_removed")this.changeMap.set(a,Aa(a,n.snapshotNode,o.snapshotNode));else if(s==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(s==="child_removed"&&u==="child_changed")this.changeMap.set(a,ja(a,o.oldSnap));else if(s==="child_changed"&&u==="child_added")this.changeMap.set(a,es(a,n.snapshotNode));else if(s==="child_changed"&&u==="child_changed")this.changeMap.set(a,Aa(a,n.snapshotNode,o.oldSnap));else throw ss("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(a,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{getCompleteChild(n){return null}getChildAfterChild(n,s,a){return null}}const wv=new ON;class Df{constructor(n,s,a=null){this.writes_=n,this.viewCache_=s,this.optCompleteServerCache_=a}getCompleteChild(n){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(n))return s.getNode().getImmediateChild(n);{const a=this.optCompleteServerCache_!=null?new Tl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Rf(this.writes_,n,a)}}getChildAfterChild(n,s,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ei(this.viewCache_),u=DN(this.writes_,o,s,1,a,n);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(i){return{filter:i}}function zN(i,n){q(n.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),q(n.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function LN(i,n,s,a,o){const u=new MN;let h,g;if(s.type===mn.OVERWRITE){const p=s;p.source.fromUser?h=Pd(i,n,p.path,p.snap,a,o,u):(q(p.source.fromServer,"Unknown source."),g=p.source.tagged||n.serverCache.isFiltered()&&!be(p.path),h=zo(i,n,p.path,p.snap,a,o,g,u))}else if(s.type===mn.MERGE){const p=s;p.source.fromUser?h=IN(i,n,p.path,p.children,a,o,u):(q(p.source.fromServer,"Unknown source."),g=p.source.tagged||n.serverCache.isFiltered(),h=Jd(i,n,p.path,p.children,a,o,g,u))}else if(s.type===mn.ACK_USER_WRITE){const p=s;p.revert?h=GN(i,n,p.path,a,o,u):h=HN(i,n,p.path,p.affectedTree,a,o,u)}else if(s.type===mn.LISTEN_COMPLETE)h=BN(i,n,s.path,a,u);else throw ss("Unknown operation type: "+s.type);const y=u.getChanges();return UN(n,h,y),{viewCache:h,changes:y}}function UN(i,n,s){const a=n.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=Mo(i);(s.length>0||!i.eventCache.isFullyInitialized()||o&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&s.push(vv(Mo(n)))}}function Tv(i,n,s,a,o,u){const h=n.eventCache;if(ko(a,s)!=null)return n;{let g,y;if(be(s))if(q(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const p=ei(n),_=p instanceof se?p:se.EMPTY_NODE,v=Af(a,_);g=i.filter.updateFullNode(n.eventCache.getNode(),v,u)}else{const p=Oo(a,ei(n));g=i.filter.updateFullNode(n.eventCache.getNode(),p,u)}else{const p=pe(s);if(p===".priority"){q(wl(s)===1,"Can't have a priority with additional path components");const _=h.getNode();y=n.serverCache.getNode();const v=V0(a,s,_,y);v!=null?g=i.filter.updatePriority(_,v):g=h.getNode()}else{const _=Qe(s);let v;if(h.isCompleteForChild(p)){y=n.serverCache.getNode();const b=V0(a,s,h.getNode(),y);b!=null?v=h.getNode().getImmediateChild(p).updateChild(_,b):v=h.getNode().getImmediateChild(p)}else v=Rf(a,p,n.serverCache);v!=null?g=i.filter.updateChild(h.getNode(),p,v,_,o,u):g=h.getNode()}}return xa(n,g,h.isFullyInitialized()||be(s),i.filter.filtersNodes())}}function zo(i,n,s,a,o,u,h,g){const y=n.serverCache;let p;const _=h?i.filter:i.filter.getIndexedFilter();if(be(s))p=_.updateFullNode(y.getNode(),a,null);else if(_.filtersNodes()&&!y.isFiltered()){const w=y.getNode().updateChild(s,a);p=_.updateFullNode(y.getNode(),w,null)}else{const w=pe(s);if(!y.isCompleteForPath(s)&&wl(s)>1)return n;const j=Qe(s),G=y.getNode().getImmediateChild(w).updateChild(j,a);w===".priority"?p=_.updatePriority(y.getNode(),G):p=_.updateChild(y.getNode(),w,G,j,wv,null)}const v=_v(n,p,y.isFullyInitialized()||be(s),_.filtersNodes()),b=new Df(o,v,u);return Tv(i,v,s,o,b,g)}function Pd(i,n,s,a,o,u,h){const g=n.eventCache;let y,p;const _=new Df(o,n,u);if(be(s))p=i.filter.updateFullNode(n.eventCache.getNode(),a,h),y=xa(n,p,!0,i.filter.filtersNodes());else{const v=pe(s);if(v===".priority")p=i.filter.updatePriority(n.eventCache.getNode(),a),y=xa(n,p,g.isFullyInitialized(),g.isFiltered());else{const b=Qe(s),w=g.getNode().getImmediateChild(v);let j;if(be(b))j=a;else{const D=_.getCompleteChild(v);D!=null?_f(b)===".priority"&&D.getChild(dv(b)).isEmpty()?j=D:j=D.updateChild(b,a):j=se.EMPTY_NODE}if(w.equals(j))y=n;else{const D=i.filter.updateChild(g.getNode(),v,j,b,_,h);y=xa(n,D,g.isFullyInitialized(),i.filter.filtersNodes())}}}return y}function q0(i,n){return i.eventCache.isCompleteForChild(n)}function IN(i,n,s,a,o,u,h){let g=n;return a.foreach((y,p)=>{const _=tt(s,y);q0(n,pe(_))&&(g=Pd(i,g,_,p,o,u,h))}),a.foreach((y,p)=>{const _=tt(s,y);q0(n,pe(_))||(g=Pd(i,g,_,p,o,u,h))}),g}function Q0(i,n,s){return s.foreach((a,o)=>{n=n.updateChild(a,o)}),n}function Jd(i,n,s,a,o,u,h,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let y=n,p;be(s)?p=a:p=new Ve(null).setTree(s,a);const _=n.serverCache.getNode();return p.children.inorderTraversal((v,b)=>{if(_.hasChild(v)){const w=n.serverCache.getNode().getImmediateChild(v),j=Q0(i,w,b);y=zo(i,y,new He(v),j,o,u,h,g)}}),p.children.inorderTraversal((v,b)=>{const w=!n.serverCache.isCompleteForChild(v)&&b.value===null;if(!_.hasChild(v)&&!w){const j=n.serverCache.getNode().getImmediateChild(v),D=Q0(i,j,b);y=zo(i,y,new He(v),D,o,u,h,g)}}),y}function HN(i,n,s,a,o,u,h){if(ko(o,s)!=null)return n;const g=n.serverCache.isFiltered(),y=n.serverCache;if(a.value!=null){if(be(s)&&y.isFullyInitialized()||y.isCompleteForPath(s))return zo(i,n,s,y.getNode().getChild(s),o,u,g,h);if(be(s)){let p=new Ve(null);return y.getNode().forEachChild(Pi,(_,v)=>{p=p.set(new He(_),v)}),Jd(i,n,s,p,o,u,g,h)}else return n}else{let p=new Ve(null);return a.foreach((_,v)=>{const b=tt(s,_);y.isCompleteForPath(b)&&(p=p.set(_,y.getNode().getChild(b)))}),Jd(i,n,s,p,o,u,g,h)}}function BN(i,n,s,a,o){const u=n.serverCache,h=_v(n,u.getNode(),u.isFullyInitialized()||be(s),u.isFiltered());return Tv(i,h,s,a,wv,o)}function GN(i,n,s,a,o,u){let h;if(ko(a,s)!=null)return n;{const g=new Df(a,n,o),y=n.eventCache.getNode();let p;if(be(s)||pe(s)===".priority"){let _;if(n.serverCache.isFullyInitialized())_=Oo(a,ei(n));else{const v=n.serverCache.getNode();q(v instanceof se,"serverChildren would be complete if leaf node"),_=Af(a,v)}_=_,p=i.filter.updateFullNode(y,_,u)}else{const _=pe(s);let v=Rf(a,_,n.serverCache);v==null&&n.serverCache.isCompleteForChild(_)&&(v=y.getImmediateChild(_)),v!=null?p=i.filter.updateChild(y,_,v,Qe(s),g,u):n.eventCache.getNode().hasChild(_)?p=i.filter.updateChild(y,_,se.EMPTY_NODE,Qe(s),g,u):p=y,p.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Oo(a,ei(n)),h.isLeafNode()&&(p=i.filter.updateFullNode(p,h,u)))}return h=n.serverCache.isFullyInitialized()||ko(a,Re())!=null,xa(n,p,h,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(n,s){this.query_=n,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new Nf(a.getIndex()),u=aN(a);this.processor_=kN(u);const h=s.serverCache,g=s.eventCache,y=o.updateFullNode(se.EMPTY_NODE,h.getNode(),null),p=u.updateFullNode(se.EMPTY_NODE,g.getNode(),null),_=new Tl(y,h.isFullyInitialized(),o.filtersNodes()),v=new Tl(p,g.isFullyInitialized(),u.filtersNodes());this.viewCache_=Qo(v,_),this.eventGenerator_=new hN(this.query_)}get query(){return this.query_}}function VN(i){return i.viewCache_.serverCache.getNode()}function qN(i){return Mo(i.viewCache_)}function QN(i,n){const s=ei(i.viewCache_);return s&&(i.query._queryParams.loadsAllData()||!be(n)&&!s.getImmediateChild(pe(n)).isEmpty())?s.getChild(n):null}function X0(i){return i.eventRegistrations_.length===0}function XN(i,n){i.eventRegistrations_.push(n)}function F0(i,n,s){const a=[];if(s){q(n==null,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(s,o);h&&a.push(h)})}if(n){let o=[];for(let u=0;u<i.eventRegistrations_.length;++u){const h=i.eventRegistrations_[u];if(!h.matches(n))o.push(h);else if(n.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=o}else i.eventRegistrations_=[];return a}function K0(i,n,s,a){n.type===mn.MERGE&&n.source.queryId!==null&&(q(ei(i.viewCache_),"We should always have a full cache before handling merges"),q(Mo(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,u=LN(i.processor_,o,n,s,a);return zN(i.processor_,u.viewCache),q(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,jv(i,u.changes,u.viewCache.eventCache.getNode(),null)}function FN(i,n){const s=i.viewCache_.eventCache,a=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(nt,(u,h)=>{a.push(es(u,h))}),s.isFullyInitialized()&&a.push(vv(s.getNode())),jv(i,a,s.getNode(),n)}function jv(i,n,s,a){const o=a?[a]:i.eventRegistrations_;return mN(i.eventGenerator_,n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo;class Av{constructor(){this.views=new Map}}function KN(i){q(!Lo,"__referenceConstructor has already been defined"),Lo=i}function ZN(){return q(Lo,"Reference.ts has not been loaded"),Lo}function WN(i){return i.views.size===0}function Mf(i,n,s,a){const o=n.source.queryId;if(o!==null){const u=i.views.get(o);return q(u!=null,"SyncTree gave us an op for an invalid query."),K0(u,n,s,a)}else{let u=[];for(const h of i.views.values())u=u.concat(K0(h,n,s,a));return u}}function Rv(i,n,s,a,o){const u=n._queryIdentifier,h=i.views.get(u);if(!h){let g=Oo(s,o?a:null),y=!1;g?y=!0:a instanceof se?(g=Af(s,a),y=!1):(g=se.EMPTY_NODE,y=!1);const p=Qo(new Tl(g,y,!1),new Tl(a,o,!1));return new YN(n,p)}return h}function PN(i,n,s,a,o,u){const h=Rv(i,n,a,o,u);return i.views.has(n._queryIdentifier)||i.views.set(n._queryIdentifier,h),XN(h,s),FN(h,s)}function JN(i,n,s,a){const o=n._queryIdentifier,u=[];let h=[];const g=jl(i);if(o==="default")for(const[y,p]of i.views.entries())h=h.concat(F0(p,s,a)),X0(p)&&(i.views.delete(y),p.query._queryParams.loadsAllData()||u.push(p.query));else{const y=i.views.get(o);y&&(h=h.concat(F0(y,s,a)),X0(y)&&(i.views.delete(o),y.query._queryParams.loadsAllData()||u.push(y.query)))}return g&&!jl(i)&&u.push(new(ZN())(n._repo,n._path)),{removed:u,events:h}}function Dv(i){const n=[];for(const s of i.views.values())s.query._queryParams.loadsAllData()||n.push(s);return n}function Cl(i,n){let s=null;for(const a of i.views.values())s=s||QN(a,n);return s}function Mv(i,n){if(n._queryParams.loadsAllData())return Fo(i);{const a=n._queryIdentifier;return i.views.get(a)}}function Ov(i,n){return Mv(i,n)!=null}function jl(i){return Fo(i)!=null}function Fo(i){for(const n of i.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo;function $N(i){q(!Uo,"__referenceConstructor has already been defined"),Uo=i}function eC(){return q(Uo,"Reference.ts has not been loaded"),Uo}let tC=1;class Z0{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ve(null),this.pendingWriteTree_=RN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function kv(i,n,s,a,o){return vN(i.pendingWriteTree_,n,s,a,o),o?rs(i,new $l(wf(),n,s)):[]}function nC(i,n,s,a){xN(i.pendingWriteTree_,n,s,a);const o=Ve.fromObject(s);return rs(i,new ts(wf(),n,o))}function bl(i,n,s=!1){const a=_N(i.pendingWriteTree_,n);if(bN(i.pendingWriteTree_,n)){let u=new Ve(null);return a.snap!=null?u=u.set(Re(),!0):Nt(a.children,h=>{u=u.set(new He(h),!0)}),rs(i,new Do(a.path,u,s))}else return[]}function Ya(i,n,s){return rs(i,new $l(Tf(),n,s))}function lC(i,n,s){const a=Ve.fromObject(s);return rs(i,new ts(Tf(),n,a))}function iC(i,n){return rs(i,new Da(Tf(),n))}function sC(i,n,s){const a=kf(i,s);if(a){const o=zf(a),u=o.path,h=o.queryId,g=At(u,n),y=new Da(jf(h),g);return Lf(i,u,y)}else return[]}function Io(i,n,s,a,o=!1){const u=n._path,h=i.syncPointTree_.get(u);let g=[];if(h&&(n._queryIdentifier==="default"||Ov(h,n))){const y=JN(h,n,s,a);WN(h)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const p=y.removed;if(g=y.events,!o){const _=p.findIndex(b=>b._queryParams.loadsAllData())!==-1,v=i.syncPointTree_.findOnPath(u,(b,w)=>jl(w));if(_&&!v){const b=i.syncPointTree_.subtree(u);if(!b.isEmpty()){const w=oC(b);for(let j=0;j<w.length;++j){const D=w[j],G=D.query,Y=Iv(i,D);i.listenProvider_.startListening(ba(G),Ma(i,G),Y.hashFn,Y.onComplete)}}}!v&&p.length>0&&!a&&(_?i.listenProvider_.stopListening(ba(n),null):p.forEach(b=>{const w=i.queryToTagMap.get(Ko(b));i.listenProvider_.stopListening(ba(b),w)}))}cC(i,p)}return g}function zv(i,n,s,a){const o=kf(i,a);if(o!=null){const u=zf(o),h=u.path,g=u.queryId,y=At(h,n),p=new $l(jf(g),y,s);return Lf(i,h,p)}else return[]}function aC(i,n,s,a){const o=kf(i,a);if(o){const u=zf(o),h=u.path,g=u.queryId,y=At(h,n),p=Ve.fromObject(s),_=new ts(jf(g),y,p);return Lf(i,h,_)}else return[]}function $d(i,n,s,a=!1){const o=n._path;let u=null,h=!1;i.syncPointTree_.foreachOnPath(o,(b,w)=>{const j=At(b,o);u=u||Cl(w,j),h=h||jl(w)});let g=i.syncPointTree_.get(o);g?(h=h||jl(g),u=u||Cl(g,Re())):(g=new Av,i.syncPointTree_=i.syncPointTree_.set(o,g));let y;u!=null?y=!0:(y=!1,u=se.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((w,j)=>{const D=Cl(j,Re());D&&(u=u.updateImmediateChild(w,D))}));const p=Ov(g,n);if(!p&&!n._queryParams.loadsAllData()){const b=Ko(n);q(!i.queryToTagMap.has(b),"View does not exist, but we have a tag");const w=uC();i.queryToTagMap.set(b,w),i.tagToQueryMap.set(w,b)}const _=Xo(i.pendingWriteTree_,o);let v=PN(g,n,s,_,u,y);if(!p&&!h&&!a){const b=Mv(g,n);v=v.concat(dC(i,n,b))}return v}function Of(i,n,s){const o=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(n,(h,g)=>{const y=At(h,n),p=Cl(g,y);if(p)return p});return Ev(o,n,u,s,!0)}function rC(i,n){const s=n._path;let a=null;i.syncPointTree_.foreachOnPath(s,(p,_)=>{const v=At(p,s);a=a||Cl(_,v)});let o=i.syncPointTree_.get(s);o?a=a||Cl(o,Re()):(o=new Av,i.syncPointTree_=i.syncPointTree_.set(s,o));const u=a!=null,h=u?new Tl(a,!0,!1):null,g=Xo(i.pendingWriteTree_,n._path),y=Rv(o,n,g,u?h.getNode():se.EMPTY_NODE,u);return qN(y)}function rs(i,n){return Lv(n,i.syncPointTree_,null,Xo(i.pendingWriteTree_,Re()))}function Lv(i,n,s,a){if(be(i.path))return Uv(i,n,s,a);{const o=n.get(Re());s==null&&o!=null&&(s=Cl(o,Re()));let u=[];const h=pe(i.path),g=i.operationForChild(h),y=n.children.get(h);if(y&&g){const p=s?s.getImmediateChild(h):null,_=Nv(a,h);u=u.concat(Lv(g,y,p,_))}return o&&(u=u.concat(Mf(o,i,a,s))),u}}function Uv(i,n,s,a){const o=n.get(Re());s==null&&o!=null&&(s=Cl(o,Re()));let u=[];return n.children.inorderTraversal((h,g)=>{const y=s?s.getImmediateChild(h):null,p=Nv(a,h),_=i.operationForChild(h);_&&(u=u.concat(Uv(_,g,y,p)))}),o&&(u=u.concat(Mf(o,i,a,s))),u}function Iv(i,n){const s=n.query,a=Ma(i,s);return{hashFn:()=>(VN(n)||se.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?sC(i,s._path,a):iC(i,s._path);{const u=iE(o,s);return Io(i,s,null,u)}}}}function Ma(i,n){const s=Ko(n);return i.queryToTagMap.get(s)}function Ko(i){return i._path.toString()+"$"+i._queryIdentifier}function kf(i,n){return i.tagToQueryMap.get(n)}function zf(i){const n=i.indexOf("$");return q(n!==-1&&n<i.length-1,"Bad queryKey."),{queryId:i.substr(n+1),path:new He(i.substr(0,n))}}function Lf(i,n,s){const a=i.syncPointTree_.get(n);q(a,"Missing sync point for query tag that we're tracking");const o=Xo(i.pendingWriteTree_,n);return Mf(a,s,o,null)}function oC(i){return i.fold((n,s,a)=>{if(s&&jl(s))return[Fo(s)];{let o=[];return s&&(o=Dv(s)),Nt(a,(u,h)=>{o=o.concat(h)}),o}})}function ba(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(eC())(i._repo,i._path):i}function cC(i,n){for(let s=0;s<n.length;++s){const a=n[s];if(!a._queryParams.loadsAllData()){const o=Ko(a),u=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(u)}}}function uC(){return tC++}function dC(i,n,s){const a=n._path,o=Ma(i,n),u=Iv(i,s),h=i.listenProvider_.startListening(ba(n),o,u.hashFn,u.onComplete),g=i.syncPointTree_.subtree(a);if(o)q(!jl(g.value),"If we're adding a query, it shouldn't be shadowed");else{const y=g.fold((p,_,v)=>{if(!be(p)&&_&&jl(_))return[Fo(_).query];{let b=[];return _&&(b=b.concat(Dv(_).map(w=>w.query))),Nt(v,(w,j)=>{b=b.concat(j)}),b}});for(let p=0;p<y.length;++p){const _=y[p];i.listenProvider_.stopListening(ba(_),Ma(i,_))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(n){this.node_=n}getImmediateChild(n){const s=this.node_.getImmediateChild(n);return new Uf(s)}node(){return this.node_}}class If{constructor(n,s){this.syncTree_=n,this.path_=s}getImmediateChild(n){const s=tt(this.path_,n);return new If(this.syncTree_,s)}node(){return Of(this.syncTree_,this.path_)}}const fC=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},W0=function(i,n,s){if(!i||typeof i!="object")return i;if(q(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return hC(i[".sv"],n,s);if(typeof i[".sv"]=="object")return mC(i[".sv"],n);q(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},hC=function(i,n,s){switch(i){case"timestamp":return s.timestamp;default:q(!1,"Unexpected server value: "+i)}},mC=function(i,n,s){i.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const a=i.increment;typeof a!="number"&&q(!1,"Unexpected increment value: "+a);const o=n.node();if(q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const h=o.getValue();return typeof h!="number"?a:h+a},Hv=function(i,n,s,a){return Hf(n,new If(s,i),a)},Bv=function(i,n,s){return Hf(i,new Uf(n),s)};function Hf(i,n,s){const a=i.getPriority().val(),o=W0(a,n.getImmediateChild(".priority"),s);let u;if(i.isLeafNode()){const h=i,g=W0(h.getValue(),n,s);return g!==h.getValue()||o!==h.getPriority().val()?new mt(g,ut(o)):i}else{const h=i;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new mt(o))),h.forEachChild(nt,(g,y)=>{const p=Hf(y,n.getImmediateChild(g),s);p!==y&&(u=u.updateImmediateChild(g,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(n="",s=null,a={children:{},childCount:0}){this.name=n,this.parent=s,this.node=a}}function Gf(i,n){let s=n instanceof He?n:new He(n),a=i,o=pe(s);for(;o!==null;){const u=Ji(a.node.children,o)||{children:{},childCount:0};a=new Bf(o,a,u),s=Qe(s),o=pe(s)}return a}function os(i){return i.node.value}function Gv(i,n){i.node.value=n,ef(i)}function Yv(i){return i.node.childCount>0}function pC(i){return os(i)===void 0&&!Yv(i)}function Zo(i,n){Nt(i.node.children,(s,a)=>{n(new Bf(s,i,a))})}function Vv(i,n,s,a){s&&n(i),Zo(i,o=>{Vv(o,n,!0)})}function gC(i,n,s){let a=i.parent;for(;a!==null;){if(n(a))return!0;a=a.parent}return!1}function Va(i){return new He(i.parent===null?i.name:Va(i.parent)+"/"+i.name)}function ef(i){i.parent!==null&&yC(i.parent,i.name,i)}function yC(i,n,s){const a=pC(s),o=Sn(i.node.children,n);a&&o?(delete i.node.children[n],i.node.childCount--,ef(i)):!a&&!o&&(i.node.children[n]=s.node,i.node.childCount++,ef(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=/[\[\].#$\/\u0000-\u001F\u007F]/,xC=/[\[\].#$\u0000-\u001F\u007F]/,kd=10*1024*1024,Yf=function(i){return typeof i=="string"&&i.length!==0&&!vC.test(i)},qv=function(i){return typeof i=="string"&&i.length!==0&&!xC.test(i)},_C=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),qv(i)},bC=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!pf(i)||i&&typeof i=="object"&&Sn(i,".sv")},Qv=function(i,n,s,a){a&&n===void 0||Wo(Yo(i,"value"),n,s)},Wo=function(i,n,s){const a=s instanceof He?new IE(s,i):s;if(n===void 0)throw new Error(i+"contains undefined "+Wl(a));if(typeof n=="function")throw new Error(i+"contains a function "+Wl(a)+" with contents = "+n.toString());if(pf(n))throw new Error(i+"contains "+n.toString()+" "+Wl(a));if(typeof n=="string"&&n.length>kd/3&&Vo(n)>kd)throw new Error(i+"contains a string greater than "+kd+" utf8 bytes "+Wl(a)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,u=!1;if(Nt(n,(h,g)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!Yf(h)))throw new Error(i+" contains an invalid key ("+h+") "+Wl(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);HE(a,h),Wo(i,g,a),BE(a)}),o&&u)throw new Error(i+' contains ".value" child '+Wl(a)+" in addition to actual children.")}},SC=function(i,n){let s,a;for(s=0;s<n.length;s++){a=n[s];const u=Ta(a);for(let h=0;h<u.length;h++)if(!(u[h]===".priority"&&h===u.length-1)){if(!Yf(u[h]))throw new Error(i+"contains an invalid key ("+u[h]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(UE);let o=null;for(s=0;s<n.length;s++){if(a=n[s],o!==null&&rn(o,a))throw new Error(i+"contains a path "+o.toString()+" that is ancestor of another path "+a.toString());o=a}},EC=function(i,n,s,a){const o=Yo(i,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const u=[];Nt(n,(h,g)=>{const y=new He(h);if(Wo(o,g,tt(s,y)),_f(y)===".priority"&&!bC(g))throw new Error(o+"contains an invalid value for '"+y.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(y)}),SC(o,u)},Xv=function(i,n,s,a){if(!qv(s))throw new Error(Yo(i,n)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},NC=function(i,n,s,a){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Xv(i,n,s)},Vf=function(i,n){if(pe(n)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},CC=function(i,n){const s=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Yf(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!_C(s))throw new Error(Yo(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Po(i,n){let s=null;for(let a=0;a<n.length;a++){const o=n[a],u=o.getPath();s!==null&&!bf(u,s.path)&&(i.eventLists_.push(s),s=null),s===null&&(s={events:[],path:u}),s.events.push(o)}s&&i.eventLists_.push(s)}function Fv(i,n,s){Po(i,s),Kv(i,a=>bf(a,n))}function on(i,n,s){Po(i,s),Kv(i,a=>rn(a,n)||rn(n,a))}function Kv(i,n){i.recursionDepth_++;let s=!0;for(let a=0;a<i.eventLists_.length;a++){const o=i.eventLists_[a];if(o){const u=o.path;n(u)?(TC(i.eventLists_[a]),i.eventLists_[a]=null):s=!1}}s&&(i.eventLists_=[]),i.recursionDepth_--}function TC(i){for(let n=0;n<i.events.length;n++){const s=i.events[n];if(s!==null){i.events[n]=null;const a=s.getEventRunner();ya&&bt("event: "+s.toString()),as(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="repo_interrupt",AC=25;class RC{constructor(n,s,a,o){this.repoInfo_=n,this.forceRestClient_=s,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ro(),this.transactionQueueTree_=new Bf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DC(i,n,s){if(i.stats_=vf(i.repoInfo_),i.forceRestClient_||oE())i.server_=new Ao(i.repoInfo_,(a,o,u,h)=>{P0(i,a,o,u,h)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>J0(i,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(s)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}i.persistentConnection_=new qn(i.repoInfo_,n,(a,o,u,h)=>{P0(i,a,o,u,h)},a=>{J0(i,a)},a=>{MC(i,a)},i.authTokenProvider_,i.appCheckProvider_,s),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(a=>{i.server_.refreshAuthToken(a)}),i.appCheckProvider_.addTokenChangeListener(a=>{i.server_.refreshAppCheckToken(a.token)}),i.statsReporter_=hE(i.repoInfo_,()=>new fN(i.stats_,i.server_)),i.infoData_=new rN,i.infoSyncTree_=new Z0({startListening:(a,o,u,h)=>{let g=[];const y=i.infoData_.getNode(a._path);return y.isEmpty()||(g=Ya(i.infoSyncTree_,a._path,y),setTimeout(()=>{h("ok")},0)),g},stopListening:()=>{}}),qf(i,"connected",!1),i.serverSyncTree_=new Z0({startListening:(a,o,u,h)=>(i.server_.listen(a,u,o,(g,y)=>{const p=h(g,y);on(i.eventQueue_,a._path,p)}),[]),stopListening:(a,o)=>{i.server_.unlisten(a,o)}})}function Zv(i){const s=i.infoData_.getNode(new He(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function Jo(i){return fC({timestamp:Zv(i)})}function P0(i,n,s,a,o){i.dataUpdateCount++;const u=new He(n);s=i.interceptServerDataCallback_?i.interceptServerDataCallback_(n,s):s;let h=[];if(o)if(a){const y=So(s,p=>ut(p));h=aC(i.serverSyncTree_,u,y,o)}else{const y=ut(s);h=zv(i.serverSyncTree_,u,y,o)}else if(a){const y=So(s,p=>ut(p));h=lC(i.serverSyncTree_,u,y)}else{const y=ut(s);h=Ya(i.serverSyncTree_,u,y)}let g=u;h.length>0&&(g=ls(i,u)),on(i.eventQueue_,g,h)}function J0(i,n){qf(i,"connected",n),n===!1&&LC(i)}function MC(i,n){Nt(n,(s,a)=>{qf(i,s,a)})}function qf(i,n,s){const a=new He("/.info/"+n),o=ut(s);i.infoData_.updateSnapshot(a,o);const u=Ya(i.infoSyncTree_,a,o);on(i.eventQueue_,a,u)}function Qf(i){return i.nextWriteId_++}function OC(i,n,s){const a=rC(i.serverSyncTree_,n);return a!=null?Promise.resolve(a):i.server_.get(n).then(o=>{const u=ut(o).withIndex(n._queryParams.getIndex());$d(i.serverSyncTree_,n,s,!0);let h;if(n._queryParams.loadsAllData())h=Ya(i.serverSyncTree_,n._path,u);else{const g=Ma(i.serverSyncTree_,n);h=zv(i.serverSyncTree_,n._path,u,g)}return on(i.eventQueue_,n._path,h),Io(i.serverSyncTree_,n,s,null,!0),u},o=>(qa(i,"get for query "+dt(n)+" failed: "+o),Promise.reject(new Error(o))))}function kC(i,n,s,a,o){qa(i,"set",{path:n.toString(),value:s,priority:a});const u=Jo(i),h=ut(s,a),g=Of(i.serverSyncTree_,n),y=Bv(h,g,u),p=Qf(i),_=kv(i.serverSyncTree_,n,y,p,!0);Po(i.eventQueue_,_),i.server_.put(n.toString(),h.val(!0),(b,w)=>{const j=b==="ok";j||Rt("set at "+n+" failed: "+b);const D=bl(i.serverSyncTree_,p,!j);on(i.eventQueue_,n,D),tf(i,o,b,w)});const v=Ff(i,n);ls(i,v),on(i.eventQueue_,v,[])}function zC(i,n,s,a){qa(i,"update",{path:n.toString(),value:s});let o=!0;const u=Jo(i),h={};if(Nt(s,(g,y)=>{o=!1,h[g]=Hv(tt(n,g),ut(y),i.serverSyncTree_,u)}),o)bt("update() called with empty data.  Don't do anything."),tf(i,a,"ok",void 0);else{const g=Qf(i),y=nC(i.serverSyncTree_,n,h,g);Po(i.eventQueue_,y),i.server_.merge(n.toString(),s,(p,_)=>{const v=p==="ok";v||Rt("update at "+n+" failed: "+p);const b=bl(i.serverSyncTree_,g,!v),w=b.length>0?ls(i,n):n;on(i.eventQueue_,w,b),tf(i,a,p,_)}),Nt(s,p=>{const _=Ff(i,tt(n,p));ls(i,_)}),on(i.eventQueue_,n,[])}}function LC(i){qa(i,"onDisconnectEvents");const n=Jo(i),s=Ro();Fd(i.onDisconnect_,Re(),(o,u)=>{const h=Hv(o,u,i.serverSyncTree_,n);xv(s,o,h)});let a=[];Fd(s,Re(),(o,u)=>{a=a.concat(Ya(i.serverSyncTree_,o,u));const h=Ff(i,o);ls(i,h)}),i.onDisconnect_=Ro(),on(i.eventQueue_,Re(),a)}function UC(i,n,s){let a;pe(n._path)===".info"?a=$d(i.infoSyncTree_,n,s):a=$d(i.serverSyncTree_,n,s),Fv(i.eventQueue_,n._path,a)}function $0(i,n,s){let a;pe(n._path)===".info"?a=Io(i.infoSyncTree_,n,s):a=Io(i.serverSyncTree_,n,s),Fv(i.eventQueue_,n._path,a)}function IC(i){i.persistentConnection_&&i.persistentConnection_.interrupt(jC)}function qa(i,...n){let s="";i.persistentConnection_&&(s=i.persistentConnection_.id+":"),bt(s,...n)}function tf(i,n,s,a){n&&as(()=>{if(s==="ok")n(null);else{const o=(s||"error").toUpperCase();let u=o;a&&(u+=": "+a);const h=new Error(u);h.code=o,n(h)}})}function Wv(i,n,s){return Of(i.serverSyncTree_,n,s)||se.EMPTY_NODE}function Xf(i,n=i.transactionQueueTree_){if(n||$o(i,n),os(n)){const s=Jv(i,n);q(s.length>0,"Sending zero length transaction queue"),s.every(o=>o.status===0)&&HC(i,Va(n),s)}else Yv(n)&&Zo(n,s=>{Xf(i,s)})}function HC(i,n,s){const a=s.map(p=>p.currentWriteId),o=Wv(i,n,a);let u=o;const h=o.hash();for(let p=0;p<s.length;p++){const _=s[p];q(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const v=At(n,_.path);u=u.updateChild(v,_.currentOutputSnapshotRaw)}const g=u.val(!0),y=n;i.server_.put(y.toString(),g,p=>{qa(i,"transaction put response",{path:y.toString(),status:p});let _=[];if(p==="ok"){const v=[];for(let b=0;b<s.length;b++)s[b].status=2,_=_.concat(bl(i.serverSyncTree_,s[b].currentWriteId)),s[b].onComplete&&v.push(()=>s[b].onComplete(null,!0,s[b].currentOutputSnapshotResolved)),s[b].unwatcher();$o(i,Gf(i.transactionQueueTree_,n)),Xf(i,i.transactionQueueTree_),on(i.eventQueue_,n,_);for(let b=0;b<v.length;b++)as(v[b])}else{if(p==="datastale")for(let v=0;v<s.length;v++)s[v].status===3?s[v].status=4:s[v].status=0;else{Rt("transaction at "+y.toString()+" failed: "+p);for(let v=0;v<s.length;v++)s[v].status=4,s[v].abortReason=p}ls(i,n)}},h)}function ls(i,n){const s=Pv(i,n),a=Va(s),o=Jv(i,s);return BC(i,o,a),a}function BC(i,n,s){if(n.length===0)return;const a=[];let o=[];const h=n.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const y=n[g],p=At(s,y.path);let _=!1,v;if(q(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),y.status===4)_=!0,v=y.abortReason,o=o.concat(bl(i.serverSyncTree_,y.currentWriteId,!0));else if(y.status===0)if(y.retryCount>=AC)_=!0,v="maxretry",o=o.concat(bl(i.serverSyncTree_,y.currentWriteId,!0));else{const b=Wv(i,y.path,h);y.currentInputSnapshot=b;const w=n[g].update(b.val());if(w!==void 0){Wo("transaction failed: Data returned ",w,y.path);let j=ut(w);typeof w=="object"&&w!=null&&Sn(w,".priority")||(j=j.updatePriority(b.getPriority()));const G=y.currentWriteId,Y=Jo(i),Q=Bv(j,b,Y);y.currentOutputSnapshotRaw=j,y.currentOutputSnapshotResolved=Q,y.currentWriteId=Qf(i),h.splice(h.indexOf(G),1),o=o.concat(kv(i.serverSyncTree_,y.path,Q,y.currentWriteId,y.applyLocally)),o=o.concat(bl(i.serverSyncTree_,G,!0))}else _=!0,v="nodata",o=o.concat(bl(i.serverSyncTree_,y.currentWriteId,!0))}on(i.eventQueue_,s,o),o=[],_&&(n[g].status=2,(function(b){setTimeout(b,Math.floor(0))})(n[g].unwatcher),n[g].onComplete&&(v==="nodata"?a.push(()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot)):a.push(()=>n[g].onComplete(new Error(v),!1,null))))}$o(i,i.transactionQueueTree_);for(let g=0;g<a.length;g++)as(a[g]);Xf(i,i.transactionQueueTree_)}function Pv(i,n){let s,a=i.transactionQueueTree_;for(s=pe(n);s!==null&&os(a)===void 0;)a=Gf(a,s),n=Qe(n),s=pe(n);return a}function Jv(i,n){const s=[];return $v(i,n,s),s.sort((a,o)=>a.order-o.order),s}function $v(i,n,s){const a=os(n);if(a)for(let o=0;o<a.length;o++)s.push(a[o]);Zo(n,o=>{$v(i,o,s)})}function $o(i,n){const s=os(n);if(s){let a=0;for(let o=0;o<s.length;o++)s[o].status!==2&&(s[a]=s[o],a++);s.length=a,Gv(n,s.length>0?s:void 0)}Zo(n,a=>{$o(i,a)})}function Ff(i,n){const s=Va(Pv(i,n)),a=Gf(i.transactionQueueTree_,n);return gC(a,o=>{zd(i,o)}),zd(i,a),Vv(a,o=>{zd(i,o)}),s}function zd(i,n){const s=os(n);if(s){const a=[];let o=[],u=-1;for(let h=0;h<s.length;h++)s[h].status===3||(s[h].status===1?(q(u===h-1,"All SENT items should be at beginning of queue."),u=h,s[h].status=3,s[h].abortReason="set"):(q(s[h].status===0,"Unexpected transaction status in abort"),s[h].unwatcher(),o=o.concat(bl(i.serverSyncTree_,s[h].currentWriteId,!0)),s[h].onComplete&&a.push(s[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Gv(n,void 0):s.length=u+1,on(i.eventQueue_,Va(n),o);for(let h=0;h<a.length;h++)as(a[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(i){let n="";const s=i.split("/");for(let a=0;a<s.length;a++)if(s[a].length>0){let o=s[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function YC(i){const n={};i.charAt(0)==="?"&&(i=i.substring(1));for(const s of i.split("&")){if(s.length===0)continue;const a=s.split("=");a.length===2?n[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Rt(`Invalid query segment '${s}' in query '${i}'`)}return n}const ey=function(i,n){const s=VC(i),a=s.namespace;s.domain==="firebase.com"&&Fn(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&s.domain!=="localhost"&&Fn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||$S();const o=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new nv(s.host,s.secure,a,o,n,"",a!==s.subdomain),path:new He(s.pathString)}},VC=function(i){let n="",s="",a="",o="",u="",h=!0,g="https",y=443;if(typeof i=="string"){let p=i.indexOf("//");p>=0&&(g=i.substring(0,p-1),i=i.substring(p+2));let _=i.indexOf("/");_===-1&&(_=i.length);let v=i.indexOf("?");v===-1&&(v=i.length),n=i.substring(0,Math.min(_,v)),_<v&&(o=GC(i.substring(_,v)));const b=YC(i.substring(Math.min(i.length,v)));p=n.indexOf(":"),p>=0?(h=g==="https"||g==="wss",y=parseInt(n.substring(p+1),10)):p=n.length;const w=n.slice(0,p);if(w.toLowerCase()==="localhost")s="localhost";else if(w.split(".").length<=2)s=w;else{const j=n.indexOf(".");a=n.substring(0,j).toLowerCase(),s=n.substring(j+1),u=a}"ns"in b&&(u=b.ns)}return{host:n,port:y,domain:s,subdomain:a,secure:h,scheme:g,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qC=(function(){let i=0;const n=[];return function(s){const a=s===i;i=s;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=ty.charAt(s%64),s=Math.floor(s/64);q(s===0,"Cannot push at time == 0");let h=u.join("");if(a){for(o=11;o>=0&&n[o]===63;o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=ty.charAt(n[o]);return q(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(n,s,a,o){this.eventType=n,this.eventRegistration=s,this.snapshot=a,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class XC{constructor(n,s,a){this.eventRegistration=n,this.error=s,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(n,s){this.snapshotCallback=n,this.cancelCallback=s}onValue(n,s){this.snapshotCallback.call(null,n,s)}onCancel(n){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(n,s,a,o){this._repo=n,this._path=s,this._queryParams=a,this._orderByCalled=o}get key(){return be(this._path)?null:_f(this._path)}get ref(){return new Zn(this._repo,this._path)}get _queryIdentifier(){const n=H0(this._queryParams),s=gf(n);return s==="{}"?"default":s}get _queryObject(){return H0(this._queryParams)}isEqual(n){if(n=ii(n),!(n instanceof Kf))return!1;const s=this._repo===n._repo,a=bf(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return s&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+LE(this._path)}}class Zn extends Kf{constructor(n,s){super(n,s,new Cf,!1)}get parent(){const n=dv(this._path);return n===null?null:new Zn(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Oa{constructor(n,s,a){this._node=n,this.ref=s,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const s=new He(n),a=ti(this.ref,n);return new Oa(this._node.getChild(s),a,nt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>n(new Oa(o,ti(this.ref,a),nt)))}hasChild(n){const s=new He(n);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function St(i,n){return i=ii(i),i._checkNotDeleted("ref"),n!==void 0?ti(i._root,n):i._root}function ti(i,n){return i=ii(i),pe(i._path)===null?NC("child","path",n):Xv("child","path",n),new Zn(i._repo,tt(i._path,n))}function nf(i,n){i=ii(i),Vf("push",i._path),Qv("push",n,i._path,!0);const s=Zv(i._repo),a=qC(s),o=ti(i,a),u=ti(i,a);let h;return h=Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function FC(i){return Vf("remove",i._path),an(i,null)}function an(i,n){i=ii(i),Vf("set",i._path),Qv("set",n,i._path,!1);const s=new Ua;return kC(i._repo,i._path,n,null,s.wrapCallback(()=>{})),s.promise}function KC(i,n){EC("update",n,i._path);const s=new Ua;return zC(i._repo,i._path,n,s.wrapCallback(()=>{})),s.promise}function lf(i){i=ii(i);const n=new ex(()=>{}),s=new ec(n);return OC(i._repo,i,s).then(a=>new Oa(a,new Zn(i._repo,i._path),i._queryParams.getIndex()))}class ec{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,s){const a=s._queryParams.getIndex();return new QC("value",this,new Oa(n.snapshotNode,new Zn(s._repo,s._path),a))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,s){return this.callbackContext.hasCancelCallback?new XC(this,n,s):null}matches(n){return n instanceof ec?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function ZC(i,n,s,a,o){let u;if(typeof a=="object"&&(u=void 0,o=a),typeof a=="function"&&(u=a),o&&o.onlyOnce){const y=s,p=(_,v)=>{$0(i._repo,i,g),y(_,v)};p.userCallback=s.userCallback,p.context=s.context,s=p}const h=new ex(s,u||void 0),g=new ec(h);return UC(i._repo,i,g),()=>$0(i._repo,i,g)}function Zf(i,n,s,a){return ZC(i,"value",n,s,a)}KN(Zn);$N(Zn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="FIREBASE_DATABASE_EMULATOR_HOST",sf={};let PC=!1;function JC(i,n,s,a){const o=n.lastIndexOf(":"),u=n.substring(0,o),h=hf(u);i.repoInfo_=new nv(n,h,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,s),a&&(i.authTokenProvider_=a)}function $C(i,n,s,a,o){let u=a||i.options.databaseURL;u===void 0&&(i.options.projectId||Fn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let h=ey(u,o),g=h.repoInfo,y;typeof process<"u"&&b0&&(y=b0[WC]),y?(u=`http://${y}?ns=${g.namespace}`,h=ey(u,o),g=h.repoInfo):h.repoInfo.secure;const p=new uE(i.name,i.options,n);CC("Invalid Firebase Database URL",h),be(h.path)||Fn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=tw(g,i,p,new cE(i,s));return new nw(_,i)}function ew(i,n){const s=sf[n];(!s||s[i.key]!==i)&&Fn(`Database ${n}(${i.repoInfo_}) has already been deleted.`),IC(i),delete s[i.key]}function tw(i,n,s,a){let o=sf[n.name];o||(o={},sf[n.name]=o);let u=o[i.toURLString()];return u&&Fn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new RC(i,PC,s,a),o[i.toURLString()]=u,u}class nw{constructor(n,s){this._repoInternal=n,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zn(this._repo,Re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ew(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Fn("Cannot call "+n+" on a deleted database.")}}function lw(i=LS(),n){const s=DS(i,"database").getImmediate({identifier:n});if(!s._instanceStarted){const a=g2("database");a&&iw(s,...a)}return s}function iw(i,n,s,a={}){i=ii(i),i._checkNotDeleted("useEmulator");const o=`${n}:${s}`,u=i._repoInternal;if(i._instanceStarted){if(o===i._repoInternal.repoInfo_.host&&Eo(a,u.repoInfo_.emulatorOptions))return;Fn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)a.mockUserToken&&Fn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new xo(xo.OWNER);else if(a.mockUserToken){const g=typeof a.mockUserToken=="string"?a.mockUserToken:v2(a.mockUserToken,i.app.options.projectId);h=new xo(g)}hf(n)&&(y2(n),b2("Database",!0)),JC(u,o,a,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(i){FS(zS),Co(new Na("database",(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),u=n.getProvider("app-check-internal");return $C(a,o,u,s)},"PUBLIC").setMultipleInstances(!0)),Zi(S0,E0,i),Zi(S0,E0,"esm2020")}qn.prototype.simpleListen=function(i,n){this.sendRequest("q",{p:i},n)};qn.prototype.echo=function(i,n){this.sendRequest("echo",{d:i},n)};sw();var aw="firebase",rw="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(aw,rw,"app");const ow={apiKey:"AIzaSyBQkgrumfwI49Crnhi9y7wImYzNF3D87sg",authDomain:"safaa-platform.firebaseapp.com",databaseURL:"https://safaa-platform-default-rtdb.firebaseio.com",projectId:"safaa-platform",storageBucket:"safaa-platform.firebasestorage.app",messagingSenderId:"393592099948",appId:"1:393592099948:web:4bf8cf070d411b124a3449",measurementId:"G-6WMNK2PL40"},cw=Hy(ow),Et=lw(cw),ma=[{id:"1st-prep",title:"1st Prep",titleAr:"  ",image:"sections/1st_prep.jpeg",description:"Explore the basics of matter, energy, and living organisms.",lessons:[]},{id:"2nd-prep",title:"2nd Prep",titleAr:"  ",image:"sections/2nd_prep.jpeg",description:"Dive deep into periodic tables, waves, and sound mechanics.",lessons:[]},{id:"3rd-prep",title:"3rd Prep",titleAr:"  ",image:"sections/3rd_prep.jpeg",description:"Master physics, genetics, and the wonders of the universe.",lessons:[]}],pa="platform_content";function Al(){const[i,n]=E.useState(ma),[s,a]=E.useState(!0);E.useEffect(()=>{const y=St(Et,pa),p=Zf(y,_=>{if(_.exists()){const v=_.val(),w=(Array.isArray(v)?v:Object.values(v)).map(j=>({...j,lessons:j.lessons||[]}));n(w)}else an(y,ma),n(ma);a(!1)},_=>{console.error("Firebase read error:",_),n(ma),a(!1)});return()=>p()},[]);const o=E.useCallback((y,p)=>{const _=i.map(v=>v.id===y?{...v,lessons:[...v.lessons,p]}:v);an(St(Et,pa),_)},[i]),u=E.useCallback((y,p)=>{const _=i.map(v=>v.id===y?{...v,lessons:v.lessons.filter(b=>b.id!==p)}:v);an(St(Et,pa),_)},[i]),h=E.useCallback((y,p,_)=>{const v=i.map(b=>b.id===y?{...b,lessons:b.lessons.map(w=>w.id===p?{...w,..._}:w)}:b);an(St(Et,pa),v)},[i]),g=E.useCallback(()=>{an(St(Et,pa),ma)},[]);return{levels:i,isLoading:s,addLesson:o,removeLesson:u,updateLesson:h,resetToDefaults:g}}const Fi="students";function Wf(){const[i,n]=E.useState([]),[s,a]=E.useState(!0);E.useEffect(()=>{const y=St(Et,Fi),p=Zf(y,_=>{if(_.exists()){const v=_.val(),b=Object.keys(v).map(w=>({...v[w],id:w}));b.sort((w,j)=>new Date(j.loginDate).getTime()-new Date(w.loginDate).getTime()),n(b)}else n([]);a(!1)},_=>{console.error("Firebase student read error:",_),a(!1)});return()=>p()},[]);const o=E.useCallback(async y=>{const p=St(Et,Fi),_=await lf(p);if(_.exists()){const v=_.val(),b=Object.entries(v).find(([w,j])=>j.phone===y);if(b){const[w,j]=b;return await an(St(Et,`${Fi}/${w}/lastSeen`),new Date().toISOString()),{...j,id:w}}}return null},[]),u=E.useCallback(async(y,p,_)=>{if(await o(p))throw new Error("   ");const b=nf(St(Et,Fi)),w=new Date().toISOString();return await an(b,{name:y.trim(),phone:p.trim(),level:_,loginDate:w,lastSeen:w}),b.key||""},[o]),h=E.useCallback(async y=>{await FC(St(Et,`${Fi}/${y}`))},[]),g=E.useCallback(async(y,p)=>{if(!y)throw new Error("studentId required");await KC(St(Et,`${Fi}/${y}`),p)},[]);return{students:i,isLoading:s,registerStudent:u,removeStudent:h,loginByPhone:o,updateStudent:g}}const uw=()=>{const[i,n]=E.useState(!1),s=Kn(),a=sessionStorage.getItem("student_logged_in")==="true",o=sessionStorage.getItem("student_name")||"",u=sessionStorage.getItem("student_level")||"",{levels:h}=Al(),{updateStudent:g}=Wf(),y=()=>{sessionStorage.removeItem("student_logged_in"),sessionStorage.removeItem("student_name"),sessionStorage.removeItem("student_phone"),n(!1),s("/"),window.location.reload()};return f.jsxs("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-100",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16 items-center",children:[f.jsxs("div",{className:"hidden md:flex items-center space-x-reverse space-x-6",children:[f.jsx(et,{to:"/",className:"text-gray-600 hover:text-sky-600 font-medium transition-colors",children:""}),a?f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("a",{href:"https://ipn.eg/S/safaaesmail1980/instapay/9fQhwu",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-full font-bold text-sm hover:shadow-lg hover:shadow-green-500/30 transition-all flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 10m10 0l2-10m0 0h2.4M17 7l-2 10"})})," "]}),f.jsxs("span",{className:"text-sky-600 font-bold text-sm flex items-center gap-1",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),o]}),f.jsx("select",{value:u,onChange:async p=>{const _=p.target.value;sessionStorage.setItem("student_level",_);const v=sessionStorage.getItem("student_id");if(v)try{await g(v,{level:_})}catch(b){console.error("Failed to update student level",b)}window.location.reload()},className:"p-1 rounded text-sm border ml-2",children:h.map(p=>f.jsx("option",{value:p.id,children:p.titleAr},p.id))}),f.jsx("button",{onClick:y,className:"text-gray-400 hover:text-red-500 text-sm font-medium transition-colors",children:""})]}):f.jsx(et,{to:"/student-login",className:"bg-gradient-to-r from-sky-500 to-teal-400 text-white px-5 py-2 rounded-full font-bold text-sm hover:shadow-lg hover:shadow-sky-500/30 transition-all",children:" "}),f.jsxs(et,{to:"/admin-login",className:"text-gray-400 hover:text-sky-600 font-medium transition-colors text-sm flex items-center gap-1",children:[f.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})," "]})]}),f.jsx("div",{className:"md:hidden",children:f.jsx("button",{onClick:()=>n(!i),className:"text-gray-500 hover:text-gray-700 p-2 transition-transform duration-300",style:{transform:i?"rotate(90deg)":"rotate(0deg)"},children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})})]})}),i&&s2.createPortal(f.jsxs("div",{className:"fixed inset-0 z-[100]",children:[f.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity animate-fade-in",onClick:()=>n(!1)}),f.jsxs("div",{className:"absolute top-0 right-0 bottom-0 w-3/4 max-w-xs bg-white shadow-2xl flex flex-col animate-slide-in-right",children:[f.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[f.jsx("span",{className:"font-bold text-gray-900",children:""}),f.jsx("button",{onClick:()=>n(!1),className:"p-2 text-gray-500 hover:text-red-500 transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto py-4 px-4 space-y-2",children:[f.jsx(et,{to:"/",onClick:()=>n(!1),className:"block text-right text-lg font-medium text-gray-700 hover:text-sky-600 py-3 px-4 rounded-xl hover:bg-sky-50 transition-all border-b border-gray-50",children:" "}),a?f.jsxs("div",{className:"bg-sky-50 rounded-2xl p-4 mt-2",children:[f.jsxs("div",{className:"text-right mb-3",children:[f.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:" "}),f.jsxs("span",{className:"text-sky-700 font-bold text-lg",children:[o," "]})]}),f.jsxs("div",{className:"mb-3 text-right",children:[f.jsx("label",{className:"text-xs text-gray-500",children:":"}),f.jsx("select",{value:u,onChange:async p=>{const _=p.target.value;sessionStorage.setItem("student_level",_);const v=sessionStorage.getItem("student_id");if(v)try{await g(v,{level:_})}catch(b){console.error("Failed to update student level",b)}window.location.reload()},className:"w-full mt-2 p-2 rounded border",children:h.map(p=>f.jsx("option",{value:p.id,children:p.titleAr},p.id))})]}),f.jsx("a",{href:"https://ipn.eg/S/safaaesmail1980/instapay/9fQhwu",target:"_blank",rel:"noopener noreferrer",onClick:()=>n(!1),className:"block w-full py-2 mb-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-xl transition-all text-center",children:"  "}),f.jsx("button",{onClick:y,className:"w-full py-2 bg-white text-red-500 border border-red-100 rounded-xl text-sm font-bold shadow-sm hover:bg-red-50 transition-all",children:" "})]}):f.jsx(et,{to:"/student-login",onClick:()=>n(!1),className:"block text-center text-lg font-bold text-white py-3 px-4 rounded-xl bg-gradient-to-r from-sky-500 to-teal-400 shadow-lg shadow-sky-500/20 mt-4 transition-transform active:scale-95",children:"   "}),f.jsx("div",{className:"border-t border-gray-100 my-4 pt-4",children:f.jsx(et,{to:"/admin-login",onClick:()=>n(!1),className:"flex items-center justify-end gap-2 text-sm font-medium text-gray-400 hover:text-sky-600 py-2 px-4 transition-colors",children:"  "})})]})]})]}),document.body)]})},dw=()=>f.jsxs("div",{className:"relative overflow-hidden pt-20 pb-32 z-10 bg-transparent",children:[f.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-[40rem] h-[40rem] bg-sky-100 rounded-full blur-[100px] opacity-40"}),f.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-[30rem] h-[30rem] bg-teal-100 rounded-full blur-[100px] opacity-40"}),f.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-16 items-center",children:[f.jsxs("div",{className:"text-right lg:col-span-7",children:[f.jsxs("h1",{className:"text-5xl tracking-tight font-black text-gray-900 sm:text-6xl md:text-7xl",children:[f.jsx("span",{className:"block mb-2",children:"    "}),f.jsx("span",{className:"block text-sky-600",children:" "})]}),f.jsx("p",{className:"mt-8 text-xl text-gray-600 leading-relaxed max-w-2xl lg:ml-0 lg:mr-auto",children:"     .        .            "}),f.jsx("div",{className:"mt-12 flex flex-wrap gap-6 justify-center",children:f.jsx("a",{href:"https://wa.me/201222966617",className:"px-12 py-5 border-2 border-sky-100 text-xl font-bold rounded-2xl text-sky-700 bg-white/50 backdrop-blur-sm hover:bg-sky-50 transition-all",children:" "})})]}),f.jsxs("div",{className:"mt-16 lg:mt-0 lg:col-span-5 relative",children:[f.jsxs("div",{className:"relative mx-auto w-full rounded-[3rem] shadow-2xl overflow-hidden ring-12 ring-white/50 backdrop-blur-sm",children:[f.jsx("img",{className:"w-full object-cover aspect-[4/5]",src:"sections/logo2.jpeg",alt:"Science Learning"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-sky-900/40 via-transparent to-transparent"})]}),f.jsx("div",{className:"absolute -bottom-6 -right-6 bg-white p-6 rounded-3xl shadow-2xl animate-science-float hidden md:block",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-2xl flex items-center justify-center text-2xl",children:""}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-gray-900",children:" "}),f.jsx("div",{className:"text-xs text-gray-500",children:"   "})]})]})})]})]})})]}),fw=({data:i})=>f.jsxs("div",{className:"group bg-white rounded-3xl shadow-sm hover:shadow-xl transition-all border border-gray-100 overflow-hidden flex flex-col h-full",children:[f.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[f.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),f.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-sky-600 shadow-sm",children:i.title})]}),f.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.titleAr}),f.jsx("p",{className:"text-gray-500 text-sm mb-6 flex-grow",children:i.description}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs(et,{to:`/level/${i.id}/courses`,className:"flex flex-col items-center justify-center p-3 rounded-2xl bg-sky-50 text-sky-700 hover:bg-sky-600 hover:text-white transition-all group/btn",children:[f.jsx("svg",{className:"w-6 h-6 mb-1",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M2 6a2 2 0 012-2h12a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zm2 0v8h12V6H4zm3 2l5 2-5 2V8z"})}),f.jsx("span",{className:"text-xs font-bold",children:""})]}),f.jsxs(et,{to:`/level/${i.id}/notes`,className:"flex flex-col items-center justify-center p-3 rounded-2xl bg-teal-50 text-teal-700 hover:bg-teal-600 hover:text-white transition-all",children:[f.jsxs("svg",{className:"w-6 h-6 mb-1",fill:"currentColor",viewBox:"0 0 20 20",children:[f.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),f.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),f.jsx("span",{className:"text-xs font-bold",children:" "})]})]})]})]}),hw="safaa-admin-2025",mw=()=>{const[i,n]=E.useState(""),[s,a]=E.useState(""),[o,u]=E.useState(!1),h=Kn(),g=y=>{y.preventDefault(),i.trim()===hw?(sessionStorage.setItem("admin_authenticated","true"),h("/admin")):(a("   "),u(!0),setTimeout(()=>u(!1),500))};return f.jsx("div",{className:"min-h-screen flex items-center justify-center relative z-10 px-4",children:f.jsxs("div",{className:`bg-glass rounded-[2.5rem] shadow-2xl p-10 md:p-16 text-center max-w-md w-full border border-white/50 transition-transform ${o?"animate-shake":""}`,children:[f.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-sky-500 to-teal-400 rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-lg shadow-sky-500/30",children:f.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),f.jsx("p",{className:"text-gray-500 mb-10 text-lg",children:"       "}),f.jsxs("form",{onSubmit:g,className:"space-y-6",children:[f.jsx("input",{type:"password",value:i,onChange:y=>{n(y.target.value),a("")},placeholder:" ",className:"w-full p-5 bg-white border border-gray-200 rounded-2xl text-center text-xl font-bold focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all shadow-sm",autoFocus:!0}),s&&f.jsx("p",{className:"text-red-500 font-bold animate-fade-in",children:s}),f.jsx("button",{type:"submit",className:"w-full py-5 science-gradient text-white rounded-2xl font-bold text-xl hover:shadow-2xl transition-all transform active:scale-95",children:""})]})]})})};function ny(i){if(!i)return"";const n=i.trim();if(n.includes("youtube.com/embed/"))return n;const s=n.match(/(?:youtube\.com\/watch\?v=)([a-zA-Z0-9_-]+)/);if(s)return`https://www.youtube.com/embed/${s[1]}`;const a=n.match(/(?:youtu\.be\/)([a-zA-Z0-9_-]+)/);return a?`https://www.youtube.com/embed/${a[1]}`:n}const pw=()=>{var Ka;const i=Kn(),{levels:n,addLesson:s,removeLesson:a,updateLesson:o,resetToDefaults:u}=Al(),[h,g]=E.useState("1st-prep"),[y,p]=E.useState(!1),[_,v]=E.useState(null),[b,w]=E.useState(!1),[j,D]=E.useState(""),[G,Y]=E.useState(null),[Q,B]=E.useState(""),[le,fe]=E.useState(""),[K,z]=E.useState(""),[ce,ae]=E.useState(""),[ye,Te]=E.useState(""),[Ge,wt]=E.useState(!0),[Ye,ze]=E.useState(null),[k,X]=E.useState("link"),[$,me]=E.useState([]),[Me,C]=E.useState(!1),[U,F]=E.useState(null),[Z,re]=E.useState(5),[he,Ce]=E.useState([]);E.useEffect(()=>{sessionStorage.getItem("admin_authenticated")!=="true"&&i("/admin-login")},[i]);const we=n.find(V=>V.id===h),Ze=V=>{if(V.preventDefault(),!Q.trim())return;const te=`${h.charAt(0)}-${Date.now()}`,ne=$.map(P=>({id:P.id,title:P.title.trim(),videoUrl:P.source==="link"?ny(P.videoUrl):P.videoUrl,description:P.description.trim()}));s(h,{id:te,title:Q.trim(),videos:ne.length>0?ne:void 0,pdfUrl:K.trim(),description:ce.trim(),code:Ge?"":ye.trim(),codes:Ge?[]:ye.trim()?[{value:ye.trim(),used:!1}]:[],coverImage:Ye||void 0}),B(""),me([]),z(""),ae(""),Te(""),wt(!0),z(""),ae(""),Te(""),wt(!0),ze(null),p(!1),Tt("    ")},Rl=()=>{_&&(a(_.levelId,_.lessonId),v(null),Tt("    "))},ri=(V,te)=>{var P;const ne=(P=n.find(ve=>ve.id===V))==null?void 0:P.lessons.find(ve=>ve.id===te);ne&&(B(ne.title),fe(ne.videoUrl||""),z(ne.pdfUrl||""),ae(ne.description||""),Te(ne.code||""),ze(ne.coverImage||null),Y({levelId:V,lessonId:te}))},cs=V=>{V.preventDefault(),!(!G||!Q.trim())&&(o(G.levelId,G.lessonId,{title:Q.trim(),videoUrl:ny(le),pdfUrl:K.trim(),description:ce.trim(),code:ye.trim(),coverImage:Ye||void 0}),Y(null),B(""),fe(""),z(""),ae(""),Te(""),ze(null),Tt("    "))},Xa=()=>{u(),w(!1),Tt("    ")},En=()=>{sessionStorage.removeItem("admin_authenticated"),i("/")},Tt=V=>{D(V),setTimeout(()=>D(""),3e3)},us=(V=8)=>{const te="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789";let ne="";for(let P=0;P<V;P++)ne+=te.charAt(Math.floor(Math.random()*te.length));return ne},tc=(V,te=[])=>{const ne=new Set(te),P=[];for(;P.length<V;){const ve=us(8);!ne.has(ve)&&!P.includes(ve)&&P.push(ve)}return P},Fa=V=>{F(V),Ce([]),re(5),C(!0)},ds=()=>{var ve;if(!U)return;const V=we==null?void 0:we.lessons.find(Pe=>Pe.id===U),te=((ve=V==null?void 0:V.codes)==null?void 0:ve.map(Pe=>Pe.value))??[],ne=tc(Z,te),P=[...(V==null?void 0:V.codes)??[],...ne.map(Pe=>({value:Pe,used:!1}))];o(h,U,{codes:P}),Ce(ne),Tt("    ")},fs=(V,te)=>{const ne=we==null?void 0:we.lessons.find(ve=>ve.id===V);if(!ne)return;const P=(ne.codes??[]).map(ve=>ve.value===te?{...ve,used:!ve.used}:ve);o(h,V,{codes:P})},hs=[{id:"1st-prep",label:" "},{id:"2nd-prep",label:" "},{id:"3rd-prep",label:" "}];return f.jsxs("div",{className:"min-h-screen pb-20 relative z-10",children:[f.jsxs("div",{className:"science-gradient pt-20 md:pt-28 pb-16 md:pb-20 text-white text-center px-4",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-2 md:mb-3",children:"  "}),f.jsx("p",{className:"text-sky-100 text-base md:text-xl",children:"     "}),f.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-2 md:gap-4",children:[f.jsx("button",{onClick:()=>w(!0),className:"bg-white/10 hover:bg-white/20 px-3 md:px-5 py-2 rounded-full transition-all text-xs md:text-sm",children:" "}),f.jsx(et,{to:"/admin/students",className:"bg-white/10 hover:bg-white/20 px-3 md:px-5 py-2 rounded-full transition-all text-xs md:text-sm",children:" "}),f.jsx(et,{to:"/admin/exams",className:"bg-white/10 hover:bg-white/20 px-3 md:px-5 py-2 rounded-full transition-all text-xs md:text-sm",children:" "}),f.jsx(et,{to:"/admin/exam-results",className:"bg-white/10 hover:bg-white/20 px-3 md:px-5 py-2 rounded-full transition-all text-xs md:text-sm",children:" "}),f.jsx("button",{onClick:En,className:"bg-red-500/80 hover:bg-red-500 px-3 md:px-5 py-2 rounded-full transition-all text-xs md:text-sm",children:" "})]})]}),f.jsxs("div",{className:"max-w-6xl mx-auto px-4 -mt-10",children:[j&&f.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-6 py-4 rounded-2xl text-center font-bold text-lg animate-fade-in",children:j}),f.jsx("div",{className:"bg-glass rounded-2xl shadow-lg p-1 md:p-2 flex gap-1 md:gap-2 mb-8 border border-white/50 overflow-x-auto",children:hs.map(V=>f.jsx("button",{onClick:()=>{g(V.id),p(!1)},className:`flex-1 py-3 md:py-4 px-2 md:px-4 rounded-xl font-bold text-xs md:text-lg transition-all whitespace-nowrap ${h===V.id?"science-gradient text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:V.label},V.id))}),we&&f.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl border border-white/50 overflow-hidden",children:[f.jsxs("div",{className:"p-4 md:p-8 border-b border-gray-100 flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:we.titleAr}),f.jsxs("p",{className:"text-gray-500 mt-1 text-sm md:text-base",children:[we.lessons.length,"  "]})]}),f.jsx("button",{onClick:()=>p(!y),className:`px-4 md:px-8 py-2 md:py-4 rounded-2xl font-bold text-sm md:text-lg transition-all flex items-center gap-2 md:gap-3 whitespace-nowrap ${y?"bg-gray-200 text-gray-700":"science-gradient text-white shadow-lg shadow-sky-500/20 hover:shadow-xl"}`,children:y?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-xl md:text-2xl",children:""})," ",f.jsx("span",{className:"hidden sm:inline",children:""})]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-xl md:text-2xl",children:"+"})," ",f.jsx("span",{className:"hidden sm:inline",children:"  "}),f.jsx("span",{className:"sm:hidden",children:""})]})})]}),y&&f.jsx("div",{className:"p-8 bg-sky-50/50 border-b border-sky-100 animate-fade-in",children:f.jsxs("form",{onSubmit:Ze,className:"space-y-5 max-w-2xl mx-auto",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"   "}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"  *"}),f.jsx("input",{type:"text",value:Q,onChange:V=>B(V.target.value),placeholder:":  ",className:"w-full p-4 bg-white border border-gray-200 rounded-xl focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all text-right",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-bold mb-3",children:" "}),f.jsx("div",{className:"space-y-3",children:$.map((V,te)=>f.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h4",{className:"font-bold text-gray-700",children:[" #",te+1]}),f.jsx("button",{type:"button",onClick:()=>me($.filter((ne,P)=>P!==te)),className:"text-red-500 hover:text-red-700 font-bold",children:" "})]}),f.jsx("input",{type:"text",value:V.title,onChange:ne=>me($.map((P,ve)=>ve===te?{...P,title:ne.target.value}:P)),placeholder:" ",className:"w-full p-2 bg-gray-50 border border-gray-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-sky-500/20"}),f.jsx("textarea",{value:V.description,onChange:ne=>me($.map((P,ve)=>ve===te?{...P,description:ne.target.value}:P)),placeholder:"  ()",rows:2,className:"w-full p-2 bg-gray-50 border border-gray-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-sky-500/20 resize-none text-right"}),f.jsxs("div",{className:"flex items-center gap-3 mb-2 text-sm",children:[f.jsxs("label",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"radio",checked:V.source==="link",onChange:()=>me($.map((ne,P)=>P===te?{...ne,source:"link"}:ne))}),""]}),f.jsxs("label",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"radio",checked:V.source==="upload",onChange:()=>me($.map((ne,P)=>P===te?{...ne,source:"upload"}:ne))}),"  "]})]}),V.source==="link"?f.jsx(f.Fragment,{children:f.jsx("input",{type:"text",value:V.videoUrl,onChange:ne=>me($.map((P,ve)=>ve===te?{...P,videoUrl:ne.target.value}:P)),placeholder:"   MP4",className:"w-full p-2 bg-gray-50 border border-gray-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-sky-500/20 text-left",dir:"ltr"})}):f.jsx("input",{type:"file",accept:"video/*",onChange:ne=>{var Pe;const P=(Pe=ne.target.files)==null?void 0:Pe[0];if(!P)return;const ve=new FileReader;ve.onload=nc=>me($.map((ms,lc)=>{var Za;return lc===te?{...ms,videoUrl:(Za=nc.target)==null?void 0:Za.result}:ms})),ve.readAsDataURL(P)},className:"text-sm"})]},V.id))}),f.jsx("button",{type:"button",onClick:()=>me([...$,{id:`video-${Date.now()}`,title:"",videoUrl:"",description:"",source:"link"}]),className:"mt-3 w-full py-2 bg-sky-50 text-sky-600 border border-sky-200 rounded-xl font-bold hover:bg-sky-100 transition-all",children:"+   "})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"  (PDF)    "}),f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsxs("label",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"radio",name:"pdfSrc",checked:k==="link",onChange:()=>X("link")})," "]}),f.jsxs("label",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"radio",name:"pdfSrc",checked:k==="upload",onChange:()=>X("upload")}),"   "]})]}),k==="link"?f.jsx("input",{type:"text",value:K,onChange:V=>z(V.target.value),placeholder:"https://example.com/file.pdf  /filename.pdf",className:"w-full p-4 bg-white border border-gray-200 rounded-xl focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all text-left",dir:"ltr"}):f.jsx("input",{type:"file",accept:"application/pdf",onChange:V=>{var P;const te=(P=V.target.files)==null?void 0:P[0];if(!te)return;const ne=new FileReader;ne.onload=ve=>{var Pe;return z((Pe=ve.target)==null?void 0:Pe.result)},ne.readAsDataURL(te)}})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:" "}),f.jsx("textarea",{value:ce,onChange:V=>ae(V.target.value),placeholder:"    ",rows:3,className:"w-full p-4 bg-white border border-gray-200 rounded-xl focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all resize-none text-right"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{id:"newIsPublic",type:"checkbox",checked:Ge,onChange:V=>wt(V.target.checked),className:"w-4 h-4"}),f.jsx("label",{htmlFor:"newIsPublic",className:"text-gray-700",children:"   (  )"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"  ()"}),f.jsx("input",{type:"file",accept:"image/*",onChange:V=>{var P;const te=(P=V.target.files)==null?void 0:P[0];if(!te)return;const ne=new FileReader;ne.onload=ve=>{var Pe;return ze((Pe=ve.target)==null?void 0:Pe.result)},ne.readAsDataURL(te)}}),Ye&&f.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded flex items-center justify-center",children:f.jsx("img",{src:Ye,alt:"cover preview",className:"max-w-xs max-h-32 rounded"})})]}),f.jsx("button",{type:"submit",className:"w-full py-4 science-gradient text-white rounded-2xl font-bold text-xl hover:shadow-2xl transition-all transform active:scale-95",children:"  "})]})}),f.jsx("div",{className:"p-6",children:we.lessons.length===0?f.jsxs("div",{className:"text-center py-16 text-gray-400",children:[f.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),f.jsx("p",{className:"text-xl font-bold",children:"   "}),f.jsx("p",{className:"mt-2",children:' "  "   '})]}):f.jsx("div",{className:"space-y-4",children:we.lessons.map((V,te)=>{var ne,P;return f.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 flex flex-col md:flex-row items-start md:items-center justify-between gap-4 hover:shadow-md transition-all group",children:[f.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[f.jsx("div",{className:"w-10 h-10 bg-sky-100 text-sky-600 rounded-xl flex items-center justify-center font-bold flex-shrink-0",children:te+1}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[V.coverImage&&f.jsx("img",{src:V.coverImage,alt:"cover",className:"w-20 h-12 object-cover rounded-md flex-shrink-0"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("h4",{className:"text-lg font-bold text-gray-900",children:V.title}),f.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-1",children:V.description})]})]}),f.jsxs("div",{className:"flex gap-4 mt-2 text-xs",children:[(((ne=V.videos)==null?void 0:ne.length)??0)>0&&f.jsxs("span",{className:"bg-red-50 text-red-600 px-3 py-1 rounded-full font-medium",children:[" ",(P=V.videos)==null?void 0:P.length," "]}),V.videoUrl&&f.jsx("span",{className:"bg-red-50 text-red-600 px-3 py-1 rounded-full font-medium",children:" "}),V.pdfUrl&&f.jsx("span",{className:"bg-teal-50 text-teal-600 px-3 py-1 rounded-full font-medium",children:" "}),V.code&&f.jsxs("span",{className:"bg-amber-50 text-amber-600 px-3 py-1 rounded-full font-medium flex items-center gap-1",children:[" : ",V.code]}),V.codes&&V.codes.length>0&&f.jsxs("span",{className:"bg-violet-50 text-violet-600 px-3 py-1 rounded-full font-medium flex items-center gap-1",children:["  : ",V.codes.filter(ve=>!ve.used).length]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>ri(h,V.id),className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-xl font-bold hover:bg-blue-100 transition-all flex items-center gap-2",children:" "}),f.jsx("button",{onClick:()=>Fa(V.id),className:"px-4 py-2 bg-violet-50 text-violet-600 rounded-xl font-bold hover:bg-violet-100 transition-all flex items-center gap-2 opacity-80",children:" "}),f.jsxs("button",{onClick:()=>v({levelId:h,lessonId:V.id}),className:"px-5 py-3 bg-red-50 text-red-600 rounded-xl font-bold hover:bg-red-100 transition-all flex items-center gap-2 opacity-70 group-hover:opacity-100",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),""]})]})]},V.id)})})})]})]}),_&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4 animate-fade-in",children:f.jsxs("div",{className:"bg-white rounded-3xl p-10 max-w-md w-full text-center shadow-2xl",children:[f.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),f.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:" "}),f.jsx("p",{className:"text-gray-500 mb-8",children:"            ."}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("button",{onClick:()=>v(null),className:"flex-1 py-4 bg-gray-100 text-gray-700 rounded-2xl font-bold hover:bg-gray-200 transition-all",children:""}),f.jsx("button",{onClick:Rl,className:"flex-1 py-4 bg-red-500 text-white rounded-2xl font-bold hover:bg-red-600 transition-all",children:" "})]})]})}),G&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4 overflow-auto",children:f.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-2xl w-full shadow-2xl my-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:" "}),f.jsx("button",{onClick:()=>{Y(null),B(""),fe(""),z(""),ae(""),Te(""),ze(null)},className:"text-gray-400 hover:text-gray-600",children:""})]}),f.jsxs("form",{onSubmit:cs,className:"space-y-4",children:[f.jsx("input",{className:"w-full p-3 border border-gray-200 rounded-xl",placeholder:" ",value:Q,onChange:V=>B(V.target.value),required:!0}),f.jsx("textarea",{className:"w-full p-3 border border-gray-200 rounded-xl resize-none",rows:3,placeholder:" ",value:ce,onChange:V=>ae(V.target.value)}),f.jsx("input",{className:"w-full p-3 border border-gray-200 rounded-xl",placeholder:"  (YouTube)",value:le,onChange:V=>fe(V.target.value)}),f.jsx("input",{className:"w-full p-3 border border-gray-200 rounded-xl",placeholder:"  (PDF)",value:K,onChange:V=>z(V.target.value)}),f.jsx("input",{className:"w-full p-3 border border-gray-200 rounded-xl",placeholder:"  ()",value:ye,onChange:V=>Te(V.target.value)}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"  ()"}),f.jsx("input",{type:"file",accept:"image/*",onChange:V=>{var P;const te=(P=V.target.files)==null?void 0:P[0];if(!te)return;const ne=new FileReader;ne.onload=ve=>{var Pe;return ze((Pe=ve.target)==null?void 0:Pe.result)},ne.readAsDataURL(te)}}),Ye&&f.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded flex items-center justify-center",children:f.jsx("img",{src:Ye,alt:"cover preview",className:"max-w-xs max-h-32 rounded"})})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>{Y(null),B(""),fe(""),z(""),ae(""),Te(""),ze(null)},className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-2xl font-bold hover:bg-gray-200",children:""}),f.jsx("button",{type:"submit",className:"flex-1 py-3 science-gradient text-white rounded-2xl font-bold hover:shadow-lg",children:"  "})]})]})]})}),Me&&U&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4 animate-fade-in",children:f.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-2xl w-full text-right shadow-2xl",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold",children:"   "}),f.jsx("p",{className:"text-gray-500",children:"         "})]}),f.jsx("button",{onClick:()=>C(!1),className:"text-gray-400",children:""})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:" "}),f.jsx("input",{type:"number",value:Z,onChange:V=>re(Math.max(1,Number(V.target.value)||1)),className:"w-40 p-3 bg-white border border-gray-200 rounded-xl outline-none"}),f.jsx("button",{onClick:ds,className:"mx-4 px-5 py-3 bg-violet-600 text-white rounded-xl font-bold",children:""})]}),he.length>0&&f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[f.jsx("p",{className:"font-bold mb-2",children:"  "}),f.jsx("div",{className:"flex flex-wrap gap-2",children:he.map(V=>f.jsx("div",{className:"px-3 py-2 bg-white border rounded-lg text-sm flex items-center gap-2",children:f.jsx("span",{className:"font-mono",children:V})},V))})]}),f.jsxs("div",{className:"bg-white border rounded-xl p-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("p",{className:"font-bold mb-2",children:"   "}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>{const V=we==null?void 0:we.lessons.find(P=>P.id===U),te=(V==null?void 0:V.codes)??[];if(te.length===0){Tt("   ");return}const ne=te.map(P=>`${P.value}${P.used?" ()":""}`).join(`
`);if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(ne).then(()=>Tt("    ")).catch(()=>Tt("  "));else{const P=document.createElement("textarea");P.value=ne,document.body.appendChild(P),P.select();try{document.execCommand("copy"),Tt("    ")}catch{Tt("  ")}document.body.removeChild(P)}},className:"px-3 py-1 bg-sky-50 text-sky-600 rounded-md text-sm",children:" "}),f.jsx("button",{onClick:()=>{U&&confirm("        ")&&(o(h,U,{codes:[],code:""}),Ce([]),Tt("       "))},className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-md text-sm",children:"  "})]})]}),f.jsx("div",{className:"space-y-2 max-h-48 overflow-auto",children:(((Ka=we==null?void 0:we.lessons.find(V=>V.id===U))==null?void 0:Ka.codes)??[]).map(V=>f.jsxs("div",{className:"flex items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-mono",children:V.value}),f.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${V.used?"bg-gray-200 text-gray-600":"bg-green-50 text-green-700"}`,children:V.used?"":" "})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>{var te;return(te=navigator.clipboard)==null?void 0:te.writeText(V.value)},className:"px-3 py-1 bg-sky-50 text-sky-600 rounded-md",children:""}),f.jsx("button",{onClick:()=>fs(U,V.value),className:"px-3 py-1 bg-amber-50 text-amber-600 rounded-md",children:" "})]})]},V.value))})]})]})]})}),b&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4 animate-fade-in",children:f.jsxs("div",{className:"bg-white rounded-3xl p-10 max-w-md w-full text-center shadow-2xl",children:[f.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx("span",{className:"text-4xl",children:""})}),f.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"  "}),f.jsx("p",{className:"text-gray-500 mb-8",children:"      .   "}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("button",{onClick:()=>w(!1),className:"flex-1 py-4 bg-gray-100 text-gray-700 rounded-2xl font-bold hover:bg-gray-200 transition-all",children:""}),f.jsx("button",{onClick:Xa,className:"flex-1 py-4 bg-amber-500 text-white rounded-2xl font-bold hover:bg-amber-600 transition-all",children:""})]})]})})]})},go="exams",ly="exam_results";function Qa(){const[i,n]=E.useState([]),[s,a]=E.useState(!0);E.useEffect(()=>{const _=St(Et,go),v=Zf(_,b=>{if(b.exists()){const w=b.val(),j=Array.isArray(w)?w:Object.keys(w).map(D=>({...w[D],questions:w[D].questions||[]}));n(j)}else n([]);a(!1)},b=>{console.error("Failed to read exams:",b),a(!1)});return()=>v()},[]);const o=E.useCallback(async _=>{const v=nf(St(Et,go)),b=v.key,w={..._,id:b,createdAt:Date.now()};return await an(v,w),b},[]),u=E.useCallback(async(_,v)=>{const b=ti(St(Et),`${go}/${_}`),w=await lf(b);if(!w.exists())throw new Error("Exam not found");const j=w.val();await an(b,{...j,...v})},[]),h=E.useCallback(async _=>{const v=ti(St(Et),`${go}/${_}`);await an(v,null)},[]),g=E.useCallback(()=>i,[i]),y=E.useCallback(async _=>{const v=nf(St(Et,ly)),b=v.key,w={..._,id:b,submittedAt:Date.now()};return await an(v,w),b},[]),p=E.useCallback(async _=>{const v=St(Et,ly),b=await lf(v);if(!b.exists())return[];const w=b.val();return(Array.isArray(w)?w:Object.keys(w).map(D=>w[D])).filter(D=>D.examId===_)},[]);return{exams:i,isLoading:s,createExam:o,updateExam:u,deleteExam:h,listExams:g,submitResult:y,getResultsForExam:p}}const gw=()=>{const i=Kn(),{exams:n,createExam:s,updateExam:a,deleteExam:o}=Qa(),{levels:u}=Al(),[h,g]=E.useState(""),[y,p]=E.useState(""),[_,v]=E.useState("1st-prep"),[b,w]=E.useState(null),[j,D]=E.useState([]),[G,Y]=E.useState(!1),Q=()=>`q-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,B=()=>{D(z=>[...z,{id:Q(),type:"mcq",prompt:"",promptType:"text",promptImageUrl:"",options:["","","",""],correctOptionIndex:0,points:1}])},le=(z,ce)=>{D(ae=>ae.map(ye=>ye.id===z?{...ye,...ce}:ye))},fe=z=>D(ce=>ce.filter(ae=>ae.id!==z)),K=async()=>{if(!h.trim()||j.length===0)return alert("      ");Y(!0);try{await s({title:h.trim(),description:y.trim(),levelId:_,questions:j.map(z=>({id:z.id,type:z.type,prompt:z.prompt,promptType:z.promptType||"text",promptImageUrl:z.promptImageUrl||"",options:z.options,correctOptionIndex:z.correctOptionIndex,points:z.points})),timeLimitMinutes:b,published:!1}),g(""),p(""),D([]),alert("  ")}catch(z){console.error(z),alert("  ")}finally{Y(!1)}};return f.jsxs("div",{className:"min-h-screen pb-20 relative z-10",children:[f.jsxs("div",{className:"science-gradient pt-28 pb-20 text-white text-center px-4",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-3",children:" "}),f.jsx("p",{className:"text-sky-100 text-xl",children:"    "}),f.jsx("button",{onClick:()=>i(-1),className:"mt-8 inline-block bg-white/10 hover:bg-white/20 px-6 py-2 rounded-full transition-all",children:"  "})]}),f.jsxs("div",{className:"max-w-6xl mx-auto px-4 -mt-10",children:[f.jsxs("div",{className:"bg-glass rounded-2xl shadow-lg p-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"  "}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("input",{className:"p-3 rounded-xl border",placeholder:" ",value:h,onChange:z=>g(z.target.value)}),f.jsx("select",{className:"p-3 rounded-xl border",value:_,onChange:z=>v(z.target.value),children:u.map(z=>f.jsx("option",{value:z.id,children:z.titleAr},z.id))}),f.jsx("input",{type:"number",min:1,className:"p-3 rounded-xl border",placeholder:"  ()",value:b??"",onChange:z=>w(z.target.value?Number(z.target.value):null)}),f.jsx("input",{className:"p-3 rounded-xl border col-span-2",placeholder:"  ()",value:y,onChange:z=>p(z.target.value)})]}),f.jsxs("div",{className:"mt-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h4",{className:"font-bold",children:""}),f.jsx("button",{onClick:B,className:"px-4 py-2 bg-sky-600 text-white rounded-xl",children:" "})]}),f.jsx("div",{className:"space-y-4",children:j.map((z,ce)=>f.jsxs("div",{className:"p-4 border rounded-xl bg-white",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("strong",{children:[" ",ce+1]}),f.jsx("button",{onClick:()=>fe(z.id),className:"text-red-500 text-sm",children:""})]}),f.jsxs("div",{className:"flex items-center gap-3 mb-3 p-2 bg-gray-50 rounded",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"radio",name:`type-${z.id}`,checked:z.promptType!=="image",onChange:()=>le(z.id,{promptType:"text"})}),f.jsx("span",{className:"text-sm",children:""})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"radio",name:`type-${z.id}`,checked:z.promptType==="image",onChange:()=>le(z.id,{promptType:"image"})}),f.jsx("span",{className:"text-sm",children:""})]})]}),z.promptType!=="image"?f.jsx("input",{className:"w-full p-2 border rounded mt-2 mb-3",placeholder:" ",value:z.prompt,onChange:ae=>le(z.id,{prompt:ae.target.value})}):f.jsxs("div",{className:"mt-2 mb-3",children:[f.jsx("input",{type:"file",accept:"image/*",className:"w-full p-2 border rounded",onChange:ae=>{var Te;const ye=(Te=ae.target.files)==null?void 0:Te[0];if(ye){const Ge=new FileReader;Ge.onload=wt=>{var ze;const Ye=(ze=wt.target)==null?void 0:ze.result;le(z.id,{promptImageUrl:Ye})},Ge.readAsDataURL(ye)}}}),z.promptImageUrl&&f.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded flex items-center justify-center",children:f.jsx("img",{src:z.promptImageUrl,alt:"preview",className:"max-w-xs max-h-32 rounded"})})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:z.options.map((ae,ye)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{className:"flex-1 p-2 border rounded",value:ae,onChange:Te=>{const Ge=[...z.options];Ge[ye]=Te.target.value,le(z.id,{options:Ge})}}),f.jsxs("label",{className:"text-sm",children:["",f.jsx("input",{type:"radio",name:`correct-${z.id}`,checked:z.correctOptionIndex===ye,onChange:()=>le(z.id,{correctOptionIndex:ye}),className:"mx-2"})]})]},ye))}),f.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[f.jsx("label",{className:"text-sm",children:":"}),f.jsx("input",{type:"number",min:0,value:z.points,onChange:ae=>le(z.id,{points:Number(ae.target.value)}),className:"p-2 border rounded w-24"})]})]},z.id))}),f.jsx("div",{className:"mt-6 flex gap-3",children:f.jsx("button",{onClick:K,disabled:G,className:"px-6 py-3 bg-green-600 text-white rounded-xl",children:G?" ...":" "})})]})]}),f.jsxs("div",{className:"mt-8 bg-glass rounded-2xl shadow-lg p-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:" "}),f.jsxs("div",{className:"space-y-3",children:[n.length===0&&f.jsx("div",{className:"text-gray-500",children:"   ."}),n.map(z=>{var ce;return f.jsxs("div",{className:"p-4 bg-white rounded-xl border flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-bold",children:z.title}),f.jsxs("div",{className:"text-sm text-gray-500",children:[": ",z.levelId,"  : ",((ce=z.questions)==null?void 0:ce.length)??0]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:async()=>{await a(z.id,{published:!z.published}),alert(" ")},className:"px-3 py-2 bg-sky-50 text-sky-600 rounded-md",children:z.published?" ":""}),f.jsx("button",{onClick:async()=>{confirm(" ")&&(await o(z.id),alert(" "))},className:"px-3 py-2 bg-red-50 text-red-600 rounded-md",children:""})]})]},z.id)})]})]})]})]})},yw=()=>{const{exams:i,isLoading:n}=Qa(),s=sessionStorage.getItem("student_level");if(!s)return f.jsx("div",{className:"p-10 text-center",children:"     ."});const a=i.filter(o=>o.published&&o.levelId===s);return f.jsxs("div",{className:"min-h-screen pb-20 relative z-10",children:[f.jsxs("div",{className:"science-gradient pt-28 pb-20 text-white text-center px-4",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-3",children:" "}),f.jsx("p",{className:"text-sky-100 text-xl",children:"   "})]}),f.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-10",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n&&f.jsx("div",{children:" ..."}),!n&&a.length===0&&f.jsx("div",{className:"p-10 bg-white rounded-xl text-center",children:"    ."}),a.map(o=>{var u;return f.jsxs("div",{className:"p-6 bg-white rounded-2xl border flex flex-col justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-xl",children:o.title}),f.jsx("p",{className:"text-sm text-gray-500 mt-2",children:o.description}),f.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[": ",((u=o.questions)==null?void 0:u.length)??0,"  : ",o.timeLimitMinutes??" "]})]}),f.jsx("div",{className:"mt-4",children:f.jsx(et,{to:`/exam/${o.id}`,className:"px-4 py-3 bg-sky-600 text-white rounded-xl",children:" "})})]},o.id)})]})})]})};function vw(i,n){const[s,a]=E.useState(null),o=E.useRef(!1);return E.useEffect(()=>{i===null||i<=0||(a(i),o.current=!1)},[i]),E.useEffect(()=>{if(s===null)return;if(s<=0){o.current||(o.current=!0,n());return}const u=setTimeout(()=>a(h=>h!==null?h-1:null),1e3);return()=>clearTimeout(u)},[s,n]),s}function xw(i){const n=Math.floor(i/60).toString().padStart(2,"0"),s=(i%60).toString().padStart(2,"0");return`${n}:${s}`}const _w=()=>{const{examId:i}=Bo(),{exams:n,submitResult:s}=Qa(),a=Kn(),o=n.find(K=>K.id===i),[u,h]=E.useState({}),[g,y]=E.useState(!1),[p,_]=E.useState(null),[v,b]=E.useState(!1);E.useEffect(()=>{if(!(o!=null&&o.questions))return;const K={};o.questions.forEach(z=>K[z.id]=z.type==="mcq"?null:""),h(K)},[i,o]);const w=E.useCallback(async(K=!1,z)=>{if(g||p!==null)return;y(!0),K&&b(!0);const ce=z??u;try{let ae=0,ye=0;const Te=[];(o.questions||[]).forEach(Ye=>{const ze=ce[Ye.id],k=Ye.points??1;if(ye+=k,Ye.type==="mcq"){const X=ze!=null;Te.push({questionId:Ye.id,answer:String(ze??"")}),X&&typeof Ye.correctOptionIndex<"u"&&Number(ze)===Ye.correctOptionIndex&&(ae+=k)}else Te.push({questionId:Ye.id,answer:String(ze??"")})});const Ge=sessionStorage.getItem("student_phone")||null,wt=sessionStorage.getItem("student_name")||null;await s({examId:o.id,studentPhone:Ge,studentName:wt,answers:Te,score:ae,maxScore:ye}),_(ae)}catch(ae){console.error(ae),alert("  ")}finally{y(!1)}},[u,o,p,g,s]),j=E.useRef(u);E.useEffect(()=>{j.current=u},[u]);const D=E.useCallback(()=>{w(!0,j.current)},[w]),G=o!=null&&o.timeLimitMinutes?o.timeLimitMinutes*60:null,Y=vw(p!==null?null:G,D),Q=(K,z)=>h(ce=>({...ce,[K]:z}));if(!o)return f.jsx("div",{className:"p-10 text-center font-bold text-xl",children:"  ."});const B=(o.questions||[]).reduce((K,z)=>K+(z.points??1),0),le=Y!==null&&Y<=60,fe=Y!==null&&Y<=180&&Y>60;return f.jsxs("div",{className:"min-h-screen pb-24 relative z-10",children:[f.jsxs("div",{className:"science-gradient pt-28 pb-24 text-white text-center px-4",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-3",children:o.title}),o.description&&f.jsx("p",{className:"text-sky-100 text-lg",children:o.description}),Y!==null&&p===null&&f.jsxs("div",{className:`
            inline-flex items-center gap-3 mt-6 px-6 py-3 rounded-2xl font-extrabold text-2xl shadow-lg
            transition-all duration-500
            ${le?"bg-red-500 animate-pulse text-white":fe?"bg-amber-400 text-gray-900":"bg-white/20 text-white"}
          `,children:[f.jsx("svg",{className:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{dir:"ltr",children:xw(Y)})]}),!o.timeLimitMinutes&&f.jsx("div",{className:"inline-block mt-6 bg-white/10 px-4 py-2 rounded-full text-sm opacity-80",children:"      "})]}),f.jsx("div",{className:"max-w-3xl mx-auto px-4 -mt-16 relative z-10",children:p===null?f.jsxs(f.Fragment,{children:[v&&f.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-2xl text-center text-red-700 font-bold",children:"  !    ."}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl border shadow-lg space-y-8",children:[(o.questions||[]).map((K,z)=>{var ae;const ce=u[K.id]!==null&&u[K.id]!==void 0&&u[K.id]!=="";return f.jsxs("div",{className:`pb-6 border-b last:border-b-0 ${ce?"":"relative"}`,children:[f.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[f.jsx("span",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-extrabold
                        ${ce?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-500"}`,children:z+1}),f.jsxs("div",{className:"flex-1",children:[(!K.promptType||K.promptType==="text")&&f.jsx("h4",{className:"font-bold text-lg text-gray-800 leading-relaxed",children:K.prompt}),K.promptType==="image"&&K.promptImageUrl&&f.jsxs(f.Fragment,{children:[K.prompt&&f.jsx("p",{className:"font-bold mb-2 text-gray-700",children:K.prompt}),f.jsx("div",{className:"mb-3 flex justify-center",children:f.jsx("img",{src:K.promptImageUrl,alt:` ${z+1}`,className:"max-w-sm max-h-64 rounded-xl border shadow-sm"})})]}),f.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[": ",K.points??1]})]})]}),K.type==="mcq"&&f.jsx("div",{className:"space-y-2 mr-11",children:(ae=K.options)==null?void 0:ae.map((ye,Te)=>f.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all
                              ${String(u[K.id])===String(Te)?"bg-sky-50 border-sky-400 text-sky-800 font-semibold":"bg-gray-50 border-gray-100 hover:bg-gray-100 text-gray-700"}`,children:[f.jsx("input",{type:"radio",name:K.id,checked:String(u[K.id])===String(Te),onChange:()=>Q(K.id,Te),className:"accent-sky-500"}),f.jsx("span",{children:ye})]},Te))}),K.type!=="mcq"&&f.jsx("textarea",{className:"w-full p-3 border border-gray-200 rounded-xl mr-0 focus:ring-2 focus:ring-sky-300 focus:border-sky-400 outline-none resize-none",rows:3,placeholder:"  ...",value:u[K.id]??"",onChange:ye=>Q(K.id,ye.target.value)})]},K.id)}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>w(!1),disabled:g,className:"flex-1 py-3 bg-sky-600 hover:bg-sky-700 text-white rounded-xl font-bold transition-colors disabled:opacity-60",children:g?"  ...":"  "}),f.jsx("button",{onClick:()=>a(-1),className:"px-5 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-bold transition-colors",children:""})]})]})]}):f.jsxs("div",{className:"bg-white p-8 rounded-2xl border shadow-lg text-center",children:[v&&f.jsx("div",{className:"mb-6 p-3 bg-amber-50 border border-amber-200 rounded-xl text-amber-700 font-bold text-sm",children:"      "}),f.jsx("div",{className:"text-6xl mb-4",children:""}),f.jsx("h3",{className:"text-2xl font-extrabold text-gray-900 mb-2",children:" !"}),f.jsx("p",{className:"text-gray-500 mb-6",children:"     ."}),f.jsxs("div",{className:"inline-block bg-sky-50 border border-sky-200 rounded-2xl px-10 py-6 mb-6",children:[f.jsx("div",{className:"text-5xl font-extrabold text-sky-700",children:p}),f.jsxs("div",{className:"text-gray-500 font-medium mt-1",children:[" ",B," "]}),f.jsx("div",{className:"mt-2 w-full bg-sky-100 rounded-full h-3",children:f.jsx("div",{className:"bg-sky-500 h-3 rounded-full transition-all",style:{width:`${B>0?Math.round(p/B*100):0}%`}})}),f.jsxs("div",{className:"text-sm text-sky-600 font-bold mt-2",children:[B>0?Math.round(p/B*100):0,"%"]})]}),f.jsxs("div",{className:"flex gap-3 justify-center",children:[f.jsx("button",{onClick:()=>a("/"),className:"px-6 py-3 bg-sky-600 text-white rounded-xl font-bold hover:bg-sky-700 transition-colors",children:""}),f.jsx("button",{onClick:()=>a(-1),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:""})]})]})})]})},bw=()=>{const i=Kn(),{exams:n,getResultsForExam:s}=Qa(),[a,o]=E.useState(null),[u,h]=E.useState([]),[g,y]=E.useState(!1),[p,_]=E.useState(!1);E.useEffect(()=>{a&&v(a)},[a]);const v=async D=>{y(!0);try{const G=await s(D);h(G)}catch(G){console.error(G),h([])}finally{y(!1)}},b=()=>{if(!u||u.length===0)return alert("   ");const D=[["studentName","studentPhone","score","maxScore","submittedAt"]];u.forEach(le=>D.push([le.studentName||"",le.studentPhone||"",String(le.score),String(le.maxScore),new Date(le.submittedAt).toLocaleString()]));const G=D.map(le=>le.map(fe=>`"${String(fe).replace(/"/g,'""')}"`).join(",")).join(`
`),Y=new Blob([G],{type:"text/csv;charset=utf-8;"}),Q=URL.createObjectURL(Y),B=document.createElement("a");B.href=Q,B.download=`${a}_results.csv`,B.click(),URL.revokeObjectURL(Q)},w=()=>{if(u.length===0)return{avg:0,max:0,min:0};const D=u.reduce((Q,B)=>Q+(B.score||0),0)/u.length,G=Math.max(...u.map(Q=>Q.score||0)),Y=Math.min(...u.map(Q=>Q.score||0));return{avg:D,max:G,min:Y}},j=n.find(D=>D.id===a);return f.jsxs("div",{className:"min-h-screen pb-20 relative z-10",children:[f.jsxs("div",{className:"science-gradient pt-28 pb-20 text-white text-center px-4",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-3",children:" "}),f.jsx("p",{className:"text-sky-100 text-lg md:text-xl",children:"   "}),f.jsx("button",{onClick:()=>i(-1),className:"mt-6 inline-block bg-white/10 hover:bg-white/20 px-6 py-2 rounded-full transition-all text-sm md:text-base",children:"  "})]}),f.jsx("div",{className:"max-w-6xl mx-auto px-3 sm:px-6 -mt-10",children:f.jsx("div",{className:"bg-glass rounded-2xl p-4 sm:p-6 shadow-lg",children:f.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-4 md:gap-6",children:[f.jsxs("div",{className:"md:hidden mb-4",children:[f.jsx("label",{className:"font-bold block mb-2 text-gray-700",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>_(D=>!D),className:"w-full flex items-center justify-between p-3 bg-white border border-gray-200 rounded-xl shadow-sm font-medium text-gray-800",children:[f.jsx("span",{children:(j==null?void 0:j.title)??"..."}),f.jsx("svg",{className:`w-5 h-5 transition-transform ${p?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),p&&f.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[n.length===0&&f.jsx("div",{className:"p-3 text-gray-400 text-center",children:"  "}),n.map(D=>f.jsx("button",{onClick:()=>{o(D.id),_(!1)},className:`w-full text-right px-4 py-3 border-b last:border-b-0 text-sm font-medium transition-colors ${a===D.id?"bg-sky-50 text-sky-700":"hover:bg-gray-50 text-gray-700"}`,children:D.title},D.id))]})]})]}),f.jsxs("div",{className:"hidden md:block md:col-span-1",children:[f.jsx("h3",{className:"font-bold mb-3 text-gray-700",children:""}),f.jsxs("div",{className:"space-y-2",children:[n.map(D=>f.jsx("button",{onClick:()=>o(D.id),className:`w-full text-right p-3 rounded-xl text-sm font-medium transition-all border ${a===D.id?"bg-sky-100 border-sky-300 text-sky-700":"bg-white border-gray-100 hover:bg-gray-50 text-gray-700"}`,children:D.title},D.id)),n.length===0&&f.jsx("div",{className:"text-gray-400 text-sm p-2",children:"  "})]})]}),f.jsxs("div",{className:"md:col-span-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-2",children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:j?` ${j.title}`:"   "}),a&&f.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-sky-600 hover:bg-sky-700 text-white rounded-xl text-sm font-bold transition-colors shadow-sm",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})," CSV"]})]}),a&&f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-5",children:[{label:"",value:u.length,color:"bg-violet-50 text-violet-700 border-violet-100"},{label:"",value:w().avg.toFixed(1),color:"bg-sky-50 text-sky-700 border-sky-100"},{label:"",value:w().max,color:"bg-emerald-50 text-emerald-700 border-emerald-100"},{label:"",value:w().min,color:"bg-rose-50 text-rose-700 border-rose-100"}].map(D=>f.jsxs("div",{className:`rounded-xl border p-3 text-center ${D.color}`,children:[f.jsx("div",{className:"text-2xl font-extrabold",children:D.value}),f.jsx("div",{className:"text-xs font-semibold mt-1 opacity-80",children:D.label})]},D.label))}),g&&f.jsx("div",{className:"flex items-center justify-center py-16",children:f.jsx("div",{className:"w-10 h-10 border-4 border-sky-200 border-t-sky-500 rounded-full animate-spin"})}),!g&&a&&u.length===0&&f.jsxs("div",{className:"p-10 bg-white rounded-2xl text-center text-gray-400 border border-dashed border-gray-200",children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("p",{className:"font-medium",children:"      "})]}),!g&&!a&&f.jsxs("div",{className:"p-10 bg-white rounded-2xl text-center text-gray-400 border border-dashed border-gray-200",children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("p",{className:"font-medium",children:"     "})]}),!g&&u.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden sm:block overflow-auto bg-white rounded-2xl border border-gray-100 shadow-sm",children:f.jsxs("table",{className:"w-full text-right text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-sky-600 text-white",children:[f.jsx("th",{className:"px-4 py-3 font-bold rounded-tr-2xl",children:"#"}),f.jsx("th",{className:"px-4 py-3 font-bold",children:""}),f.jsx("th",{className:"px-4 py-3 font-bold",children:""}),f.jsx("th",{className:"px-4 py-3 font-bold",children:""}),f.jsx("th",{className:"px-4 py-3 font-bold",children:" "}),f.jsx("th",{className:"px-4 py-3 font-bold rounded-tl-2xl",children:""})]})}),f.jsx("tbody",{children:u.map((D,G)=>f.jsxs("tr",{className:`border-t border-gray-100 ${G%2===0?"bg-white":"bg-sky-50/50"}`,children:[f.jsx("td",{className:"px-4 py-3 text-gray-400 font-medium",children:G+1}),f.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:D.studentName||""}),f.jsx("td",{className:"px-4 py-3 text-gray-600",dir:"ltr",children:D.studentPhone||""}),f.jsx("td",{className:"px-4 py-3",children:f.jsx("span",{className:"font-bold text-sky-700 bg-sky-50 px-2 py-1 rounded-lg",children:D.score})}),f.jsx("td",{className:"px-4 py-3 text-gray-600",children:D.maxScore}),f.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:new Date(D.submittedAt).toLocaleString("ar-EG")})]},D.id))})]})}),f.jsx("div",{className:"sm:hidden space-y-3",children:u.map((D,G)=>f.jsxs("div",{className:`rounded-2xl border p-4 ${G%2===0?"bg-white border-gray-100":"bg-sky-50/60 border-sky-100"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:["#",G+1]}),f.jsxs("span",{className:"bg-sky-100 text-sky-700 font-extrabold text-lg px-3 py-1 rounded-xl",children:[D.score," / ",D.maxScore]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{className:"font-bold text-gray-800",children:D.studentName||""})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{className:"text-gray-600 text-sm",dir:"ltr",children:D.studentPhone||""})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{className:"text-gray-400 text-xs",children:new Date(D.submittedAt).toLocaleString("ar-EG")})]})]})]},D.id))})]})]})]})})})]})},Sw=()=>{const[i,n]=E.useState(1),[s,a]=E.useState(""),[o,u]=E.useState(""),[h,g]=E.useState("1st-prep"),[y,p]=E.useState(""),[_,v]=E.useState(!1),b=Kn(),{registerStudent:w,loginByPhone:j}=Wf(),D=async Y=>{if(Y.preventDefault(),!o.trim()){p("   ");return}const Q=o.trim().replace(/\s/g,"");if(Q.length<10){p("    ");return}v(!0),p("");try{const B=await j(Q);B?(sessionStorage.setItem("student_logged_in","true"),sessionStorage.setItem("student_name",B.name),sessionStorage.setItem("student_phone",B.phone),sessionStorage.setItem("student_level",B.level||"1st-prep"),sessionStorage.setItem("student_id",B.id||""),b("/")):n(2)}catch{p("     ")}finally{v(!1)}},G=async Y=>{if(Y.preventDefault(),!s.trim()){p("  ");return}v(!0);const Q=o.trim().replace(/\s/g,"");try{const B=await w(s.trim(),Q,h);sessionStorage.setItem("student_logged_in","true"),sessionStorage.setItem("student_name",s.trim()),sessionStorage.setItem("student_phone",Q),sessionStorage.setItem("student_level",h),B&&sessionStorage.setItem("student_id",B),b("/")}catch(B){p(B.message||"   ")}finally{v(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center relative z-10 px-4",children:f.jsxs("div",{className:"bg-glass rounded-[2.5rem] shadow-2xl p-10 md:p-16 text-center max-w-md w-full border border-white/50",children:[f.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-sky-500 to-teal-400 rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-lg shadow-sky-500/30",children:f.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),i===1?f.jsxs(f.Fragment,{children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),f.jsx("p",{className:"text-gray-500 mb-10 text-lg",children:"   "}),f.jsxs("form",{onSubmit:D,className:"space-y-5",children:[f.jsx("div",{children:f.jsx("input",{type:"tel",value:o,onChange:Y=>{u(Y.target.value),p("")},placeholder:" ",className:"w-full p-5 bg-white border border-gray-200 rounded-2xl text-center text-lg font-bold focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all shadow-sm",dir:"ltr",autoFocus:!0})}),y&&f.jsx("p",{className:"text-red-500 font-bold animate-fade-in",children:y}),f.jsx("button",{type:"submit",disabled:_,className:"w-full py-5 science-gradient text-white rounded-2xl font-bold text-xl hover:shadow-2xl transition-all transform active:scale-95 disabled:opacity-60",children:_?" ...":""})]})]}):f.jsxs("div",{className:"animate-fade-in",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),f.jsx("p",{className:"text-gray-500 mb-10 text-lg",children:"   .    ."}),f.jsxs("form",{onSubmit:G,className:"space-y-5",children:[f.jsx("div",{children:f.jsx("input",{type:"text",value:s,onChange:Y=>{a(Y.target.value),p("")},placeholder:"  ",className:"w-full p-5 bg-white border border-gray-200 rounded-2xl text-center text-lg font-bold focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all shadow-sm",autoFocus:!0})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-right text-gray-700 font-bold mb-2 mr-2",children:" :"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"1st-prep",label:"1 "},{id:"2nd-prep",label:"2 "},{id:"3rd-prep",label:"3 "}].map(Y=>f.jsx("button",{type:"button",onClick:()=>g(Y.id),className:`p-3 rounded-xl border-2 font-bold transition-all ${h===Y.id?"border-sky-500 bg-sky-50 text-sky-600":"border-gray-100 bg-white text-gray-500 hover:border-gray-200"}`,children:Y.label},Y.id))})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl text-gray-500 text-sm font-medium",children:[" : ",f.jsx("span",{dir:"ltr",className:"font-bold text-gray-800",children:o})]}),y&&f.jsx("p",{className:"text-red-500 font-bold animate-fade-in",children:y}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"button",onClick:()=>n(1),className:"flex-shrink-0 w-16 bg-gray-100 text-gray-600 rounded-2xl font-bold hover:bg-gray-200 transition-all",children:""}),f.jsx("button",{type:"submit",disabled:_,className:"flex-1 py-5 science-gradient text-white rounded-2xl font-bold text-xl hover:shadow-2xl transition-all transform active:scale-95 disabled:opacity-60",children:_?" ...":" "})]})]})]}),f.jsx("p",{className:"mt-6 text-sm text-gray-400",children:"      ."})]})})},Ew=()=>{const i=Kn(),{students:n,isLoading:s,removeStudent:a}=Wf(),[o,u]=E.useState(""),[h,g]=E.useState(null),[y,p]=E.useState("");E.useEffect(()=>{sessionStorage.getItem("admin_authenticated")!=="true"&&i("/admin-login")},[i]);const _=j=>{p(j),setTimeout(()=>p(""),3e3)},v=async j=>{await a(j),g(null),_("    ")},b=n.filter(j=>j.name.includes(o)||j.phone.includes(o)),w=j=>{try{return new Date(j).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return j}};return f.jsxs("div",{className:"min-h-screen pb-20 relative z-10",children:[f.jsxs("div",{className:"science-gradient pt-28 pb-20 text-white text-center px-4",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-3",children:" "}),f.jsx("p",{className:"text-sky-100 text-xl",children:"     "}),f.jsx("div",{className:"mt-6 flex justify-center gap-4",children:f.jsx(et,{to:"/admin",className:"bg-white/10 hover:bg-white/20 px-5 py-2 rounded-full transition-all text-sm",children:"   "})})]}),f.jsxs("div",{className:"max-w-6xl mx-auto px-4 -mt-10",children:[y&&f.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-6 py-4 rounded-2xl text-center font-bold text-lg animate-fade-in",children:y}),f.jsxs("div",{className:"bg-glass rounded-2xl shadow-lg p-6 mb-8 border border-white/50 flex flex-col md:flex-row items-center justify-between gap-4",children:[f.jsx("div",{className:"flex items-center gap-6",children:f.jsxs("div",{className:"bg-sky-50 p-4 rounded-2xl",children:[f.jsx("div",{className:"text-3xl font-extrabold text-sky-600",children:n.length}),f.jsx("div",{className:"text-sm text-gray-500 font-medium",children:" "})]})}),f.jsx("div",{className:"flex-1 max-w-md w-full",children:f.jsx("input",{type:"text",value:o,onChange:j=>u(j.target.value),placeholder:"     ...",className:"w-full p-4 bg-white border border-gray-200 rounded-xl focus:ring-4 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all text-right"})})]}),s?f.jsxs("div",{className:"text-center py-20",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-sky-200 border-t-sky-500 rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"   ..."})]}):b.length===0?f.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl border border-white/50 p-16 text-center",children:[f.jsx("svg",{className:"w-20 h-20 mx-auto mb-6 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),f.jsx("p",{className:"text-xl font-bold text-gray-400",children:o?"   ":"    "}),f.jsx("p",{className:"mt-2 text-gray-400",children:o?"   ":"     "})]}):f.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl border border-white/50 overflow-hidden",children:[f.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 p-6 border-b border-gray-100 bg-gray-50/50 font-bold text-gray-600 text-sm",children:[f.jsx("div",{className:"col-span-1 text-center",children:"#"}),f.jsx("div",{className:"col-span-3",children:""}),f.jsx("div",{className:"col-span-2",children:""}),f.jsx("div",{className:"col-span-2",children:" "}),f.jsx("div",{className:"col-span-2",children:" "}),f.jsx("div",{className:"col-span-1",children:" "}),f.jsx("div",{className:"col-span-1 text-center",children:""})]}),b.map((j,D)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-6 border-b border-gray-50 hover:bg-sky-50/30 transition-all items-center",children:[f.jsx("div",{className:"hidden md:flex col-span-1 justify-center",children:f.jsx("div",{className:"w-8 h-8 bg-sky-100 text-sky-600 rounded-lg flex items-center justify-center font-bold text-sm",children:D+1})}),f.jsx("div",{className:"col-span-3",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-400 to-teal-400 rounded-full flex items-center justify-center text-white font-bold flex-shrink-0",children:j.name.charAt(0)}),f.jsx("span",{className:"font-bold text-gray-900",children:j.name})]})}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("span",{className:"md:hidden font-bold text-gray-400 ml-2",children:":"}),f.jsx("span",{className:"inline-block px-3 py-1 bg-gray-100 rounded-full text-xs font-bold text-gray-600",children:j.level==="1st-prep"?"1 ":j.level==="2nd-prep"?"2 ":j.level==="3rd-prep"?"3 ":" "})]}),f.jsxs("div",{className:"col-span-2 text-gray-600",dir:"ltr",children:[f.jsx("span",{className:"md:hidden font-bold text-gray-400 ml-2",children:":"})," ",j.phone]}),f.jsxs("div",{className:"col-span-2 text-gray-500 text-sm",children:[f.jsx("span",{className:"md:hidden font-bold text-gray-400 ml-2",children:":"}),w(j.loginDate)]}),f.jsxs("div",{className:"col-span-1 text-gray-500 text-sm",children:[f.jsx("span",{className:"md:hidden font-bold text-gray-400 ml-2",children:" :"}),w(j.lastSeen)]}),f.jsx("div",{className:"col-span-1 flex justify-center",children:f.jsx("button",{onClick:()=>g(j.id),className:"p-2 bg-red-50 text-red-500 rounded-lg hover:bg-red-100 transition-all",title:" ",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},j.id))]})]}),h&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4 animate-fade-in",children:f.jsxs("div",{className:"bg-white rounded-3xl p-10 max-w-md w-full text-center shadow-2xl",children:[f.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),f.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"  "}),f.jsx("p",{className:"text-gray-500 mb-8",children:"        "}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("button",{onClick:()=>g(null),className:"flex-1 py-4 bg-gray-100 text-gray-700 rounded-2xl font-bold hover:bg-gray-200 transition-all",children:""}),f.jsx("button",{onClick:()=>v(h),className:"flex-1 py-4 bg-red-500 text-white rounded-2xl font-bold hover:bg-red-600 transition-all",children:""})]})]})})]})};class Nw extends E.Component{constructor(n){super(n),this.state={hasError:!1,error:null,info:null}}componentDidCatch(n,s){console.error("Uncaught error:",n,s),this.setState({hasError:!0,error:n,info:s})}render(){var a,o,u;const n=this.state,s=(a=this.props)==null?void 0:a.children;return n.hasError?f.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:f.jsxs("div",{className:"max-w-4xl w-full bg-white rounded-2xl shadow p-6 border",children:[f.jsx("h2",{className:"text-2xl font-bold mb-3",children:"   "}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"       ."}),f.jsx("div",{className:"mb-4",children:f.jsxs("details",{className:"whitespace-pre-wrap bg-gray-50 p-3 rounded",children:[f.jsx("summary",{className:"cursor-pointer font-medium",children:"  "}),f.jsx("pre",{className:"text-xs mt-2",children:String((o=n.error)==null?void 0:o.stack)||String(n.error)}),f.jsx("pre",{className:"text-xs mt-2",children:String((u=n.info)==null?void 0:u.componentStack)})]})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-sky-600 text-white rounded",children:"  "}),f.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,info:null})},className:"px-4 py-2 bg-gray-100 rounded",children:""})]})]})}):s??null}}const Cw=()=>f.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden science-grid",children:[f.jsx("div",{className:"absolute top-[10%] left-[5%] animate-science-float text-sky-400/20",children:f.jsxs("svg",{width:"180",height:"180",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5",children:[f.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor"}),f.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"3",transform:"rotate(45 12 12)"}),f.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"3",transform:"rotate(-45 12 12)"}),f.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"3",transform:"rotate(90 12 12)"})]})}),f.jsx("div",{className:"absolute bottom-[10%] right-[8%] animate-science-sway text-teal-400/20",style:{animationDelay:"2s"},children:f.jsxs("svg",{width:"140",height:"140",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5",children:[f.jsx("path",{d:"M6 18h8m-8-3h5m-2-3h2m-2-3h2m-6 9V4a2 2 0 012-2h1m2 0h1a2 2 0 012 2v1m-4 2l4 4m-4 0l4-4"}),f.jsx("path",{d:"M12 18l3 3m0-3l-3 3M9 22h9"})]})}),f.jsx("div",{className:"absolute top-[40%] right-[12%] animate-science-float text-sky-500/10",style:{animationDelay:"4s"},children:f.jsx("svg",{width:"80",height:"160",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:f.jsx("path",{d:"M8 3c4 4 4 14 0 18M16 3c-4 4-4 14 0 18M8 7h8M8 12h8M8 17h8"})})}),f.jsx("div",{className:"absolute bottom-[40%] left-[10%] animate-science-pulse text-teal-500/20",children:f.jsx("svg",{width:"100",height:"100",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5",children:f.jsx("path",{d:"M9 3h6M10 3v15a2 2 0 002 2 2 2 0 002-2V3m-4 10h4"})})}),f.jsx("div",{className:"absolute top-[20%] right-[40%] w-3 h-3 rounded-full bg-sky-300 animate-science-pulse"}),f.jsx("div",{className:"absolute top-[25%] right-[42%] w-2 h-2 rounded-full bg-teal-300 animate-science-pulse",style:{animationDelay:"1s"}}),f.jsx("div",{className:"absolute bottom-[30%] left-[45%] w-4 h-4 rounded-full bg-sky-200 animate-science-pulse",style:{animationDelay:"2s"}}),f.jsx("div",{className:"absolute bottom-[15%] left-[25%] w-2 h-2 rounded-full bg-teal-200 animate-science-pulse",style:{animationDelay:"1.5s"}})]}),ww=()=>{const{levels:i,isLoading:n}=Al(),[s,a]=E.useState(!1),[o,u]=E.useState(null),{exams:h,isLoading:g}=Qa();if(E.useEffect(()=>{const _=sessionStorage.getItem("student_logged_in")==="true",v=sessionStorage.getItem("student_level");a(_),u(v)},[]),n||g)return f.jsx("div",{className:"min-h-screen flex items-center justify-center relative z-10",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-sky-200 border-t-sky-500 rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-gray-500 text-lg font-medium",children:" ..."})]})});const y=s?i.filter(_=>_.id===o):[],p=s&&o?h.filter(_=>_.published&&_.levelId===o):[];return f.jsxs("div",{className:"relative",children:[f.jsx(dw,{}),s&&f.jsxs("section",{id:"levels",className:"py-24 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-4xl font-extrabold text-gray-900",children:" "}),f.jsx("div",{className:"mt-4 h-1.5 w-24 bg-sky-500 mx-auto rounded-full"}),f.jsx("p",{className:"mt-6 text-gray-600 max-w-2xl mx-auto text-lg",children:"      ."})]}),y.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 justify-center",children:y.map(_=>f.jsx(fw,{data:_},_.id))}):f.jsxs("div",{className:"text-center p-10 bg-white/50 rounded-3xl border border-gray-100",children:[f.jsx("p",{className:"text-xl text-gray-500 font-bold",children:"      ."}),f.jsx(et,{to:"/student-login",className:"mt-4 inline-block text-sky-600 font-bold hover:underline",children:"   "})]}),s&&f.jsxs("section",{className:"mt-16",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h3",{className:"text-3xl font-extrabold",children:" "}),f.jsx("p",{className:"text-gray-500 mt-2",children:"       "})]}),f.jsx("div",{className:"max-w-4xl mx-auto px-4",children:p.length===0?f.jsx("div",{className:"p-8 bg-white rounded-2xl text-center text-gray-500",children:"     ."}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(_=>{var v;return f.jsxs("div",{className:"p-6 bg-white rounded-2xl border flex flex-col justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg",children:_.title}),f.jsx("p",{className:"text-sm text-gray-500 mt-2",children:_.description}),f.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[": ",((v=_.questions)==null?void 0:v.length)??0,"  : ",_.timeLimitMinutes??" "]})]}),f.jsx("div",{className:"mt-4",children:f.jsx(et,{to:`/exam/${_.id}`,className:"px-4 py-3 bg-sky-600 text-white rounded-xl",children:" "})})]},_.id)})})})]})]}),!s&&f.jsx("section",{className:"py-16 max-w-4xl mx-auto px-4 relative z-10 text-center",children:f.jsxs("div",{className:"bg-gradient-to-br from-sky-500 to-teal-400 rounded-[3rem] p-12 text-white shadow-xl shadow-sky-200 transform hover:scale-[1.02] transition-all duration-500",children:[f.jsx("h2",{className:"text-4xl font-extrabold mb-6",children:"   "}),f.jsx("p",{className:"text-xl opacity-90 mb-10 max-w-2xl mx-auto",children:"           ."}),f.jsx(et,{to:"/student-login",className:"inline-block bg-white text-sky-600 px-10 py-4 rounded-2xl font-bold text-xl hover:bg-sky-50 transition-all shadow-lg hover:shadow-xl transform active:scale-95",children:"  "})]})})]})},tx=({lesson:i,levelId:n})=>{var v;const{updateLesson:s}=Al(),[a,o]=E.useState(()=>i.codes&&i.codes.length>0?sessionStorage.getItem(`video_unlocked_${i.id}`)!=="true":!!i.code),[u,h]=E.useState(""),[g,y]=E.useState("");E.useEffect(()=>{if(i.codes&&i.codes.length>0){const b=sessionStorage.getItem(`video_unlocked_${i.id}`);o(b!=="true")}else o(!!i.code)},[i.id,i.code,i.codes]);const p=async b=>{if(b.preventDefault(),i.codes&&i.codes.length>0){const w=u.trim(),j=i.codes.find(Y=>Y.value===w);if(!j){y("  ");return}if(j.used){y("   ");return}const D=sessionStorage.getItem("student_phone")||sessionStorage.getItem("student_name")||null,G=(i.codes||[]).map(Y=>Y.value===w?{...Y,used:!0,assignedTo:D}:Y);try{await s(n,i.id,{codes:G}),o(!1),sessionStorage.setItem(`video_unlocked_${i.id}`,"true"),y("")}catch(Y){console.error("Failed to mark code used",Y),y("    ")}return}u.trim()===i.code?(o(!1),sessionStorage.setItem(`video_unlocked_${i.id}`,"true"),y("")):y("  ")},_=i.videos&&i.videos.length>0?i.videos:i.videoUrl?[{id:"legacy-"+i.id,title:i.title,videoUrl:i.videoUrl}]:[];return f.jsxs("div",{className:"space-y-8",children:[a&&((((v=i.codes)==null?void 0:v.length)??0)>0||i.code)&&f.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl border border-white/50 p-12 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx("span",{className:"text-5xl",children:""})}),f.jsx("h3",{className:"text-white font-bold mb-2 text-2xl",children:"   "}),i.codes&&i.codes.length>0&&i.codes.every(b=>b.used)?f.jsxs("div",{className:"text-gray-300 max-w-xs mx-auto mt-4",children:[f.jsx("p",{className:"mb-2",children:"     ."}),f.jsx("p",{children:"       ."})]}):f.jsxs("form",{onSubmit:p,className:"w-full max-w-xs space-y-3 mt-6 mx-auto",children:[f.jsx("input",{type:"text",value:u,onChange:b=>h(b.target.value),placeholder:"  ",className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 text-white text-center focus:ring-2 focus:ring-sky-500 outline-none"}),g&&f.jsx("p",{className:"text-red-400 text-sm font-bold",children:g}),f.jsx("button",{type:"submit",className:"w-full py-2 bg-sky-600 hover:bg-sky-700 text-white rounded-lg font-bold transition-colors",children:""})]})]}),!a&&_.map((b,w)=>f.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl overflow-hidden border border-white/50 flex flex-col",children:[f.jsx("div",{className:"aspect-video relative bg-black overflow-hidden",children:b.videoUrl&&(b.videoUrl.startsWith("data:")||b.videoUrl.endsWith(".mp4"))?f.jsx("video",{className:"w-full h-full",src:b.videoUrl,controls:!0,controlsList:"nodownload",onContextMenu:j=>(j.preventDefault(),!1)}):f.jsx("iframe",{className:"w-full h-full",src:b.videoUrl,title:b.title,allowFullScreen:!0})}),f.jsxs("div",{className:"p-8",children:[f.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:[" ",b.title]}),b.description&&f.jsx("p",{className:"text-gray-500 leading-relaxed",children:b.description}),_.length>1&&f.jsxs("p",{className:"text-gray-400 text-sm mt-4",children:[" ",w+1,"  ",_.length]})]})]},b.id))]})},Tw=()=>{const{levelId:i}=Bo(),{levels:n}=Al(),s=n.find(a=>a.id===i);return s?f.jsxs("div",{className:"min-h-screen pb-32 relative z-10",children:[f.jsxs("div",{className:"science-gradient pt-32 pb-48 text-white text-center px-4",children:[f.jsx("h1",{className:"text-5xl font-extrabold mb-4",children:s.titleAr}),f.jsx("p",{className:"text-sky-100 text-2xl",children:"  "}),f.jsx(et,{to:"/",className:"mt-8 inline-block bg-white/10 hover:bg-white/20 px-6 py-2 rounded-full transition-all",children:"  "})]}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-32",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:(s.lessons||[]).map(a=>f.jsx(et,{to:`/level/${i}/videos/${a.id}`,className:"block group",children:f.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl overflow-hidden border border-white/50 hover:shadow-2xl transition-all transform hover:scale-105",children:[f.jsxs("div",{className:"aspect-video relative bg-black",style:a.coverImage?{backgroundImage:`url(${a.coverImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{backgroundColor:"#000"},children:[a.videoUrl&&(a.videoUrl.startsWith("data:")||a.videoUrl.endsWith(".mp4"))?f.jsx("div",{className:"absolute top-2 right-2",children:f.jsx("span",{className:"bg-white/40 text-xs px-2 py-1 rounded",children:""})}):null,f.jsx("div",{className:"absolute inset-0 bg-black/30 group-hover:bg-black/50 transition-all flex items-end p-4",children:f.jsx("div",{children:f.jsx("h3",{className:"text-white text-lg font-bold",children:a.title})})})]}),f.jsx("div",{className:"p-4",children:f.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:a.description})})]})},a.id))})})]}):f.jsx("div",{className:"p-20 text-center font-bold text-2xl",children:"  ."})},iy=({type:i})=>{const{levelId:n}=Bo(),{levels:s}=Al(),a=s.find(o=>o.id===n);return a?f.jsxs("div",{className:"min-h-screen pb-32 relative z-10",children:[f.jsxs("div",{className:"science-gradient pt-32 pb-48 text-white text-center px-4",children:[f.jsx("h1",{className:"text-5xl font-extrabold mb-4",children:a.titleAr}),f.jsx("p",{className:"text-sky-100 text-2xl",children:i==="videos"?"  ":"  "}),f.jsx(et,{to:"/",className:"mt-8 inline-block bg-white/10 hover:bg-white/20 px-6 py-2 rounded-full transition-all",children:"  "})]}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-32",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:[i==="notes"&&(a.lessons||[]).filter(o=>o.pdfUrl&&o.pdfUrl.trim()!=="").length===0&&f.jsxs("div",{className:"col-span-3 text-center py-20 text-gray-400",children:[f.jsx("div",{className:"text-5xl mb-4",children:""}),f.jsx("p",{className:"text-xl font-bold",children:"     "})]}),(i==="notes"?(a.lessons||[]).filter(o=>o.pdfUrl&&o.pdfUrl.trim()!==""):a.lessons||[]).map(o=>f.jsx(ay.Fragment,{children:i==="videos"?f.jsx(tx,{lesson:o,levelId:a.id}):f.jsxs("div",{className:"bg-glass rounded-[2rem] shadow-xl overflow-hidden border border-white/50 flex flex-col hover:shadow-2xl transition-all group",children:[f.jsx("div",{className:"h-48 bg-teal-50 flex items-center justify-center text-teal-600",children:f.jsxs("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 20 20",children:[f.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),f.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),f.jsxs("div",{className:"p-8",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:o.title}),f.jsx("p",{className:"text-gray-500 leading-relaxed mb-8",children:o.description}),f.jsxs("a",{href:o.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"w-full py-4 bg-teal-600 text-white rounded-2xl font-bold hover:bg-teal-700 transition-all flex items-center justify-center gap-3 shadow-lg shadow-teal-600/20",children:[f.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})," "]})]})]})},o.id))]})})]}):f.jsx("div",{className:"p-20 text-center font-bold text-2xl",children:"  ."})},jw=()=>{var u;const{levelId:i,lessonId:n}=Bo(),{levels:s}=Al(),a=s.find(h=>h.id===i),o=(u=a==null?void 0:a.lessons)==null?void 0:u.find(h=>h.id===n);return!a||!o?f.jsx("div",{className:"p-20 text-center font-bold text-2xl",children:"  ."}):f.jsxs("div",{className:"min-h-screen pb-32 relative z-10",children:[f.jsxs("div",{className:"science-gradient pt-32 pb-12 text-white text-center px-4",children:[f.jsx(et,{to:`/level/${i}/courses`,className:"inline-block bg-white/10 hover:bg-white/20 px-6 py-2 rounded-full transition-all mb-4",children:"  "}),f.jsx("h1",{className:"text-4xl font-extrabold mb-4",children:o.title})]}),f.jsx("div",{className:"max-w-4xl mx-auto px-4 -mt-12",children:f.jsx(tx,{lesson:o,levelId:a.id})})]})},Aw=()=>f.jsx(Z1,{children:f.jsxs("div",{className:"min-h-screen flex flex-col relative bg-slate-50",children:[f.jsx(Cw,{}),f.jsx(uw,{}),f.jsx("main",{className:"flex-grow",children:f.jsx(Nw,{children:f.jsxs(C1,{children:[f.jsx(It,{path:"/",element:f.jsx(ww,{})}),f.jsx(It,{path:"/level/:levelId/courses",element:f.jsx(Tw,{})}),f.jsx(It,{path:"/level/:levelId/videos/:lessonId",element:f.jsx(jw,{})}),f.jsx(It,{path:"/level/:levelId/videos",element:f.jsx(iy,{type:"videos"})}),f.jsx(It,{path:"/level/:levelId/notes",element:f.jsx(iy,{type:"notes"})}),f.jsx(It,{path:"/admin-login",element:f.jsx(mw,{})}),f.jsx(It,{path:"/admin",element:f.jsx(pw,{})}),f.jsx(It,{path:"/admin/exams",element:f.jsx(gw,{})}),f.jsx(It,{path:"/admin/exam-results",element:f.jsx(bw,{})}),f.jsx(It,{path:"/exams",element:f.jsx(yw,{})}),f.jsx(It,{path:"/exam/:examId",element:f.jsx(_w,{})}),f.jsx(It,{path:"/student-login",element:f.jsx(Sw,{})}),f.jsx(It,{path:"/admin/students",element:f.jsx(Ew,{})})]})})}),f.jsx("footer",{className:"bg-gray-900 text-gray-400 py-20 px-4 relative z-10",children:f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12 items-center text-center md:text-right",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-white text-2xl font-extrabold mb-4",children:"  "}),f.jsx("p",{className:"text-lg",children:"        ."})]}),f.jsxs("div",{className:"flex justify-center gap-6",children:[f.jsx("a",{href:"https://www.facebook.com/share/16t9uVs1Q1/",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center hover:bg-sky-500 hover:text-white transition-all",title:"",children:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),f.jsx("a",{href:"https://youtube.com/@safaaesmail7729?si=7Pw4o4EbbIpmhgAc",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center hover:bg-red-500 hover:text-white transition-all",title:"",children:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),f.jsx("a",{href:"https://wa.me/201222966617",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center hover:bg-green-500 hover:text-white transition-all",title:"",children:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})})]}),f.jsxs("div",{className:"text-sm",children:[" ",new Date().getFullYear(),"        "]})]})})]})});typeof document<"u"&&(document.documentElement.style.scrollBehavior="smooth");const nx=document.getElementById("root");if(!nx)throw new Error("Could not find root element to mount to");const Rw=jb.createRoot(nx);Rw.render(f.jsx(ay.StrictMode,{children:f.jsx(Aw,{})}));
